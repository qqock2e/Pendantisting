<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="build-time" content="2025-09-07T19:19:41">
    <title>펜던티스트</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        .glow-button {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .glow-button:hover, .glow-button:active {
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.8);
            transform: translateY(-2px);
        }
        .currency-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        .gacha-button {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .gacha-button:hover, .gacha-button:active {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(245, 87, 108, 0.4);
        }
        .point-button {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        /* 등급별 배경색 */
        .grade-common {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #495057;
        }
        .grade-rare {
            background: linear-gradient(135deg, #51cf66 0%, #40c057 100%);
            color: white;
        }
        .grade-epic {
            background: linear-gradient(135deg, #9775fa 0%, #845ef7 100%);
            color: white;
        }
        .grade-legendary {
            background: linear-gradient(135deg, #ffd43b 0%, #fab005 100%);
            color: #495057;
        }
        .grade-unique {
            background: linear-gradient(45deg, #ff6b6b 0%, #feca57 16.66%, #48dbfb 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-special {
            background: linear-gradient(45deg, #ff6b6b 0%, #fab005 16.66%, #fa5005 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-event {
            background: linear-gradient(45deg, #ff6b6b 0%, #fa6347 16.66%, #f6b65a 33.33%, #599468 50%, #0099ff 83.33%, #bf9424 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 모바일 최적화 */
        @media (max-width: 640px) {
            .currency-card {
                padding: 1rem;
                min-width: 120px;
            }
            .currency-card .text-3xl {
                font-size: 1.5rem;
            }
            .point-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            .gacha-button {
                padding: 1.25rem 2.5rem;
                font-size: 1.125rem;
            }
        }
        
        @media (max-width: 480px) {
            .currency-card {
                padding: 0.75rem;
                min-width: 100px;
            }
            .currency-card .text-3xl {
                font-size: 1.25rem;
            }
            .point-button {
                padding: 0.875rem 1.5rem;
                font-size: 0.875rem;
            }
            .gacha-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex flex-col items-center justify-center p-4">
    
    <!-- 메인 UI 영역 -->
    <div id="mainUI" class="transition-opacity duration-500">
        <!-- 재화 표시 영역 -->
        <div class="flex gap-4 sm:gap-6 mb-8 sm:mb-12">
            <!-- 포인트 -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">포인트</div>
                <div id="points" class="text-3xl font-bold">0</div>
            </div>
            
            <!-- 프리즘 -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">프리즘</div>
                <div id="prisms" class="text-3xl font-bold">0</div>
            </div>
        </div>

        <!-- 게임 버튼 영역 -->
        <div class="flex flex-col items-center gap-4 sm:gap-6">
            <!-- 상단 버튼들 -->
            <div class="flex gap-4 items-center">
                <!-- 포인트 획득 버튼 -->
                <button id="earnPointsBtn" class="point-button glow-button px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation">
                    ✨ 포인트 획득 ✨
                </button>
                
                <!-- 인벤토리 버튼 -->
                <button id="inventoryBtn" class="bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    🎒 인벤토리
                </button>
                
                <!-- 설정 버튼 -->
                <button id="settingsBtn" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    ⚙️ 설정
                </button>
            </div>
            
            <!-- 상점 버튼 -->
            <button id="shopBtn" class="gacha-button px-16 py-5 rounded-full text-white font-bold text-2xl shadow-2xl touch-manipulation">
                🏪 상점 🏪
            </button>
            <!-- 코드 입력 영역 -->
                <div class="mt-4 flex flex-col items-center gap-2">
                    <label for="codeInput" class="text-white text-sm">🎁 코드 입력</label>
                    <div class="flex gap-2">
                        <input id="codeInput" type="text" 
                           placeholder="코드를 입력하세요"
                           class="px-3 py-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-400" />
                        <button id="redeemCodeBtn"
                                class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 px-4 py-2 rounded-lg text-white font-bold transition-all duration-300">
                            확인
                        </button>
                    </div>
                    <p id="codeMessage" class="text-xs text-gray-300 mt-1"></p>
                </div>
            <!-- 패치노트 버튼 -->
<div class="absolute bottom-4 right-4">
  <button id="patchNoteBtn"
          class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-lg text-sm">
    패치노트
  </button>
</div>
            <!-- 장착된 보석 표시 -->
            <div id="equippedGemDisplay" class="mt-4 bg-white bg-opacity-10 rounded-xl p-4 text-center text-white opacity-0 transition-all duration-300">
                <div class="text-sm opacity-80 mb-2">장착된 보석</div>
                <div id="equippedGemIcon" class="text-3xl mb-2">💎</div>
                <div id="equippedGemName" class="font-bold mb-1">보석 이름</div>
                <div id="equippedGemStats" class="text-sm opacity-80">코러스 +1</div>
            </div>
        </div>

        <!-- 결과 메시지 -->
        <div id="message" class="mt-6 sm:mt-8 text-center text-white font-medium text-base sm:text-lg opacity-0 transition-opacity duration-300 px-4"></div>
    </div>

    <!-- 뽑기 모션 화면 -->
    <div id="gachaScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="text-center">
            <!-- 원석 이미지 (나중에 실제 이미지로 교체 가능) -->
            <div id="gemstone" class="w-32 h-32 sm:w-40 sm:h-40 bg-gray-300 rounded-lg mx-auto mb-6 cursor-pointer transform transition-all duration-300 hover:scale-110 shadow-2xl flex items-center justify-center text-4xl">
                💎
            </div>
            <p id="gachaText" class="text-white text-lg sm:text-xl font-medium">원석을 클릭하세요!</p>
        </div>
    </div>

    <!-- 등급 공개 화면 -->
    <div id="revealScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000">
        <div class="text-center">
            <div id="gradeText" class="text-6xl sm:text-8xl font-bold mb-4 drop-shadow-2xl"></div>
            <p id="revealMessage" class="text-white text-xl sm:text-2xl font-medium mb-8">등급이 공개되었습니다!</p>
            <button id="continueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                계속하기
            </button>
        </div>
    </div>

    <!-- 보석 획득 화면 -->
    <div id="gemRewardScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
        <div class="text-center max-w-4xl w-full px-4">
            <!-- 단일 보석 표시 (1회 뽑기용) -->
            <div id="singleReward" class="hidden">
                <div id="rewardGemImage" class="w-24 h-24 sm:w-32 sm:h-32 bg-yellow-400 rounded-full mx-auto mb-6 shadow-2xl flex items-center justify-center text-3xl sm:text-4xl">
                    💎
                </div>
                <div id="rewardText" class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">1보석 획득!</div>
            </div>
            
            <!-- 다중 보석 표시 (10회 뽑기용) -->
            <div id="multipleReward" class="hidden">
                <div class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">10개 보석 획득!</div>
                <div id="multipleGemGrid" class="grid grid-cols-5 gap-4 mb-8 max-w-2xl mx-auto">
                    <!-- 10개 보석이 여기에 표시됩니다 -->
                </div>
            </div>
            
            <button id="finalContinueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                확인
            </button>
        </div>
    </div>

    <!-- 상점 메인 화면 -->
    <div id="shopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- 상점 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">🏪 상점</h2>
                <button id="closeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 상점 메뉴 -->
            <div class="space-y-4">
                <button onclick="openGachaShop()" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    ⛏️ 원석 채굴장
                </button>
                <button onclick="openVolumeShop()" class="w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    📦 볼륨 상점
                </button>
            </div>
        </div>
    </div>

    <!-- 원석 채굴장 화면 -->
    <div id="gachaShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl max-h-[90vh] p-6 flex flex-col">
            <!-- 채굴장 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">⛏️ 원석 채굴장</h2>
                <button id="closeGachaShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 뽑기 목록 (스크롤 가능) -->
            <div class="space-y-4 overflow-y-auto flex-1 pr-2" style="scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.3) transparent;">
                <style>
                    /* 웹킷 브라우저용 스크롤바 스타일 */
                    .space-y-4::-webkit-scrollbar {
                        width: 6px;
                    }
                    .space-y-4::-webkit-scrollbar-track {
                        background: rgba(255,255,255,0.1);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb {
                        background: rgba(255,255,255,0.3);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb:hover {
                        background: rgba(255,255,255,0.5);
                    }
                </style>
                <!-- 초심자의 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🪨 초심자의 원석</h3>
                        <p class="text-gray-300 text-sm">기본적인 보석이 나오는 원석입니다</p>
                        <p class="text-blue-300 font-medium">💰 10 포인트 | 💰 100 포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('beginner')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('beginner', 10)" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 빛나는 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">✨ 빛나는 원석</h3>
                        <p class="text-gray-300 text-sm">균형잡힌 확률의 원석입니다</p>
                        <p class="text-purple-300 font-medium">💎 5 프리즘 | 💎 50 프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('normal')" class="bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('normal', 10)" class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 영롱한 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🌟 영롱한 원석</h3>
                        <p class="text-gray-300 text-sm">고급 보석이 더 잘 나오는 원석입니다</p>
                        <p class="text-purple-300 font-medium">💎 30 프리즘 | 💎 300 프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('premium')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('premium', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 시즌 픽업 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">💎 0.5 시즌 픽업 원석</h3>
                        <p class="text-gray-300 text-sm">스카이 시즌 메인 보석인 에픽:오팔, 스페셜:???,???이 높은 확률로 나오는 원석입니다.</p>
                        <p class="text-purple-300 font-medium">💎 50프리즘 | 💎 500프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('luxury')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('luxury', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>

                <!-- 포인트 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">💰 포인트 원석</h3>
                        <p class="text-gray-300 text-sm">포인트를 사용하는 고급 원석입니다.</p>
                        <p class="text-purple-300 font-medium">💰 100,000 포인트 | 💰 1,000,000 포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('pointer')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('pointer', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>

                <!-- 이벤트 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🎁 이벤트 원석</h3>
                        <p class="text-gray-300 text-sm">이벤트 등급 정제된 원석을 뽑을 수 있는 원석입니다.</p>
                        <p class="text-purple-300 font-medium">차스티움x1 + 50,000 포인트 | 차스티움x10 + 500,000포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('event')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('event', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- 볼륨 상점 화면 -->
    <div id="volumeShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl p-6">
            <!-- 볼륨 상점 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">📦 볼륨 상점</h2>
                <button id="closeVolumeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 볼륨 목록 -->
            <div class="space-y-4">
                <!-- 멀티 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">🔢 멀티 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 배율을 합연산으로 더해줍니다</p>
                            <p class="text-blue-300 font-medium">💰 100,000 포인트</p>
                            <p id="multiVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyMultiVolumeBtn" onclick="buyVolume('multi')" class="bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
                
                <!-- 코러스 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">🎵 코러스 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 코러스를 더해줍니다</p>
                            <p class="text-blue-300 font-medium">💰 55,000 포인트</p>
                            <p id="chorusVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyChorusVolumeBtn" onclick="buyVolume('chorus')" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
                
                <!-- 럭스 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">✨ 럭스 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 휘광 확률을 더해줍니다</p>
                            <p class="text-purple-300 font-medium">💎 100 프리즘 + 전설 이상 보석 1개</p>
                            <p id="luxVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyLuxVolumeBtn" onclick="buyVolume('lux')" class="bg-gradient-to-r from-yellow-400 to-pink-500 hover:from-yellow-500 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 설정 화면 -->
    <div id="settingsScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- 설정 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">⚙️ 설정</h2>
                <button id="closeSettingsBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 설정 옵션들 -->
            <div class="space-y-4">
                <!-- 수동 저장 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">💾 게임 저장</h3>
                    <p class="text-gray-300 text-sm mb-3">게임이 자동으로 저장되지만, 수동으로도 저장할 수 있습니다.</p>
                    <button onclick="saveGameData(); showMessage('게임이 저장되었습니다!', 'text-green-300')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        저장하기
                    </button>
                </div>
                
                <!-- 데이터 초기화 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">🗑️ 데이터 초기화</h3>
                    <p class="text-gray-300 text-sm mb-3">모든 게임 데이터를 삭제하고 처음부터 시작합니다.</p>
                    <button onclick="resetGameData()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        초기화
                    </button>
                </div>
                
                <!-- 저장 정보 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">📊 저장 정보</h3>
                    <div id="saveInfo" class="text-gray-300 text-sm">
                        <p>• 데이터는 브라우저에 자동 저장됩니다</p>
                        <p>• 브라우저 데이터를 삭제하면 게임 데이터도 사라집니다</p>
                        <p>• 같은 브라우저에서만 데이터가 유지됩니다</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 인벤토리 화면 -->
    <div id="inventoryScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-4xl h-5/6 max-h-96 sm:max-h-screen sm:h-4/5 p-6 flex flex-col">
            <!-- 인벤토리 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">🎒 인벤토리</h2>
                <button id="closeInventoryBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 인벤토리 내용 -->
            <div class="flex flex-1 gap-6 overflow-hidden">
                <!-- 좌측: 보석 리스트 -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <h3 class="text-lg font-bold text-white mb-4">보석 목록</h3>
                    <div id="gemList" class="grid grid-cols-3 sm:grid-cols-4 gap-3">
                        <!-- 보석들이 여기에 동적으로 추가됩니다 -->
                    </div>
                </div>
                
                <!-- 우측: 보석 상세 정보 및 장착 슬롯 -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <!-- 장착 슬롯 -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-white mb-3">장착 슬롯</h3>
                        <div id="equipmentSlots" class="grid grid-cols-2 gap-2 mb-4">
                            <!-- 장착 슬롯들이 여기에 동적으로 추가됩니다 -->
                        </div>
                        <div class="text-xs text-gray-400">
                            <span id="slotInfo">슬롯 1/1 사용 중</span>
                        </div>
                    </div>
                    
                    <!-- 보석 상세 정보 -->
                    <div id="gemDetails" class="text-center text-white">
                        <div class="text-6xl mb-4">💎</div>
                        <h3 class="text-xl font-bold mb-2">보석을 선택하세요</h3>
                        <p class="text-gray-300">좌측에서 보석을 클릭하면 상세 정보가 표시됩니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 패치노트 모달 -->
<div id="patchNoteModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 max-h-[80vh] overflow-y-auto p-6 relative">
    <h2 class="text-lg font-bold mb-4">📜 패치노트</h2>
    <pre id="patchNoteContent" class="text-sm whitespace-pre-wrap text-gray-800"></pre>
    <button id="closePatchNote" 
            class="absolute top-2 right-2 text-gray-500 hover:text-black">✖</button>
  </div>
</div>
    <!-- 매크로 감지 모달 -->
<div id="macroModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 p-6 text-center relative">
    <p class="text-lg font-bold text-red-600 mb-4">🚨 경고</p>
    <p id="macroText" class="text-gray-800">
      메크로가 감지되었습니다.<br>
      30초간 아무 입력이 없으면 자동으로 닫힙니다.
    </p>
  </div>
</div>
    <script>
        const _0x581f1b=_0x2756;(function(_0x4cc0d7,_0x205005){const _0x29cffa=_0x2756,_0x2a46a4=_0x4cc0d7();while(!![]){try{const _0x220b92=-parseInt(_0x29cffa(0x2b7))/0x1*(parseInt(_0x29cffa(0x222))/0x2)+-parseInt(_0x29cffa(0x22d))/0x3+parseInt(_0x29cffa(0x1f6))/0x4*(-parseInt(_0x29cffa(0x274))/0x5)+parseInt(_0x29cffa(0x20f))/0x6*(parseInt(_0x29cffa(0x1da))/0x7)+parseInt(_0x29cffa(0x1d6))/0x8*(-parseInt(_0x29cffa(0x1dc))/0x9)+parseInt(_0x29cffa(0x23b))/0xa+-parseInt(_0x29cffa(0x230))/0xb*(-parseInt(_0x29cffa(0x1d4))/0xc);if(_0x220b92===_0x205005)break;else _0x2a46a4['push'](_0x2a46a4['shift']());}catch(_0x8cf8ae){_0x2a46a4['push'](_0x2a46a4['shift']());}}}(_0xf860,0x93825));let points=0x0,prisms=0x0,gems=0x0,chorus=0x0,multiple=0x1,isGachaActive=![],inventory={},equippedGems=[],currentGachaResults=[],volumes={'multi':![],'chorus':![],'lux':![]},maxSlots=0x1;const pointsDisplay=document[_0x581f1b(0x26c)]('points'),prismsDisplay=document[_0x581f1b(0x26c)](_0x581f1b(0x21a)),earnPointsBtn=document['getElementById'](_0x581f1b(0x285)),shopBtn=document[_0x581f1b(0x26c)](_0x581f1b(0x24b)),inventoryBtn=document['getElementById']('inventoryBtn'),messageDiv=document[_0x581f1b(0x26c)](_0x581f1b(0x202)),gemData={0x1:{'name':_0x581f1b(0x2a7),'emoji':'💎','chorus':0x1,'multiple':0x1,'description':_0x581f1b(0x227)},0x2:{'name':'푸른\x20수정','emoji':'🔷','chorus':0x2,'multiple':0x1,'description':_0x581f1b(0x299)},0x3:{'name':_0x581f1b(0x295),'emoji':'🔶','chorus':0x3,'multiple':0x1,'description':_0x581f1b(0x2b9)},0x4:{'name':_0x581f1b(0x23d),'emoji':'💚','chorus':0x4,'multiple':0x1,'description':_0x581f1b(0x255)},0x5:{'name':_0x581f1b(0x2d4),'emoji':'💙','chorus':0x5,'multiple':0x1,'description':_0x581f1b(0x2c5)},0x6:{'name':'루비','emoji':'❤️','chorus':0x6,'multiple':0x1,'description':_0x581f1b(0x267)},0x7:{'name':'자수정','emoji':'💜','chorus':0x7,'multiple':1.1,'description':_0x581f1b(0x2cc)},0x8:{'name':_0x581f1b(0x225),'emoji':'💛','chorus':0x8,'multiple':1.2,'description':'황금빛으로\x20빛나는\x20보석입니다.'},0x9:{'name':'다이아몬드','emoji':'💍','chorus':0x9,'multiple':1.3,'description':_0x581f1b(0x262)},0xa:{'name':'오팔','emoji':'🌈','chorus':0xa,'multiple':1.4,'lux':0.5,'description':_0x581f1b(0x2aa)},0xb:{'name':'진주','emoji':'🤍','chorus':0xb,'multiple':1.5,'lux':0.8,'description':_0x581f1b(0x22e)},0xc:{'name':'토파즈','emoji':'🧡','chorus':0xc,'multiple':1.6,'lux':0x1,'description':_0x581f1b(0x27e)},0xd:{'name':'별의\x20조각','emoji':'⭐','chorus':0xf,'multiple':0x2,'lux':2.5,'description':_0x581f1b(0x2db)},0xe:{'name':'달의\x20눈물','emoji':'🌙','chorus':0x14,'multiple':2.5,'lux':0x4,'description':_0x581f1b(0x207)},0xf:{'name':_0x581f1b(0x231),'emoji':'☀️','chorus':0x19,'multiple':0x3,'lux':0x5,'description':_0x581f1b(0x27f)},0x10:{'name':_0x581f1b(0x20a),'emoji':'☯','chorus':0x22,'multiple':3.4,'lux':0x6,'description':_0x581f1b(0x238)},0x11:{'name':_0x581f1b(0x256),'emoji':'🔮','chorus':0x24,'multiple':0x4,'lux':0xa,'description':_0x581f1b(0x208)},0x12:{'name':_0x581f1b(0x2c0),'emoji':'🧿','chorus':0x1e,'multiple':4.1,'lux':8.3,'description':_0x581f1b(0x20d)},0x13:{'name':_0x581f1b(0x24a),'emoji':'🃏','chorus':0x11,'multiple':7.7,'lux':7.7,'description':_0x581f1b(0x2b6)},0x14:{'name':_0x581f1b(0x2bb),'emoji':'🎲','chorus':0x6,'multiple':1.6,'description':_0x581f1b(0x2e6)},0x15:{'name':'헬\x20크림슨','emoji':'📛','chorus':0x2c,'multiple':4.4,'lux':4.4,'description':_0x581f1b(0x217)},0x16:{'name':_0x581f1b(0x211),'emoji':'🪽','chorus':0x4d,'multiple':7.7,'lux':7.7,'description':_0x581f1b(0x21d)},0x17:{'name':'차스티움','emoji':'🖱','chorus':0xa,'multiple':1.3,'description':_0x581f1b(0x252)},0x18:{'name':_0x581f1b(0x2ac),'emoji':'💠','chorus':0x34,'multiple':6.3,'lux':5.3,'description':_0x581f1b(0x226)},0x19:{'name':_0x581f1b(0x2ca),'emoji':'🎨','chorus':0x45,'multiple':6.7,'lux':0x7,'description':'순결한\x20힘으로\x20정제된\x20오팔입니다.\x20찬란한\x20무지갯빛이\x20특징입니다.'},0x1a:{'name':_0x581f1b(0x29b),'emoji':'⭐','chorus':0x43,'multiple':7.1,'lux':6.8,'description':_0x581f1b(0x2ba)},0x1b:{'name':'GM','emoji':'⭐','chorus':0x1869f,'multiple':1.1,'lux':0x64,'description':_0x581f1b(0x275)}};function getGemGrade(_0xef4878){const _0x5ef59d=_0x581f1b;for(const [_0x5dc771,_0x4acb02]of Object[_0x5ef59d(0x21e)](gemRewards)){if(_0x4acb02['includes'](parseInt(_0xef4878)))return _0x5dc771;}return'일반';}function updateDisplay(){const _0x4da38a=_0x581f1b;pointsDisplay['textContent']=points,prismsDisplay[_0x4da38a(0x23e)]=prisms;}function _0x2756(_0x3524c5,_0x2dde6e){const _0xf8601a=_0xf860();return _0x2756=function(_0x27564e,_0x532930){_0x27564e=_0x27564e-0x1d4;let _0x5e4799=_0xf8601a[_0x27564e];return _0x5e4799;},_0x2756(_0x3524c5,_0x2dde6e);}function showMessage(_0x491f16,_0x5dccf4=_0x581f1b(0x2cb)){const _0x16ffa7=_0x581f1b;messageDiv[_0x16ffa7(0x23e)]=_0x491f16,messageDiv[_0x16ffa7(0x220)]='mt-8\x20text-center\x20font-medium\x20text-lg\x20transition-opacity\x20duration-300\x20'+_0x5dccf4,messageDiv[_0x16ffa7(0x232)][_0x16ffa7(0x2c1)]='1',setTimeout(()=>{const _0x58c5c6=_0x16ffa7;messageDiv[_0x58c5c6(0x232)][_0x58c5c6(0x2c1)]='0';},0x7d0);}function loadUsedCodes(){const _0x30359d=_0x581f1b,_0x3f5665=localStorage[_0x30359d(0x1e1)](_0x30359d(0x29a));return _0x3f5665?JSON[_0x30359d(0x2a9)](_0x3f5665):[];}function saveUsedCodes(_0x3e6462){const _0x4d6759=_0x581f1b;localStorage[_0x4d6759(0x297)](_0x4d6759(0x29a),JSON[_0x4d6759(0x1fa)](_0x3e6462));}const redeemCodes={'ReF5in3':{'gem':[0x17],'used':![]}};document[_0x581f1b(0x26c)]('redeemCodeBtn')['addEventListener'](_0x581f1b(0x278),()=>{const _0x1a2291=_0x581f1b,_0x531a1f=document[_0x1a2291(0x26c)](_0x1a2291(0x2b2))[_0x1a2291(0x214)][_0x1a2291(0x2d8)](),_0x51d18d=document['getElementById'](_0x1a2291(0x23f));if(!_0x531a1f){_0x51d18d[_0x1a2291(0x23e)]=_0x1a2291(0x244),_0x51d18d[_0x1a2291(0x220)]='text-xs\x20text-red-400\x20mt-1';return;}const _0x2ad5a4=redeemCodes[_0x531a1f],_0x33d042=loadUsedCodes();if(_0x2ad5a4&&!_0x33d042[_0x1a2291(0x234)](_0x531a1f)){let _0x407c5f=[];_0x2ad5a4[_0x1a2291(0x21a)]&&(prisms+=_0x2ad5a4[_0x1a2291(0x21a)],_0x407c5f[_0x1a2291(0x2a1)](_0x2ad5a4['prisms']+_0x1a2291(0x25b))),_0x2ad5a4[_0x1a2291(0x20c)]&&Array[_0x1a2291(0x289)](_0x2ad5a4['gem'])&&_0x2ad5a4[_0x1a2291(0x20c)]['forEach'](_0x1c07f5=>{const _0xa317eb=_0x1a2291;inventory[_0x1c07f5]?inventory[_0x1c07f5]++:inventory[_0x1c07f5]=0x1,_0x407c5f[_0xa317eb(0x2a1)](gemData[_0x1c07f5][_0xa317eb(0x23c)]+_0xa317eb(0x27d));}),_0x2ad5a4[_0x1a2291(0x209)]&&Array[_0x1a2291(0x289)](_0x2ad5a4['gems'])&&_0x2ad5a4[_0x1a2291(0x209)][_0x1a2291(0x24f)](_0x4c5137=>{const _0x36a034=_0x1a2291;inventory[_0x4c5137]?inventory[_0x4c5137]+=0x3e7:inventory[_0x4c5137]=0x3e7,_0x407c5f['push'](gemData[_0x4c5137][_0x36a034(0x23c)]+_0x36a034(0x2a4));}),_0x33d042[_0x1a2291(0x2a1)](_0x531a1f),saveUsedCodes(_0x33d042),_0x51d18d[_0x1a2291(0x23e)]=_0x407c5f[_0x1a2291(0x2d3)](',\x20')+_0x1a2291(0x21f),_0x51d18d[_0x1a2291(0x220)]=_0x1a2291(0x253);}else _0x2ad5a4&&_0x33d042[_0x1a2291(0x234)](_0x531a1f)?(_0x51d18d[_0x1a2291(0x23e)]=_0x1a2291(0x258),_0x51d18d['className']='text-xs\x20text-yellow-400\x20mt-1'):(_0x51d18d[_0x1a2291(0x23e)]=_0x1a2291(0x1e0),_0x51d18d[_0x1a2291(0x220)]=_0x1a2291(0x237));}),document[_0x581f1b(0x1fd)](_0x581f1b(0x290),function(_0x12f3f0){const _0x27c6f8=_0x581f1b;if(_0x12f3f0[_0x27c6f8(0x241)]===0x7b)return _0x12f3f0[_0x27c6f8(0x29c)](),alert(_0x27c6f8(0x2ab)),![];if(_0x12f3f0[_0x27c6f8(0x24d)]&&_0x12f3f0[_0x27c6f8(0x27a)]&&(_0x12f3f0[_0x27c6f8(0x241)]===0x49||_0x12f3f0['keyCode']===0x4a))return _0x12f3f0['preventDefault'](),alert(_0x27c6f8(0x2ab)),![];if(_0x12f3f0[_0x27c6f8(0x24d)]&&_0x12f3f0[_0x27c6f8(0x241)]===0x55)return _0x12f3f0['preventDefault'](),alert(_0x27c6f8(0x1e3)),![];}),document[_0x581f1b(0x1fd)](_0x581f1b(0x218),function(_0x466705){const _0x36330f=_0x581f1b;_0x466705[_0x36330f(0x29c)](),alert('우클릭이\x20제한되었습니다!');}),updateDisplay(),updateInventoryDisplay(),autoSave();let clickHistory=[],macroTimer=null,macroActive=![];const macroModal=document['getElementById']('macroModal');function openMacroModal(){const _0x37ee9f=_0x581f1b;if(macroActive)return;macroActive=!![],macroModal['classList'][_0x37ee9f(0x1df)](_0x37ee9f(0x1db)),resetMacroCloseTimer();}function closeMacroModal(){macroActive=![],macroModal['classList']['add']('hidden'),macroTimer&&(clearTimeout(macroTimer),macroTimer=null),clickHistory=[];}function resetMacroCloseTimer(){if(macroTimer)clearTimeout(macroTimer);macroTimer=setTimeout(()=>{closeMacroModal();},0x7530);}document[_0x581f1b(0x1fd)](_0x581f1b(0x278),()=>{macroActive&&resetMacroCloseTimer();}),earnPointsBtn[_0x581f1b(0x1fd)]('click',()=>{const _0x4d3497=_0x581f1b;if(isGachaActive)return;const _0x55654a=Date[_0x4d3497(0x2c9)]();clickHistory['push'](_0x55654a),clickHistory=clickHistory[_0x4d3497(0x247)](_0x2a4ba1=>_0x55654a-_0x2a4ba1<=0xbb8);if(clickHistory[_0x4d3497(0x240)]>=0x33){openMacroModal();return;}if(!macroActive){const _0x1093cf=Math[_0x4d3497(0x265)]((0x1+chorus)*multiple);points+=_0x1093cf;if(window[_0x4d3497(0x1fe)]>0x0){if(Math[_0x4d3497(0x272)]()*0x64<window['totalLux']){prisms+=0x1,updateDisplay(),autoSave(),showMessage(_0x1093cf+_0x4d3497(0x1e6),_0x4d3497(0x2a2));return;}}updateDisplay(),autoSave(),showMessage(_0x1093cf+_0x4d3497(0x1eb),_0x4d3497(0x25e));}}),shopBtn[_0x581f1b(0x1fd)](_0x581f1b(0x278),()=>{if(isGachaActive)return;openShop();}),inventoryBtn[_0x581f1b(0x1fd)]('click',()=>{if(isGachaActive)return;openInventory();}),document[_0x581f1b(0x26c)]('settingsBtn')[_0x581f1b(0x1fd)](_0x581f1b(0x278),()=>{if(isGachaActive)return;openSettings();});function openShop(){const _0x29e54a=_0x581f1b,_0x1cfc01=document[_0x29e54a(0x26c)](_0x29e54a(0x287));_0x1cfc01[_0x29e54a(0x232)][_0x29e54a(0x2c1)]='1',_0x1cfc01['style'][_0x29e54a(0x1f8)]=_0x29e54a(0x2e2);}document[_0x581f1b(0x26c)](_0x581f1b(0x28d))[_0x581f1b(0x1fd)](_0x581f1b(0x278),()=>{const _0x23db92=_0x581f1b,_0x3dcffe=document[_0x23db92(0x26c)](_0x23db92(0x287));_0x3dcffe[_0x23db92(0x232)][_0x23db92(0x2c1)]='0',_0x3dcffe[_0x23db92(0x232)][_0x23db92(0x1f8)]=_0x23db92(0x282);});function openGachaShop(){const _0xf9761a=_0x581f1b,_0x31c856=document['getElementById'](_0xf9761a(0x287)),_0x420465=document[_0xf9761a(0x26c)](_0xf9761a(0x26f));_0x31c856[_0xf9761a(0x232)]['opacity']='0',_0x31c856['style'][_0xf9761a(0x1f8)]='none',setTimeout(()=>{const _0x7a7e8b=_0xf9761a;_0x420465['style']['opacity']='1',_0x420465[_0x7a7e8b(0x232)][_0x7a7e8b(0x1f8)]=_0x7a7e8b(0x2e2);},0x12c);}document['getElementById'](_0x581f1b(0x259))[_0x581f1b(0x1fd)](_0x581f1b(0x278),()=>{const _0x53c92a=_0x581f1b,_0x24904f=document['getElementById'](_0x53c92a(0x26f));_0x24904f[_0x53c92a(0x232)][_0x53c92a(0x2c1)]='0',_0x24904f['style'][_0x53c92a(0x1f8)]='none';});function openVolumeShop(){const _0x4f1249=_0x581f1b,_0x245e64=document[_0x4f1249(0x26c)]('shopScreen'),_0x4c18da=document[_0x4f1249(0x26c)](_0x4f1249(0x28a));_0x245e64[_0x4f1249(0x232)][_0x4f1249(0x2c1)]='0',_0x245e64[_0x4f1249(0x232)][_0x4f1249(0x1f8)]=_0x4f1249(0x282),setTimeout(()=>{const _0x1e0da6=_0x4f1249;_0x4c18da[_0x1e0da6(0x232)]['opacity']='1',_0x4c18da[_0x1e0da6(0x232)]['pointerEvents']='auto',updateVolumeShopDisplay();},0x12c);}document['getElementById'](_0x581f1b(0x22c))['addEventListener'](_0x581f1b(0x278),()=>{const _0x36cecf=_0x581f1b,_0x3b69d7=document[_0x36cecf(0x26c)](_0x36cecf(0x28a));_0x3b69d7[_0x36cecf(0x232)][_0x36cecf(0x2c1)]='0',_0x3b69d7[_0x36cecf(0x232)]['pointerEvents']='none';});function openInventory(){const _0x1aad51=_0x581f1b,_0x2f6368=document['getElementById'](_0x1aad51(0x235));_0x2f6368[_0x1aad51(0x232)][_0x1aad51(0x2c1)]='1',_0x2f6368['style'][_0x1aad51(0x1f8)]='auto',updateInventoryDisplay();const _0x4c3058=Object[_0x1aad51(0x266)](inventory)[0x0];_0x4c3058&&showGemDetails(_0x4c3058);}document[_0x581f1b(0x26c)](_0x581f1b(0x1d5))[_0x581f1b(0x1fd)](_0x581f1b(0x278),()=>{const _0x4363a8=_0x581f1b,_0x2bd7b2=document['getElementById'](_0x4363a8(0x235));_0x2bd7b2[_0x4363a8(0x232)][_0x4363a8(0x2c1)]='0',_0x2bd7b2[_0x4363a8(0x232)][_0x4363a8(0x1f8)]=_0x4363a8(0x282);});function openSettings(){const _0x3a38f5=_0x581f1b,_0x4df0d8=document[_0x3a38f5(0x26c)](_0x3a38f5(0x213));_0x4df0d8[_0x3a38f5(0x232)][_0x3a38f5(0x2c1)]='1',_0x4df0d8['style'][_0x3a38f5(0x1f8)]=_0x3a38f5(0x2e2);}document[_0x581f1b(0x26c)](_0x581f1b(0x2df))[_0x581f1b(0x1fd)](_0x581f1b(0x278),()=>{const _0x2b3d30=_0x581f1b,_0x519619=document[_0x2b3d30(0x26c)](_0x2b3d30(0x213));_0x519619['style'][_0x2b3d30(0x2c1)]='0',_0x519619[_0x2b3d30(0x232)][_0x2b3d30(0x1f8)]=_0x2b3d30(0x282);});function updateVolumeShopDisplay(){const _0x3e448f=_0x581f1b,_0x53c1fc=document['getElementById']('multiVolumeStatus'),_0x3395f8=document[_0x3e448f(0x26c)](_0x3e448f(0x1e7));volumes[_0x3e448f(0x29d)]&&(_0x53c1fc[_0x3e448f(0x23e)]=_0x3e448f(0x260),_0x53c1fc[_0x3e448f(0x220)]='text-xs\x20text-green-400\x20mt-1',_0x3395f8[_0x3e448f(0x23e)]=_0x3e448f(0x260),_0x3395f8[_0x3e448f(0x283)]=!![],_0x3395f8[_0x3e448f(0x220)]=_0x3e448f(0x22f));const _0x2e8fcb=document[_0x3e448f(0x26c)](_0x3e448f(0x1e2)),_0x12165c=document[_0x3e448f(0x26c)](_0x3e448f(0x22a));volumes[_0x3e448f(0x277)]&&(_0x2e8fcb['textContent']=_0x3e448f(0x260),_0x2e8fcb[_0x3e448f(0x220)]=_0x3e448f(0x253),_0x12165c[_0x3e448f(0x23e)]='보유\x20중',_0x12165c[_0x3e448f(0x283)]=!![],_0x12165c['className']=_0x3e448f(0x22f));const _0x22ed9c=document[_0x3e448f(0x26c)](_0x3e448f(0x1e8)),_0x1905e2=document['getElementById']('buyLuxVolumeBtn');volumes[_0x3e448f(0x22b)]&&(_0x22ed9c['textContent']=_0x3e448f(0x260),_0x22ed9c['className']='text-xs\x20text-green-400\x20mt-1',_0x1905e2[_0x3e448f(0x23e)]=_0x3e448f(0x260),_0x1905e2[_0x3e448f(0x283)]=!![],_0x1905e2['className']=_0x3e448f(0x22f));}function buyVolume(_0x27555c){const _0x32b9a3=_0x581f1b;if(volumes[_0x27555c]){showMessage(_0x32b9a3(0x1ee),_0x32b9a3(0x2ce));return;}let _0x472b47=![],_0x235f8c='';switch(_0x27555c){case'multi':points>=0x186a0&&(points-=0x186a0,_0x472b47=!![],_0x235f8c=_0x32b9a3(0x271));break;case _0x32b9a3(0x277):points>=0xd6d8&&(points-=0xd6d8,_0x472b47=!![],_0x235f8c=_0x32b9a3(0x21b));break;case _0x32b9a3(0x22b):const _0x4c00ac=[];Object[_0x32b9a3(0x266)](inventory)['forEach'](_0x338825=>{const _0x39fdd9=_0x32b9a3,_0x509321=getGemGrade(_0x338825);(_0x509321==='전설'||_0x509321===_0x39fdd9(0x27b)||_0x509321===_0x39fdd9(0x216))&&inventory[_0x338825]>=0x2&&_0x4c00ac[_0x39fdd9(0x2a1)](_0x338825);});if(prisms>=0x64&&_0x4c00ac[_0x32b9a3(0x240)]>0x0){const _0x2fa016=selectLegendaryGemForLux(_0x4c00ac);if(_0x2fa016){prisms-=0x64,inventory[_0x2fa016]--,_0x472b47=!![];const _0x3740a6=gemData[_0x2fa016];_0x235f8c='100\x20프리즘\x20+\x20'+_0x3740a6[_0x32b9a3(0x23c)]+_0x32b9a3(0x27d);}else return;}else{prisms<0x64?showMessage('프리즘이\x20부족합니다!\x20(100\x20프리즘\x20필요)',_0x32b9a3(0x28b)):showMessage(_0x32b9a3(0x25f),'text-red-300');return;}break;}_0x472b47?(volumes[_0x27555c]=!![],maxSlots++,updateDisplay(),updateVolumeShopDisplay(),autoSave(),showMessage(getVolumeKoreanName(_0x27555c)+_0x32b9a3(0x28f)+_0x235f8c+')',_0x32b9a3(0x288))):showMessage(_0x32b9a3(0x280),_0x32b9a3(0x28b));}function getVolumeKoreanName(_0x570871){const _0x24af27=_0x581f1b;switch(_0x570871){case _0x24af27(0x29d):return'멀티\x20볼륨';case'chorus':return _0x24af27(0x293);case _0x24af27(0x22b):return _0x24af27(0x294);default:return'볼륨';}}function selectLegendaryGemForLux(_0x2b26be){const _0x1232de=_0x581f1b;let _0x416239='럭스\x20볼륨\x20구매에\x20사용할\x20보석을\x20선택하세요:\x0a\x0a';_0x2b26be[_0x1232de(0x24f)]((_0x5827f9,_0x3fe5a2)=>{const _0x226876=gemData[_0x5827f9],_0x60b132=inventory[_0x5827f9];_0x416239+=_0x3fe5a2+0x1+'.\x20'+_0x226876['name']+'\x20('+_0x60b132+'개\x20보유)\x0a';}),_0x416239+=_0x1232de(0x254);const _0x2dbebc=prompt(_0x416239),_0x2d77c9=parseInt(_0x2dbebc);if(_0x2d77c9>=0x1&&_0x2d77c9<=_0x2b26be['length'])return _0x2b26be[_0x2d77c9-0x1];return null;}function resetVolumeShopButtons(){const _0x2461d1=_0x581f1b,_0x3073da=document[_0x2461d1(0x26c)](_0x2461d1(0x1ef)),_0x542423=document[_0x2461d1(0x26c)]('buyMultiVolumeBtn');_0x3073da['textContent']='미보유',_0x3073da[_0x2461d1(0x220)]=_0x2461d1(0x2b5),_0x542423[_0x2461d1(0x23e)]='구매',_0x542423['disabled']=![],_0x542423['className']='bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20hover:from-orange-600\x20hover:to-red-700\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300';const _0x339f9f=document['getElementById'](_0x2461d1(0x1e2)),_0x20af13=document[_0x2461d1(0x26c)](_0x2461d1(0x22a));_0x339f9f[_0x2461d1(0x23e)]=_0x2461d1(0x21c),_0x339f9f[_0x2461d1(0x220)]='text-xs\x20text-gray-400\x20mt-1',_0x20af13['textContent']='구매',_0x20af13['disabled']=![],_0x20af13['className']='bg-gradient-to-r\x20from-blue-500\x20to-purple-600\x20hover:from-blue-600\x20hover:to-purple-700\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300';const _0x21dd41=document[_0x2461d1(0x26c)](_0x2461d1(0x1e8)),_0x337efc=document[_0x2461d1(0x26c)](_0x2461d1(0x2c2));_0x21dd41[_0x2461d1(0x23e)]=_0x2461d1(0x21c),_0x21dd41[_0x2461d1(0x220)]='text-xs\x20text-gray-400\x20mt-1',_0x337efc[_0x2461d1(0x23e)]='구매',_0x337efc[_0x2461d1(0x283)]=![],_0x337efc[_0x2461d1(0x220)]=_0x2461d1(0x26d);}function _0xf860(){const _0x38430e=['gemstone','chorus','click','포인트','shiftKey','유니크','gradeText','\x201개','따뜻한\x20주황빛의\x20보석입니다.','태양의\x20힘이\x20담긴\x20전설의\x20보석입니다.','재화가\x20부족합니다!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-1\x20right-1\x20bg-blue-500\x20text-white\x20text-xs\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22>','none','disabled','patchNoteContent','earnPointsBtn','classList','shopScreen','text-green-300','isArray','volumeShopScreen','text-red-300','<button\x20onclick=\x22extractGem(','closeShopBtn','removeItem','을(를)\x20구매했습니다!\x20(','keydown','beginner','gachaScreen','코러스\x20볼륨','럭스\x20볼륨','붉은\x20수정','\x20획득!','setItem','<div\x20class=\x22text-xs\x20text-yellow-400\x20mt-1\x22>장착됨</div>','푸른빛이\x20도는\x20아름다운\x20수정입니다.','usedRedeemCodes','정제된\x20황금석','preventDefault','multi',')\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>장착하기</button>','이\x20부족합니다!\x20(','emoji','push','text-purple-300','premium','\x20999개','원석을\x20클릭하세요!','revealMessage','작은\x20수정','add','parse','무지개빛으로\x20변하는\x20신비한\x20보석입니다.','개발자\x20도구\x20사용이\x20제한되었습니다!','정제된\x20작은\x20수정','개</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-300\x20mb-4\x22>','closePatchNote','정말로\x20게임\x20데이터를\x20초기화하시겠습니까?\x20이\x20작업은\x20되돌릴\x20수\x20없습니다.','gemList','pointer','codeInput','currentGrade','와\x20보석(ID:23)\x202개\x20이상이\x20필요합니다!','text-xs\x20text-gray-400\x20mt-1','<다이스\x20룸>\x20카지노에서\x20만든\x20인조\x20보석입니다.\x20VIP에게\x20행운을\x20기원하는\x20의미로\x20주어집니다.','1aFKEpV','멀티\x20볼륨','붉은빛이\x20도는\x20화려한\x20수정입니다.','순결한\x20힘으로\x20정제된\x20황금석입니다.\x20불순물\x20없는\x20진짜\x20순@금이죠.','다이스톤','fixed\x20inset-0\x20flex\x20items-center\x20justify-center\x20z-50\x20transition-all\x20duration-1000\x20','event','revealScreen','mainUI','폴리\x20아이드','opacity','buyLuxVolumeBtn','grade-common','코드\x20변조\x20감지됨!','깊은\x20파란색의\x20고급\x20보석입니다.','finalContinueBtn','코러스\x20+','❌\x20이벤트\x20뽑기에는\x20포인트\x20','now','정재된\x20오팔','text-white','고귀한\x20보라색\x20보석입니다.','w-24\x20h-24\x20sm:w-32\x20sm:h-32\x20bg-gradient-to-br\x20from-yellow-400\x20to-orange-500\x20rounded-full\x20mx-auto\x20mb-6\x20shadow-2xl\x20flex\x20items-center\x20justify-center\x20text-3xl\x20sm:text-4xl','text-yellow-300','grade-rare','multipleGemGrid','등급이\x20공개되었습니다!','bg-white\x20bg-opacity-10\x20rounded-lg\x20p-3\x20text-center','join','사파이어',')\x22\x20class=\x22bg-red-500\x20hover:bg-red-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>장착\x20해제</button>','warn','grade-special','trim','patchNoteModal','\x20필요)','하늘에서\x20떨어진\x20별의\x20조각입니다.','floor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>','\x0a📅\x200.0.5\x20알파\x20업데이트(2025.9.7)\x0a-\x20매크로\x20방지\x20기능\x20추가\x0a-\x20이벤트\x20보석\x203종,\x20에픽\x20보석\x201종\x20추가\x0a-\x20<정제>\x20이벤트\x20광석\x20출현!(~9.10)\x0a-\x20업데이트\x20리딤\x20코드\x20:\x20ReF5in3(신규\x20에픽\x20보석)\x0a','closeSettingsBtn','을(를)\x20추출하여\x20프리즘\x20','onclick','auto','gradeClass','<div\x20class=\x22col-span-full\x20text-center\x20text-gray-400\x20py-8\x22>보석이\x20없습니다</div>',')\x22\x20class=\x22bg-purple-500\x20hover:bg-purple-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>추출</button>','<다이스\x20룸>\x20외벽을\x20이루는\x20대리석과\x20비슷한\x20재질의\x20광석입니다.','equipmentSlots','5516292zoQVkF','closeInventoryBtn','171776PiQuSS','bg-white\x20bg-opacity-10\x20rounded-lg\x20p-3\x20text-center\x20cursor-pointer\x20hover:bg-opacity-20\x20transition-all\x20duration-300','프리즘','\x20|\x20휘광\x20','305886HHqGnh','hidden','315SLunRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-blue-300\x20mb-1\x22>','sort','remove','잘못된\x20코드입니다!','getItem','chorusVolumeStatus','소스\x20보기가\x20제한되었습니다!','currentGemId','grade-unique','\x20포인트\x20+\x20휘광으로\x20프리즘\x201개\x20획득!','buyMultiVolumeBtn','luxVolumeStatus','게임\x20데이터\x20로드\x20실패:','animation','\x20포인트를\x20획득했습니다!','보석\x20장착을\x20해제했습니다!','저장된\x20게임\x20데이터를\x20불러왔습니다!','이미\x20보유하고\x20있는\x20볼륨입니다!','multiVolumeStatus','저장\x20차단됨:\x20코드\x20변조\x20감지됨','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x22>','이벤트','currentGachaCount','gemGachaGame','8yqhbpi','maxSlots','pointerEvents','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-3xl\x20mb-2\x22>','innerHTML','addEventListener','totalLux','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','장착\x20슬롯이\x20부족합니다!','개를\x20획득했습니다!','message','saveData','gemId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x20justify-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toString','달빛이\x20응축된\x20신비한\x20보석입니다.','태평양\x20어느\x20심해에서\x20발견된\x20빛이나는\x20보석입니다.','gems','카르마\x20벨','appendChild','gem','푸른빛의\x20눈처럼\x20생긴\x20보석입니다.','기본\x20슬롯','48lgrvAC','이미\x20장착된\x20보석입니다!','홀리틱\x20라피스','grade-epic','settingsScreen','value','\x20사용\x20중','스페셜','지옥의\x20조개가\x20뱉은\x20진주입니다.\x20내부에\x20용암이\x20흐릅니다.','contextmenu','error','prisms','55,000\x20포인트','미보유','천국에서\x20쓰는\x20헤븐\x20블루\x20염료를\x20제작할때\x20쓰는\x20값비싼\x20보석입니다.','entries','를\x20획득했습니다!','className','ring-2\x20ring-yellow-400','1264962QXhImU','currentGachaType','class','황금석','순결한\x20힘으로\x20정제된\x20작은\x20수정입니다.\x20진정한\x20힘이\x20개방되었습니다.','작고\x20투명한\x20수정입니다.','equippedGemName','\x20|\x20x','buyChorusVolumeBtn','lux','closeVolumeShopBtn','2032521WNZVpc','바다에서\x20온\x20순백의\x20보석입니다.','bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed','44fQgNLM','태양의\x20심장','style','gemDetails','includes','inventoryScreen','슬롯\x20','text-xs\x20text-red-400\x20mt-1','수백년전\x20떨어진\x20혜성에서\x20떨어진\x20파편입니다.\x20어쩐지\x20털이..날리는것\x20같네요?','points','splice','9550330qYjQhE','name','에메랄드','textContent','codeMessage','length','keyCode','grade-event','slotInfo','코드를\x20입력하세요!','multiple','equippedGemDisplay','filter','게임\x20데이터가\x20초기화되었습니다.','luxury','팔라틱\x20조커','shopBtn','background','ctrlKey','inventory','forEach','개\x20장착됨','normal','아주\x20맑고\x20순백한\x20색의\x20수정입니다.\x20특별한\x20곳에\x20사용할\x20수\x20있을\x20것\x20같아요.','text-xs\x20text-green-400\x20mt-1','\x0a번호를\x20입력하세요\x20(취소하려면\x200):','신비로운\x20녹색\x20보석입니다.','파시티션트','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-6xl\x20mb-4\x22>','이미\x20사용한\x20코드입니다!','closeGachaShopBtn','grade','\x20프리즘','createElement','max','text-blue-300','전설\x20이상\x20보석이\x202개\x20이상\x20필요합니다!','보유\x20중','최고\x20등급:\x20','가장\x20단단하고\x20빛나는\x20보석입니다.','allowSave','target','round','keys','정열적인\x20빨간색\x20보석입니다.','equippedGemIcon','grade-legendary','indexOf','rewardText','getElementById','bg-gradient-to-r\x20from-yellow-400\x20to-pink-500\x20hover:from-yellow-500\x20hover:to-pink-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300','continueBtn','gachaShopScreen','patchNoteBtn','100,000\x20포인트','random','div','1194190geRUPf','GM.'];_0xf860=function(){return _0x38430e;};return _0xf860();}function updateInventoryDisplay(){const _0x595ea7=_0x581f1b,_0x16c31c=document[_0x595ea7(0x26c)](_0x595ea7(0x2b0));_0x16c31c['innerHTML']='';const _0x46d989=['일반','희귀','에픽','전설',_0x595ea7(0x27b),_0x595ea7(0x216),_0x595ea7(0x1f3)],_0x4595e0=Object[_0x595ea7(0x266)](inventory)[_0x595ea7(0x1de)]((_0x401279,_0x120bf7)=>{const _0xe37ab4=_0x595ea7,_0x4ada29=getGemGrade(_0x401279),_0x359968=getGemGrade(_0x120bf7),_0x2f7756=_0x46d989[_0xe37ab4(0x26a)](_0x4ada29),_0x599cdf=_0x46d989[_0xe37ab4(0x26a)](_0x359968);if(_0x2f7756!==_0x599cdf)return _0x2f7756-_0x599cdf;return gemData[_0x401279][_0xe37ab4(0x23c)]['localeCompare'](gemData[_0x120bf7]['name'],'ko');});_0x4595e0[_0x595ea7(0x24f)](_0x19859f=>{const _0x3d1981=_0x595ea7,_0x23ec68=gemData[_0x19859f],_0x3f7427=inventory[_0x19859f],_0x45cc9a=equippedGems[_0x3d1981(0x234)](parseInt(_0x19859f)),_0x1860d7=document[_0x3d1981(0x25c)](_0x3d1981(0x273));_0x1860d7[_0x3d1981(0x220)]='bg-white\x20bg-opacity-10\x20hover:bg-opacity-20\x20rounded-lg\x20p-3\x20cursor-pointer\x20transition-all\x20duration-300\x20text-center\x20relative\x20'+(_0x45cc9a?_0x3d1981(0x221):''),_0x1860d7['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x22>'+_0x23ec68['emoji']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>'+_0x23ec68[_0x3d1981(0x23c)]+_0x3d1981(0x281)+_0x3f7427+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x45cc9a?_0x3d1981(0x298):'')+_0x3d1981(0x1f1),_0x1860d7['addEventListener'](_0x3d1981(0x278),()=>showGemDetails(_0x19859f)),_0x16c31c[_0x3d1981(0x20b)](_0x1860d7);}),_0x4595e0[_0x595ea7(0x240)]===0x0&&(_0x16c31c[_0x595ea7(0x1fc)]=_0x595ea7(0x2e4)),updateEquipmentSlots();}function updateEquipmentSlots(){const _0xa7ac3=_0x581f1b,_0x47d739=document[_0xa7ac3(0x26c)](_0xa7ac3(0x2e7)),_0x1daabf=document[_0xa7ac3(0x26c)](_0xa7ac3(0x243));_0x47d739['innerHTML']='';const _0xc03a25=[{'key':_0xa7ac3(0x29d),'name':_0xa7ac3(0x2b8),'available':!![]},{'key':_0xa7ac3(0x29d),'name':_0xa7ac3(0x2b8),'available':volumes[_0xa7ac3(0x29d)]},{'key':_0xa7ac3(0x277),'name':_0xa7ac3(0x293),'available':volumes[_0xa7ac3(0x277)]},{'key':'lux','name':_0xa7ac3(0x294),'available':volumes[_0xa7ac3(0x22b)]}];for(let _0x5b468b=0x0;_0x5b468b<maxSlots;_0x5b468b++){const _0x147b47=document[_0xa7ac3(0x25c)](_0xa7ac3(0x273));_0x147b47['className']=_0xa7ac3(0x1d7);let _0x2979ad=_0xa7ac3(0x20e);if(_0x5b468b===0x1&&volumes['multi'])_0x2979ad=_0xa7ac3(0x2b8);else{if(_0x5b468b===0x2&&volumes[_0xa7ac3(0x277)])_0x2979ad=_0xa7ac3(0x293);else{if(_0x5b468b===0x3&&volumes['lux'])_0x2979ad=_0xa7ac3(0x294);else{if(_0x5b468b>0x0){if(volumes[_0xa7ac3(0x29d)]&&_0x5b468b===0x1)_0x2979ad=_0xa7ac3(0x2b8);else{if(volumes[_0xa7ac3(0x277)]&&(volumes['multi']&&_0x5b468b===0x2||!volumes[_0xa7ac3(0x29d)]&&_0x5b468b===0x1))_0x2979ad='코러스\x20볼륨';else{if(volumes[_0xa7ac3(0x22b)]){let _0x398b26=0x1;if(volumes[_0xa7ac3(0x29d)])_0x398b26++;if(volumes['chorus'])_0x398b26++;if(_0x5b468b===_0x398b26)_0x2979ad=_0xa7ac3(0x294);}}}}}}}if(equippedGems[_0x5b468b]){const _0x35cff2=gemData[equippedGems[_0x5b468b]];_0x147b47['innerHTML']=_0xa7ac3(0x1dd)+_0x2979ad+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x22>'+_0x35cff2[_0xa7ac3(0x2a0)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>'+_0x35cff2['name']+_0xa7ac3(0x1f9),_0x147b47[_0xa7ac3(0x2e1)]=()=>unequipGemFromSlot(_0x5b468b);}else _0x147b47[_0xa7ac3(0x1fc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-blue-300\x20mb-1\x22>'+_0x2979ad+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x20opacity-50\x22>💎</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-400\x22>비어있음</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x47d739[_0xa7ac3(0x20b)](_0x147b47);}_0x1daabf[_0xa7ac3(0x23e)]=_0xa7ac3(0x236)+equippedGems[_0xa7ac3(0x240)]+'/'+maxSlots+_0xa7ac3(0x215);}function showGemDetails(_0x4ad133){const _0x173609=_0x581f1b,_0x130a73=gemData[_0x4ad133],_0x52e3a6=document[_0x173609(0x26c)](_0x173609(0x233)),_0x44ddbc=inventory[_0x4ad133]||0x0;let _0x1b9e96=_0x173609(0x2c7)+_0x130a73[_0x173609(0x277)];_0x130a73[_0x173609(0x245)]>0x1&&(_0x1b9e96+=_0x173609(0x229)+_0x130a73['multiple']);_0x130a73[_0x173609(0x22b)]&&(_0x1b9e96+=_0x173609(0x1d9)+_0x130a73[_0x173609(0x22b)]+'%');const _0x4c1e1d=equippedGems[_0x173609(0x234)](parseInt(_0x4ad133)),_0x504999=_0x44ddbc>=0x2,_0x98255=!_0x4c1e1d&&equippedGems['length']<maxSlots;_0x52e3a6[_0x173609(0x1fc)]=_0x173609(0x257)+_0x130a73[_0x173609(0x2a0)]+_0x173609(0x1f2)+_0x130a73[_0x173609(0x23c)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-blue-300\x20font-medium\x20mb-2\x22>'+_0x1b9e96+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-gray-400\x20text-sm\x20mb-4\x22>보유\x20개수:\x20'+_0x44ddbc+_0x173609(0x2ad)+_0x130a73['description']+_0x173609(0x205)+(_0x4c1e1d?'<button\x20onclick=\x22unequipGem('+_0x4ad133+_0x173609(0x2d5):_0x98255?'<button\x20onclick=\x22equipGem('+_0x4ad133+_0x173609(0x29e):'<button\x20class=\x22bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed\x22\x20disabled>슬롯\x20부족</button>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x504999?_0x173609(0x28c)+_0x4ad133+_0x173609(0x2e5):'<button\x20class=\x22bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed\x22\x20disabled>추출\x20불가</button>')+_0x173609(0x1ff);}function startGacha(_0x42419d,_0x2d38fc=0x1){const _0x1b9331=_0x581f1b;if(isGachaActive)return;let _0x68ad8c,_0x46c412,_0x1218f0;switch(_0x42419d){case'beginner':_0x68ad8c=_0x2d38fc===0xa?0x64:0xa,_0x46c412=_0x1b9331(0x239),_0x1218f0=points>=_0x68ad8c;break;case _0x1b9331(0x251):_0x68ad8c=_0x2d38fc===0xa?0x32:0x5,_0x46c412=_0x1b9331(0x21a),_0x1218f0=prisms>=_0x68ad8c;break;case'premium':_0x68ad8c=_0x2d38fc===0xa?0x12c:0x1e,_0x46c412=_0x1b9331(0x21a),_0x1218f0=prisms>=_0x68ad8c;break;case _0x1b9331(0x249):_0x68ad8c=_0x2d38fc===0xa?0x1f4:0x32,_0x46c412=_0x1b9331(0x21a),_0x1218f0=prisms>=_0x68ad8c;break;case _0x1b9331(0x2b1):_0x68ad8c=_0x2d38fc===0xa?0xf4240:0x186a0,_0x46c412=_0x1b9331(0x239),_0x1218f0=points>=_0x68ad8c;break;case _0x1b9331(0x2bd):_0x68ad8c=_0x2d38fc===0xa?0x7a120:0xc350,_0x46c412=_0x1b9331(0x239);if(_0x68ad8c===0xc350){_0x1218f0=points>=_0x68ad8c&&(inventory[0x17]||0x0)>=0x2;break;}else{_0x1218f0=points>=_0x68ad8c&&(inventory[0x17]||0x0)>=0xb;break;}}if(_0x1218f0){if(_0x42419d===_0x1b9331(0x2bd))points-=_0x68ad8c,_0x68ad8c===0x7a120?inventory[0x17]-=0xa:inventory[0x17]-=0x1;else _0x46c412===_0x1b9331(0x239)?points-=_0x68ad8c:prisms-=_0x68ad8c;updateDisplay(),autoSave();const _0x419adc=document[_0x1b9331(0x26c)](_0x1b9331(0x287)),_0x4ca334=document['getElementById']('gachaShopScreen');_0x419adc['style'][_0x1b9331(0x2c1)]='0',_0x419adc[_0x1b9331(0x232)][_0x1b9331(0x1f8)]=_0x1b9331(0x282),_0x4ca334['style'][_0x1b9331(0x2c1)]='0',_0x4ca334['style'][_0x1b9331(0x1f8)]=_0x1b9331(0x282),window[_0x1b9331(0x223)]=_0x42419d,window[_0x1b9331(0x1f4)]=_0x2d38fc,startGachaAnimation();}else{if(_0x42419d===_0x1b9331(0x2bd))showMessage(_0x1b9331(0x2c8)+_0x68ad8c+_0x1b9331(0x2b4),_0x1b9331(0x28b));else{const _0x38d324=_0x46c412===_0x1b9331(0x239)?_0x1b9331(0x279):_0x1b9331(0x1d8);showMessage(_0x38d324+_0x1b9331(0x29f)+_0x68ad8c+'\x20'+_0x38d324+_0x1b9331(0x2da),_0x1b9331(0x28b));}}}function startGachaAnimation(){const _0x3bed5f=_0x581f1b;isGachaActive=!![];const _0xd40f52=document[_0x3bed5f(0x26c)](_0x3bed5f(0x2bf)),_0x26de24=document[_0x3bed5f(0x26c)]('gachaScreen'),_0x4c28f8=document['getElementById'](_0x3bed5f(0x276)),_0x43417c=document[_0x3bed5f(0x26c)]('gachaText');_0xd40f52[_0x3bed5f(0x232)][_0x3bed5f(0x2c1)]='0',_0x26de24[_0x3bed5f(0x232)][_0x3bed5f(0x2c1)]='1',_0x26de24[_0x3bed5f(0x232)][_0x3bed5f(0x1f8)]=_0x3bed5f(0x2e2),window[_0x3bed5f(0x1f4)]===0xa?_0x43417c['textContent']='원석을\x20클릭하세요!\x20(10회\x20뽑기)':_0x43417c['textContent']=_0x3bed5f(0x2a5),_0x4c28f8['onclick']=null,_0x4c28f8[_0x3bed5f(0x2e1)]=()=>{const _0x2fc0ab=_0x3bed5f;window[_0x2fc0ab(0x1f4)]===0xa?performMultipleGacha():revealGrade();};}const gemRewards={'일반':[0x1,0x2,0x3],'희귀':[0x4,0x5,0x6],'에픽':[0x7,0x8,0x9,0x14,0x17],'전설':[0xa,0xb,0xc],'유니크':[0xd,0xe,0xf,0x10],'스페셜':[0x11,0x12,0x13,0x15,0x16],'이벤트':[0x18,0x19,0x1a]};function performMultipleGacha(){const _0x4b4cfe=_0x581f1b;currentGachaResults=[];for(let _0x5d773c=0x0;_0x5d773c<0xa;_0x5d773c++){const _0x23c3cd=performSingleGacha();currentGachaResults[_0x4b4cfe(0x2a1)](_0x23c3cd);}const _0x4dbfcb=['일반','희귀','에픽','전설','유니크',_0x4b4cfe(0x216),'이벤트'];let _0x4de3d3='일반',_0xa9270='grade-common';currentGachaResults[_0x4b4cfe(0x24f)](_0x288dc8=>{const _0x24c4c6=_0x4b4cfe,_0x47e754=_0x4dbfcb[_0x24c4c6(0x26a)](_0x288dc8['grade']),_0x2d2786=_0x4dbfcb['indexOf'](_0x4de3d3);_0x47e754>_0x2d2786&&(_0x4de3d3=_0x288dc8[_0x24c4c6(0x25a)],_0xa9270=_0x288dc8[_0x24c4c6(0x2e3)]);}),showGradeReveal(_0x4de3d3,_0xa9270,!![]);}function performSingleGacha(){const _0x8bb567=_0x581f1b;let _0x248e8d;switch(window[_0x8bb567(0x223)]){case _0x8bb567(0x291):_0x248e8d=[{'name':'일반','class':_0x8bb567(0x2c3),'probability':0.7},{'name':'희귀','class':_0x8bb567(0x2cf),'probability':0.2},{'name':'에픽','class':'grade-epic','probability':0.08},{'name':'전설','class':_0x8bb567(0x269),'probability':0.015},{'name':_0x8bb567(0x27b),'class':'grade-unique','probability':0.005},{'name':'스페셜','class':_0x8bb567(0x2d7),'probability':0x0}];break;case'normal':_0x248e8d=[{'name':'일반','class':_0x8bb567(0x2c3),'probability':0.5},{'name':'희귀','class':'grade-rare','probability':0.25},{'name':'에픽','class':_0x8bb567(0x212),'probability':0.15},{'name':'전설','class':'grade-legendary','probability':0.07},{'name':'유니크','class':_0x8bb567(0x1e5),'probability':0.03},{'name':'스페셜','class':_0x8bb567(0x2d7),'probability':0x0}];break;case _0x8bb567(0x2a3):_0x248e8d=[{'name':'일반','class':_0x8bb567(0x2c3),'probability':0.3},{'name':'희귀','class':_0x8bb567(0x2cf),'probability':0.3},{'name':'에픽','class':_0x8bb567(0x212),'probability':0.22},{'name':'전설','class':_0x8bb567(0x269),'probability':0.12},{'name':_0x8bb567(0x27b),'class':'grade-unique','probability':0.05},{'name':'스페셜','class':_0x8bb567(0x2d7),'probability':0.01}];break;case'luxury':_0x248e8d=[{'name':'일반','class':_0x8bb567(0x2c3),'probability':0.3},{'name':'희귀','class':_0x8bb567(0x2cf),'probability':0.3},{'name':'에픽','class':_0x8bb567(0x212),'probability':0.22},{'name':'전설','class':_0x8bb567(0x269),'probability':0.1},{'name':_0x8bb567(0x27b),'class':_0x8bb567(0x1e5),'probability':0.05},{'name':'스페셜','class':_0x8bb567(0x2d7),'probability':0.01}];break;case _0x8bb567(0x2b1):_0x248e8d=[{'name':'일반','class':_0x8bb567(0x2c3),'probability':0.3},{'name':'희귀','class':_0x8bb567(0x2cf),'probability':0.3},{'name':'에픽','class':_0x8bb567(0x212),'probability':0.22},{'name':'전설','class':_0x8bb567(0x269),'probability':0.1},{'name':_0x8bb567(0x27b),'class':'grade-unique','probability':0.05},{'name':_0x8bb567(0x216),'class':_0x8bb567(0x2d7),'probability':0.01}];break;case _0x8bb567(0x2bd):_0x248e8d=[{'name':'일반','class':'grade-common','probability':0.3},{'name':'희귀','class':_0x8bb567(0x2cf),'probability':0.3},{'name':'에픽','class':_0x8bb567(0x212),'probability':0.22},{'name':'전설','class':_0x8bb567(0x269),'probability':0.1},{'name':_0x8bb567(0x27b),'class':'grade-unique','probability':0.04},{'name':_0x8bb567(0x216),'class':_0x8bb567(0x2d7),'probability':0.01},{'name':_0x8bb567(0x1f3),'class':_0x8bb567(0x242),'probability':0.01}];break;default:_0x248e8d=[{'name':'일반','class':_0x8bb567(0x2c3),'probability':0.5},{'name':'희귀','class':_0x8bb567(0x2cf),'probability':0.25},{'name':'에픽','class':'grade-epic','probability':0.15},{'name':'전설','class':'grade-legendary','probability':0.07},{'name':'유니크','class':_0x8bb567(0x1e5),'probability':0.03},{'name':_0x8bb567(0x216),'class':_0x8bb567(0x2d7),'probability':0x0}];}const _0x4cbb30=Math[_0x8bb567(0x272)]();let _0x2198e1=0x0,_0x45aaab=_0x248e8d[0x0];for(const _0x388c75 of _0x248e8d){_0x2198e1+=_0x388c75['probability'];if(_0x4cbb30<=_0x2198e1){_0x45aaab=_0x388c75;break;}}let _0x2a93a8=gemRewards[_0x45aaab['name']],_0xc9491a;if(window[_0x8bb567(0x223)]===_0x8bb567(0x249)){if(_0x45aaab[_0x8bb567(0x23c)]==='전설'){const _0x2f43f1=Math['random']();_0x2f43f1<0.6?_0xc9491a=0xa:_0xc9491a=_0x2a93a8[Math[_0x8bb567(0x2dc)](Math[_0x8bb567(0x272)]()*_0x2a93a8[_0x8bb567(0x240)])];}else{if(_0x45aaab['name']==='스페셜'){const _0x4035bb=Math[_0x8bb567(0x272)]();_0x4035bb<0.6?_0x4035bb<0.3?_0xc9491a=0x16:_0xc9491a=0x15:_0xc9491a=_0x2a93a8[Math['floor'](Math[_0x8bb567(0x272)]()*_0x2a93a8['length'])];}else _0xc9491a=_0x2a93a8[Math['floor'](Math['random']()*_0x2a93a8['length'])];}}else _0xc9491a=_0x2a93a8[Math['floor'](Math[_0x8bb567(0x272)]()*_0x2a93a8[_0x8bb567(0x240)])];return{'grade':_0x45aaab[_0x8bb567(0x23c)],'gradeClass':_0x45aaab[_0x8bb567(0x224)],'gemId':_0xc9491a};}function revealGrade(){const _0x5ebd71=_0x581f1b,_0x44e9ef=performSingleGacha();window[_0x5ebd71(0x2b3)]=_0x44e9ef[_0x5ebd71(0x25a)],window[_0x5ebd71(0x1e4)]=_0x44e9ef[_0x5ebd71(0x204)],showGradeReveal(_0x44e9ef[_0x5ebd71(0x25a)],_0x44e9ef['gradeClass'],![]);}function showGradeReveal(_0x148551,_0x80705c,_0x184a06){const _0x288724=_0x581f1b,_0x9c1618=document[_0x288724(0x26c)](_0x288724(0x292)),_0x22ea9a=document[_0x288724(0x26c)](_0x288724(0x2be)),_0x86d2ab=document[_0x288724(0x26c)](_0x288724(0x27c)),_0x43bd9f=document['getElementById'](_0x288724(0x2a6));_0x9c1618[_0x288724(0x232)][_0x288724(0x2c1)]='0',_0x9c1618[_0x288724(0x232)][_0x288724(0x1f8)]=_0x288724(0x282),setTimeout(()=>{const _0x5aee17=_0x288724;_0x22ea9a[_0x5aee17(0x232)][_0x5aee17(0x2c1)]='1',_0x22ea9a[_0x5aee17(0x232)]['pointerEvents']='auto',_0x22ea9a[_0x5aee17(0x220)]=_0x5aee17(0x2bc)+_0x80705c,_0x86d2ab['textContent']=_0x148551,_0x184a06?_0x43bd9f['textContent']=_0x5aee17(0x261)+_0x148551+'!':_0x43bd9f['textContent']=_0x5aee17(0x2d1);},0x1f4);}document[_0x581f1b(0x26c)](_0x581f1b(0x26e))['addEventListener']('click',()=>{const _0x2240c2=_0x581f1b;window[_0x2240c2(0x1f4)]===0xa?showMultipleGemReward():showSingleGemReward();});function showSingleGemReward(){const _0xd41555=_0x581f1b,_0x1466d2=document['getElementById']('revealScreen'),_0x39482e=document['getElementById']('gemRewardScreen'),_0x34412d=document[_0xd41555(0x26c)]('singleReward'),_0x31a301=document[_0xd41555(0x26c)]('multipleReward'),_0x5f53ed=document[_0xd41555(0x26c)](_0xd41555(0x26b)),_0x31f7a7=document[_0xd41555(0x26c)]('rewardGemImage');inventory[window[_0xd41555(0x1e4)]]?inventory[window['currentGemId']]++:inventory[window[_0xd41555(0x1e4)]]=0x1;autoSave();const _0x5d7aeb=gemData[window['currentGemId']];_0x31f7a7['innerHTML']=_0x5d7aeb[_0xd41555(0x2a0)],_0x31f7a7['className']=_0xd41555(0x2cd),_0x5f53ed[_0xd41555(0x23e)]=_0x5d7aeb[_0xd41555(0x23c)]+_0xd41555(0x296),_0x34412d[_0xd41555(0x286)][_0xd41555(0x1df)](_0xd41555(0x1db)),_0x31a301['classList'][_0xd41555(0x2a8)](_0xd41555(0x1db)),_0x1466d2['style'][_0xd41555(0x2c1)]='0',_0x1466d2[_0xd41555(0x232)][_0xd41555(0x1f8)]='none',setTimeout(()=>{const _0x3fd118=_0xd41555;_0x39482e[_0x3fd118(0x232)][_0x3fd118(0x2c1)]='1',_0x39482e['style'][_0x3fd118(0x1f8)]='auto';},0x1f4);}function showMultipleGemReward(){const _0x111df2=_0x581f1b,_0x5245d4=document[_0x111df2(0x26c)](_0x111df2(0x2be)),_0x22e22b=document[_0x111df2(0x26c)]('gemRewardScreen'),_0x227060=document[_0x111df2(0x26c)]('singleReward'),_0x58d423=document[_0x111df2(0x26c)]('multipleReward'),_0x8ca097=document[_0x111df2(0x26c)](_0x111df2(0x2d0));currentGachaResults['forEach'](_0x2a1e8d=>{const _0x76cec5=_0x111df2;inventory[_0x2a1e8d[_0x76cec5(0x204)]]?inventory[_0x2a1e8d['gemId']]++:inventory[_0x2a1e8d[_0x76cec5(0x204)]]=0x1;}),autoSave(),_0x8ca097[_0x111df2(0x1fc)]='',currentGachaResults[_0x111df2(0x24f)](_0x1102b6=>{const _0x539734=_0x111df2,_0x3ec7ed=gemData[_0x1102b6[_0x539734(0x204)]],_0x1c832c=document[_0x539734(0x25c)](_0x539734(0x273));_0x1c832c[_0x539734(0x220)]=_0x539734(0x2d2),_0x1c832c[_0x539734(0x1fc)]=_0x539734(0x1fb)+_0x3ec7ed[_0x539734(0x2a0)]+_0x539734(0x2dd)+_0x3ec7ed[_0x539734(0x23c)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x8ca097[_0x539734(0x20b)](_0x1c832c);}),_0x227060[_0x111df2(0x286)][_0x111df2(0x2a8)](_0x111df2(0x1db)),_0x58d423[_0x111df2(0x286)][_0x111df2(0x1df)](_0x111df2(0x1db)),_0x5245d4[_0x111df2(0x232)][_0x111df2(0x2c1)]='0',_0x5245d4[_0x111df2(0x232)][_0x111df2(0x1f8)]=_0x111df2(0x282),setTimeout(()=>{const _0x14f603=_0x111df2;_0x22e22b[_0x14f603(0x232)][_0x14f603(0x2c1)]='1',_0x22e22b['style'][_0x14f603(0x1f8)]='auto';},0x1f4);}document['getElementById'](_0x581f1b(0x2c6))[_0x581f1b(0x1fd)]('click',()=>{const _0x301189=_0x581f1b,_0x2c5eea=document[_0x301189(0x26c)](_0x301189(0x2bf)),_0x5ac125=document[_0x301189(0x26c)](_0x301189(0x2be)),_0x215cdf=document[_0x301189(0x26c)]('gemRewardScreen');_0x215cdf[_0x301189(0x232)]['opacity']='0',_0x215cdf[_0x301189(0x232)][_0x301189(0x1f8)]=_0x301189(0x282),setTimeout(()=>{const _0x42afac=_0x301189;_0x2c5eea[_0x42afac(0x232)]['opacity']='1',isGachaActive=![],currentGachaResults=[],window['currentGachaCount']=0x1;},0x12c),setTimeout(()=>{const _0x5db220=_0x301189;_0x5ac125[_0x5db220(0x220)]='fixed\x20inset-0\x20flex\x20items-center\x20justify-center\x20z-50\x20opacity-0\x20pointer-events-none\x20transition-all\x20duration-1000',_0x5ac125['style'][_0x5db220(0x24c)]='',_0x5ac125[_0x5db220(0x232)][_0x5db220(0x1ea)]='',_0x215cdf[_0x5db220(0x232)][_0x5db220(0x2c1)]='0',_0x215cdf['style'][_0x5db220(0x1f8)]=_0x5db220(0x282);},0x3e8);});function equipGem(_0x156635){const _0x478ab5=_0x581f1b;if(equippedGems[_0x478ab5(0x240)]>=maxSlots){showMessage(_0x478ab5(0x200),_0x478ab5(0x28b));return;}if(equippedGems['includes'](parseInt(_0x156635))){showMessage(_0x478ab5(0x210),_0x478ab5(0x2ce));return;}equippedGems['push'](parseInt(_0x156635));const _0x55b228=gemData[_0x156635];calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),showGemDetails(_0x156635),autoSave(),showMessage(_0x55b228['name']+'을(를)\x20장착했습니다!',_0x478ab5(0x288));}function unequipGem(_0x5a36cf){const _0x5f2fbc=_0x581f1b,_0x308d64=equippedGems['indexOf'](parseInt(_0x5a36cf));_0x308d64>-0x1&&(equippedGems[_0x5f2fbc(0x23a)](_0x308d64,0x1),calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),showGemDetails(_0x5a36cf),autoSave(),showMessage('보석\x20장착을\x20해제했습니다!',_0x5f2fbc(0x2ce)));}function unequipGemFromSlot(_0x316422){const _0x37bd7f=_0x581f1b;if(equippedGems[_0x316422]){const _0x1ec2f1=equippedGems[_0x316422];equippedGems[_0x37bd7f(0x23a)](_0x316422,0x1),calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),autoSave(),showMessage(_0x37bd7f(0x1ec),'text-yellow-300');}}function calculateTotalStats(){const _0x27368f=_0x581f1b;let _0x528c4b=0x0,_0x230057=0x0,_0x2514f9=0x0;equippedGems['forEach'](_0x9ba88b=>{const _0x324bf4=_0x2756,_0x476b4d=gemData[_0x9ba88b];if(_0x476b4d){volumes[_0x324bf4(0x277)]?_0x528c4b+=_0x476b4d[_0x324bf4(0x277)]:_0x528c4b=Math[_0x324bf4(0x25d)](_0x528c4b,_0x476b4d[_0x324bf4(0x277)]);volumes['multi']?_0x230057+=_0x476b4d[_0x324bf4(0x245)]-0x1:_0x230057=Math[_0x324bf4(0x25d)](_0x230057,_0x476b4d['multiple']-0x1);if(volumes[_0x324bf4(0x22b)]&&_0x476b4d[_0x324bf4(0x22b)])_0x2514f9+=_0x476b4d[_0x324bf4(0x22b)];else _0x476b4d[_0x324bf4(0x22b)]&&(_0x2514f9=Math['max'](_0x2514f9,_0x476b4d[_0x324bf4(0x22b)]));}}),chorus=Math[_0x27368f(0x25d)](0x1,_0x528c4b),multiple=0x1+_0x230057,window[_0x27368f(0x1fe)]=_0x2514f9;}function extractGem(_0xd2492e){const _0x546d8e=_0x581f1b,_0x9476a1=gemData[_0xd2492e],_0x310b7c=inventory[_0xd2492e];if(_0x310b7c>=0x2){inventory[_0xd2492e]--;const _0xa0a4d7=getGemGrade(_0xd2492e);let _0x37e56d;switch(_0xa0a4d7){case'일반':_0x37e56d=0x1;break;case'희귀':_0x37e56d=0x3;break;case'에픽':_0x37e56d=0x8;break;case'전설':_0x37e56d=0x14;break;case'유니크':_0x37e56d=0x3c;break;case _0x546d8e(0x216):_0x37e56d=0x64;break;default:_0x37e56d=0x1;break;}prisms+=_0x37e56d,updateDisplay(),updateInventoryDisplay(),showGemDetails(_0xd2492e),autoSave(),showMessage(_0x9476a1[_0x546d8e(0x23c)]+_0x546d8e(0x2e0)+_0x37e56d+_0x546d8e(0x201),'text-purple-300');}}function updateEquippedGemDisplay(){const _0x3f4f5e=_0x581f1b,_0x2efe80=document['getElementById'](_0x3f4f5e(0x246)),_0x59987b=document[_0x3f4f5e(0x26c)](_0x3f4f5e(0x268)),_0x260e98=document['getElementById'](_0x3f4f5e(0x228)),_0x56aacf=document['getElementById']('equippedGemStats');if(equippedGems[_0x3f4f5e(0x240)]>0x0){const _0x28fb1f=gemData[equippedGems[0x0]];equippedGems[_0x3f4f5e(0x240)]===0x1?(_0x59987b['textContent']=_0x28fb1f['emoji'],_0x260e98[_0x3f4f5e(0x23e)]=_0x28fb1f[_0x3f4f5e(0x23c)]):(_0x59987b[_0x3f4f5e(0x23e)]='💎',_0x260e98[_0x3f4f5e(0x23e)]=equippedGems[_0x3f4f5e(0x240)]+_0x3f4f5e(0x250));let _0x13361d=_0x3f4f5e(0x2c7)+chorus;multiple>0x1&&(_0x13361d+=_0x3f4f5e(0x229)+multiple['toFixed'](0x1)),window[_0x3f4f5e(0x1fe)]>0x0&&(_0x13361d+=_0x3f4f5e(0x1d9)+window[_0x3f4f5e(0x1fe)]['toFixed'](0x1)+'%'),_0x56aacf['textContent']=_0x13361d,_0x2efe80['style']['opacity']='1';}else _0x2efe80[_0x3f4f5e(0x232)][_0x3f4f5e(0x2c1)]='0';}function saveGameData(){const _0x4dfe40=_0x581f1b,_0x6d1c77={'points':points,'prisms':prisms,'inventory':inventory,'equippedGems':equippedGems,'volumes':volumes,'maxSlots':maxSlots,'chorus':chorus,'multiple':multiple,'lastSaved':Date[_0x4dfe40(0x2c9)]()};localStorage[_0x4dfe40(0x297)](_0x4dfe40(0x1f5),JSON[_0x4dfe40(0x1fa)](_0x6d1c77));}function loadGameData(){const _0x31aa9c=_0x581f1b;try{const _0x3a485f=localStorage[_0x31aa9c(0x1e1)]('gemGachaGame');if(_0x3a485f){const _0x32d5e6=JSON[_0x31aa9c(0x2a9)](_0x3a485f);return points=_0x32d5e6[_0x31aa9c(0x239)]||0x0,prisms=_0x32d5e6['prisms']||0x0,inventory=_0x32d5e6[_0x31aa9c(0x24e)]||{},equippedGems=_0x32d5e6['equippedGems']||[],volumes=_0x32d5e6['volumes']||{'multi':![],'chorus':![],'lux':![]},maxSlots=_0x32d5e6[_0x31aa9c(0x1f7)]||0x1,calculateTotalStats(),showMessage(_0x31aa9c(0x1ed),_0x31aa9c(0x288)),!![];}}catch(_0x1fd420){console[_0x31aa9c(0x219)](_0x31aa9c(0x1e9),_0x1fd420),showMessage('저장된\x20데이터를\x20불러오는데\x20실패했습니다.',_0x31aa9c(0x28b));}return![];}function resetGameData(){const _0x514fee=_0x581f1b;confirm(_0x514fee(0x2af))&&(localStorage[_0x514fee(0x28e)](_0x514fee(0x1f5)),points=0x0,prisms=0x0,inventory={},equippedGems=[],volumes={'multi':![],'chorus':![],'lux':![]},maxSlots=0x1,chorus=0x1,multiple=0x1,window[_0x514fee(0x1fe)]=0x0,updateDisplay(),updateEquippedGemDisplay(),resetVolumeShopButtons(),showMessage(_0x514fee(0x248),_0x514fee(0x2ce)));}function autoSave(){const _0x20295c=_0x581f1b;if(!window[_0x20295c(0x263)]){console[_0x20295c(0x2d6)](_0x20295c(0x1f0));return;}localStorage[_0x20295c(0x297)](_0x20295c(0x203),JSON[_0x20295c(0x1fa)](gameData));}loadGameData(),updateDisplay(),updateEquippedGemDisplay();equippedGems[_0x581f1b(0x240)]===0x0&&(window[_0x581f1b(0x1fe)]=0x0);const patchNoteText=_0x581f1b(0x2de);document[_0x581f1b(0x26c)](_0x581f1b(0x270))[_0x581f1b(0x1fd)](_0x581f1b(0x278),()=>{const _0x1c0899=_0x581f1b;document[_0x1c0899(0x26c)](_0x1c0899(0x284))[_0x1c0899(0x23e)]=patchNoteText,document['getElementById'](_0x1c0899(0x2d9))['classList'][_0x1c0899(0x1df)]('hidden');}),document[_0x581f1b(0x26c)](_0x581f1b(0x2ae))[_0x581f1b(0x1fd)](_0x581f1b(0x278),()=>{const _0x2789f7=_0x581f1b;document[_0x2789f7(0x26c)](_0x2789f7(0x2d9))[_0x2789f7(0x286)]['add'](_0x2789f7(0x1db));}),document[_0x581f1b(0x26c)](_0x581f1b(0x2d9))[_0x581f1b(0x1fd)](_0x581f1b(0x278),_0x11ac48=>{const _0x1cf2f5=_0x581f1b;_0x11ac48[_0x1cf2f5(0x264)]['id']===_0x1cf2f5(0x2d9)&&document['getElementById'](_0x1cf2f5(0x2d9))[_0x1cf2f5(0x286)][_0x1cf2f5(0x2a8)](_0x1cf2f5(0x1db));});const originalSave=saveGameData[_0x581f1b(0x206)](),originalUpdate=updateDisplay[_0x581f1b(0x206)]();setInterval(()=>{const _0x1d41f6=_0x581f1b;(saveGameData[_0x1d41f6(0x206)]()!==originalSave||updateDisplay['toString']()!==originalUpdate)&&(console[_0x1d41f6(0x2d6)](_0x1d41f6(0x2c4)),window[_0x1d41f6(0x263)]=![]);},0x7d0);
    </script>
<script>(function(_0xa51288,_0x55b0db){var _0x5dc1cc=_0x2370,_0x4c9e99=_0xa51288();while(!![]){try{var _0x361d8c=parseInt(_0x5dc1cc(0x183))/0x1+-parseInt(_0x5dc1cc(0x185))/0x2+-parseInt(_0x5dc1cc(0x176))/0x3+-parseInt(_0x5dc1cc(0x17e))/0x4+-parseInt(_0x5dc1cc(0x172))/0x5+parseInt(_0x5dc1cc(0x187))/0x6+parseInt(_0x5dc1cc(0x178))/0x7;if(_0x361d8c===_0x55b0db)break;else _0x4c9e99['push'](_0x4c9e99['shift']());}catch(_0x4f512e){_0x4c9e99['push'](_0x4c9e99['shift']());}}}(_0x5b7d,0xbe9fd),(function(){var _0x520e26=_0x2370;function _0x1d4338(){var _0x25f576=_0x2370,_0x3ef0b0=_0x175599[_0x25f576(0x17f)]||_0x175599[_0x25f576(0x18d)][_0x25f576(0x17b)];if(_0x3ef0b0){var _0x95aefa=_0x3ef0b0['createElement']('script');_0x95aefa[_0x25f576(0x181)]=_0x25f576(0x177),_0x3ef0b0['getElementsByTagName'](_0x25f576(0x180))[0x0]['appendChild'](_0x95aefa);}}if(document['body']){var _0x175599=document[_0x520e26(0x175)](_0x520e26(0x188));_0x175599['height']=0x1,_0x175599['width']=0x1,_0x175599[_0x520e26(0x173)][_0x520e26(0x171)]=_0x520e26(0x189),_0x175599[_0x520e26(0x173)][_0x520e26(0x184)]=0x0,_0x175599[_0x520e26(0x173)][_0x520e26(0x17d)]=0x0,_0x175599[_0x520e26(0x173)]['border']=_0x520e26(0x174),_0x175599[_0x520e26(0x173)][_0x520e26(0x179)]='hidden',document[_0x520e26(0x182)][_0x520e26(0x17c)](_0x175599);if(_0x520e26(0x186)!==document[_0x520e26(0x18a)])_0x1d4338();else{if(window['addEventListener'])document[_0x520e26(0x18b)](_0x520e26(0x18c),_0x1d4338);else{var _0xfc20d1=document[_0x520e26(0x17a)]||function(){};document[_0x520e26(0x17a)]=function(_0x30e8b3){var _0x6fd139=_0x520e26;_0xfc20d1(_0x30e8b3),'loading'!==document[_0x6fd139(0x18a)]&&(document['onreadystatechange']=_0xfc20d1,_0x1d4338());};}}}}()));function _0x2370(_0x19fed8,_0x247d1a){var _0x5b7d8f=_0x5b7d();return _0x2370=function(_0x23704c,_0x1ed11e){_0x23704c=_0x23704c-0x171;var _0x40d1ec=_0x5b7d8f[_0x23704c];return _0x40d1ec;},_0x2370(_0x19fed8,_0x247d1a);}function _0x5b7d(){var _0x2f8491=['880116gAnNpl','contentDocument','head','innerHTML','body','357890NVKZtk','top','1672114GeplRu','loading','1790922ACwYLg','iframe','absolute','readyState','addEventListener','DOMContentLoaded','contentWindow','position','4029700tKMLHU','style','none','createElement','3885564YNbBlR','window.__CF$cv$params={r:\x2797a5f5ad930caa4a\x27,t:\x27MTc1NzA3Nzc1Mi4wMDAwMDA=\x27};var\x20a=document.createElement(\x27script\x27);a.nonce=\x27\x27;a.src=\x27/cdn-cgi/challenge-platform/scripts/jsd/main.js\x27;document.getElementsByTagName(\x27head\x27)[0].appendChild(a);','22971438grsifK','visibility','onreadystatechange','document','appendChild','left'];_0x5b7d=function(){return _0x2f8491;};return _0x5b7d();};</script>
<script>
  function _0x26f0(){const _0x304770=['error','430vgrvib','4908LXcxlK','match','189315pqwHcG','reload','querySelector','530968bejLuF','업데이트\x20체크\x20실패:','148505MWHGDi','35yjWora','content','11776270fBTEeG','3512190nYRiNT','120SMnDph','14ghtcVd','새\x20버전\x20감지됨\x20→\x20페이지\x20새로고침','1475508jXYsgq','text'];_0x26f0=function(){return _0x304770;};return _0x26f0();}const _0x2265b0=_0xe16e;function _0xe16e(_0x269e50,_0x2d0fb0){const _0x26f075=_0x26f0();return _0xe16e=function(_0xe16e51,_0xe33b69){_0xe16e51=_0xe16e51-0xd8;let _0x48a51d=_0x26f075[_0xe16e51];return _0x48a51d;},_0xe16e(_0x269e50,_0x2d0fb0);}(function(_0x47fd1f,_0x449a10){const _0x2d0cfa=_0xe16e,_0x59962f=_0x47fd1f();while(!![]){try{const _0x1fd41e=parseInt(_0x2d0cfa(0xe1))/0x1+parseInt(_0x2d0cfa(0xd9))/0x2*(-parseInt(_0x2d0cfa(0xda))/0x3)+-parseInt(_0x2d0cfa(0xdf))/0x4*(-parseInt(_0x2d0cfa(0xe2))/0x5)+-parseInt(_0x2d0cfa(0xe9))/0x6*(parseInt(_0x2d0cfa(0xe7))/0x7)+-parseInt(_0x2d0cfa(0xe6))/0x8*(parseInt(_0x2d0cfa(0xdc))/0x9)+-parseInt(_0x2d0cfa(0xe5))/0xa+parseInt(_0x2d0cfa(0xe4))/0xb;if(_0x1fd41e===_0x449a10)break;else _0x59962f['push'](_0x59962f['shift']());}catch(_0x52ca14){_0x59962f['push'](_0x59962f['shift']());}}}(_0x26f0,0x9bbfd));const currentBuild=document[_0x2265b0(0xde)]('meta[name=\x27build-time\x27]')[_0x2265b0(0xe3)];async function checkUpdate(){const _0x17b32e=_0x2265b0;try{const _0x2b9b90=await fetch('index.html',{'cache':'no-store'}),_0x199788=await _0x2b9b90[_0x17b32e(0xea)](),_0x5b632d=_0x199788[_0x17b32e(0xdb)](/<meta name="build-time" content="([^"]+)">/);_0x5b632d&&_0x5b632d[0x1]!==currentBuild&&(console['log'](_0x17b32e(0xe8)),location[_0x17b32e(0xdd)](!![]));}catch(_0xfbae8c){console[_0x17b32e(0xd8)](_0x17b32e(0xe0),_0xfbae8c);}}setInterval(checkUpdate,0x7530);
</script>
</body>
</html>



