<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="build-time" content="2025-09-08T00:15:00">
    <title>펜던티스트</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        .glow-button {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .glow-button:hover, .glow-button:active {
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.8);
            transform: translateY(-2px);
        }
        .currency-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        .gacha-button {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .gacha-button:hover, .gacha-button:active {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(245, 87, 108, 0.4);
        }
        .point-button {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        /* 등급별 배경색 */
        .grade-common {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #495057;
        }
        .grade-rare {
            background: linear-gradient(135deg, #51cf66 0%, #40c057 100%);
            color: white;
        }
        .grade-epic {
            background: linear-gradient(135deg, #9775fa 0%, #845ef7 100%);
            color: white;
        }
        .grade-legendary {
            background: linear-gradient(135deg, #ffd43b 0%, #fab005 100%);
            color: #495057;
        }
        .grade-unique {
            background: linear-gradient(45deg, #ff6b6b 0%, #feca57 16.66%, #48dbfb 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-special {
            background: linear-gradient(45deg, #ff6b6b 0%, #fab005 16.66%, #fa5005 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-event {
            background: linear-gradient(45deg, #ff6b6b 0%, #fa6347 16.66%, #f6b65a 33.33%, #599468 50%, #0099ff 83.33%, #bf9424 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 모바일 최적화 */
        @media (max-width: 640px) {
            .currency-card {
                padding: 1rem;
                min-width: 120px;
            }
            .currency-card .text-3xl {
                font-size: 1.5rem;
            }
            .point-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            .gacha-button {
                padding: 1.25rem 2.5rem;
                font-size: 1.125rem;
            }
        }
        
        @media (max-width: 480px) {
            .currency-card {
                padding: 0.75rem;
                min-width: 100px;
            }
            .currency-card .text-3xl {
                font-size: 1.25rem;
            }
            .point-button {
                padding: 0.875rem 1.5rem;
                font-size: 0.875rem;
            }
            .gacha-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex flex-col items-center justify-center p-4">
    
    <!-- 메인 UI 영역 -->
    <div id="mainUI" class="transition-opacity duration-500">
        <!-- 재화 표시 영역 -->
        <div class="flex gap-4 sm:gap-6 mb-8 sm:mb-12">
            <!-- 포인트 -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">포인트</div>
                <div id="points" class="text-3xl font-bold">0</div>
            </div>
            
            <!-- 프리즘 -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">프리즘</div>
                <div id="prisms" class="text-3xl font-bold">0</div>
            </div>
        </div>

        <!-- 게임 버튼 영역 -->
        <div class="flex flex-col items-center gap-4 sm:gap-6">
            <!-- 상단 버튼들 -->
            <div class="flex gap-4 items-center">
                <!-- 포인트 획득 버튼 -->
                <button id="earnPointsBtn" class="point-button glow-button px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation">
                    ✨ 포인트 획득 ✨
                </button>
                
                <!-- 인벤토리 버튼 -->
                <button id="inventoryBtn" class="bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    🎒 인벤토리
                </button>
                
                <!-- 설정 버튼 -->
                <button id="settingsBtn" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    ⚙️ 설정
                </button>
            </div>
            
            <!-- 상점 버튼 -->
            <button id="shopBtn" class="gacha-button px-16 py-5 rounded-full text-white font-bold text-2xl shadow-2xl touch-manipulation">
                🏪 상점 🏪
            </button>
            <!-- 코드 입력 영역 -->
                <div class="mt-4 flex flex-col items-center gap-2">
                    <label for="codeInput" class="text-white text-sm">🎁 코드 입력</label>
                    <div class="flex gap-2">
                        <input id="codeInput" type="text" 
                           placeholder="코드를 입력하세요"
                           class="px-3 py-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-400" />
                        <button id="redeemCodeBtn"
                                class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 px-4 py-2 rounded-lg text-white font-bold transition-all duration-300">
                            확인
                        </button>
                    </div>
                    <p id="codeMessage" class="text-xs text-gray-300 mt-1"></p>
                </div>
            <!-- 패치노트 버튼 -->
<div class="absolute bottom-4 right-4">
  <button id="patchNoteBtn"
          class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-lg text-sm">
    패치노트
  </button>
</div>
            <!-- 장착된 보석 표시 -->
            <div id="equippedGemDisplay" class="mt-4 bg-white bg-opacity-10 rounded-xl p-4 text-center text-white opacity-0 transition-all duration-300">
                <div class="text-sm opacity-80 mb-2">장착된 보석</div>
                <div id="equippedGemIcon" class="text-3xl mb-2">💎</div>
                <div id="equippedGemName" class="font-bold mb-1">보석 이름</div>
                <div id="equippedGemStats" class="text-sm opacity-80">코러스 +1</div>
            </div>
        </div>

        <!-- 결과 메시지 -->
        <div id="message" class="mt-6 sm:mt-8 text-center text-white font-medium text-base sm:text-lg opacity-0 transition-opacity duration-300 px-4"></div>
    </div>

    <!-- 뽑기 모션 화면 -->
    <div id="gachaScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="text-center">
            <!-- 원석 이미지 (나중에 실제 이미지로 교체 가능) -->
            <div id="gemstone" class="w-32 h-32 sm:w-40 sm:h-40 bg-gray-300 rounded-lg mx-auto mb-6 cursor-pointer transform transition-all duration-300 hover:scale-110 shadow-2xl flex items-center justify-center text-4xl">
                💎
            </div>
            <p id="gachaText" class="text-white text-lg sm:text-xl font-medium">원석을 클릭하세요!</p>
        </div>
    </div>

    <!-- 등급 공개 화면 -->
    <div id="revealScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000">
        <div class="text-center">
            <div id="gradeText" class="text-6xl sm:text-8xl font-bold mb-4 drop-shadow-2xl"></div>
            <p id="revealMessage" class="text-white text-xl sm:text-2xl font-medium mb-8">등급이 공개되었습니다!</p>
            <button id="continueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                계속하기
            </button>
        </div>
    </div>

    <!-- 보석 획득 화면 -->
    <div id="gemRewardScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
        <div class="text-center max-w-4xl w-full px-4">
            <!-- 단일 보석 표시 (1회 뽑기용) -->
            <div id="singleReward" class="hidden">
                <div id="rewardGemImage" class="w-24 h-24 sm:w-32 sm:h-32 bg-yellow-400 rounded-full mx-auto mb-6 shadow-2xl flex items-center justify-center text-3xl sm:text-4xl">
                    💎
                </div>
                <div id="rewardText" class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">1보석 획득!</div>
            </div>
            
            <!-- 다중 보석 표시 (10회 뽑기용) -->
            <div id="multipleReward" class="hidden">
                <div class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">10개 보석 획득!</div>
                <div id="multipleGemGrid" class="grid grid-cols-5 gap-4 mb-8 max-w-2xl mx-auto">
                    <!-- 10개 보석이 여기에 표시됩니다 -->
                </div>
            </div>
            
            <button id="finalContinueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                확인
            </button>
        </div>
    </div>

    <!-- 상점 메인 화면 -->
    <div id="shopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- 상점 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">🏪 상점</h2>
                <button id="closeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 상점 메뉴 -->
            <div class="space-y-4">
                <button onclick="openGachaShop()" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    ⛏️ 원석 채굴장
                </button>
                <button onclick="openVolumeShop()" class="w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    📦 볼륨 상점
                </button>
            </div>
        </div>
    </div>

    <!-- 원석 채굴장 화면 -->
    <div id="gachaShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl max-h-[90vh] p-6 flex flex-col">
            <!-- 채굴장 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">⛏️ 원석 채굴장</h2>
                <button id="closeGachaShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 뽑기 목록 (스크롤 가능) -->
            <div class="space-y-4 overflow-y-auto flex-1 pr-2" style="scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.3) transparent;">
                <style>
                    /* 웹킷 브라우저용 스크롤바 스타일 */
                    .space-y-4::-webkit-scrollbar {
                        width: 6px;
                    }
                    .space-y-4::-webkit-scrollbar-track {
                        background: rgba(255,255,255,0.1);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb {
                        background: rgba(255,255,255,0.3);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb:hover {
                        background: rgba(255,255,255,0.5);
                    }
                </style>
                <!-- 초심자의 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🪨 초심자의 원석</h3>
                        <p class="text-gray-300 text-sm">기본적인 보석이 나오는 원석입니다</p>
                        <p class="text-blue-300 font-medium">💰 10 포인트 | 💰 100 포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('beginner')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('beginner', 10)" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 빛나는 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">✨ 빛나는 원석</h3>
                        <p class="text-gray-300 text-sm">균형잡힌 확률의 원석입니다</p>
                        <p class="text-purple-300 font-medium">💎 5 프리즘 | 💎 50 프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('normal')" class="bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('normal', 10)" class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 영롱한 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🌟 영롱한 원석</h3>
                        <p class="text-gray-300 text-sm">고급 보석이 더 잘 나오는 원석입니다</p>
                        <p class="text-purple-300 font-medium">💎 30 프리즘 | 💎 300 프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('premium')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('premium', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 시즌 픽업 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">💎 0.5 시즌 픽업 원석</h3>
                        <p class="text-gray-300 text-sm">스카이 시즌 메인 보석인 에픽:오팔, 스페셜:???,???이 높은 확률로 나오는 원석입니다.</p>
                        <p class="text-purple-300 font-medium">💎 50프리즘 | 💎 500프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('luxury')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('luxury', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>

                <!-- 포인트 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">💰 포인트 원석</h3>
                        <p class="text-gray-300 text-sm">포인트를 사용하는 고급 원석입니다.</p>
                        <p class="text-purple-300 font-medium">💰 100,000 포인트 | 💰 1,000,000 포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('pointer')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('pointer', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>

                <!-- 이벤트 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🎁 이벤트 원석</h3>
                        <p class="text-gray-300 text-sm">이벤트 등급 정제된 원석을 뽑을 수 있는 원석입니다.</p>
                        <p class="text-purple-300 font-medium">차스티움x1 + 50,000 포인트 | 차스티움x10 + 500,000포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('event')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('event', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- 볼륨 상점 화면 -->
    <div id="volumeShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl p-6">
            <!-- 볼륨 상점 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">📦 볼륨 상점</h2>
                <button id="closeVolumeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 볼륨 목록 -->
            <div class="space-y-4">
                <!-- 멀티 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">🔢 멀티 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 배율을 합연산으로 더해줍니다</p>
                            <p class="text-blue-300 font-medium">💰 100,000 포인트</p>
                            <p id="multiVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyMultiVolumeBtn" onclick="buyVolume('multi')" class="bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
                
                <!-- 코러스 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">🎵 코러스 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 코러스를 더해줍니다</p>
                            <p class="text-blue-300 font-medium">💰 55,000 포인트</p>
                            <p id="chorusVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyChorusVolumeBtn" onclick="buyVolume('chorus')" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
                
                <!-- 럭스 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">✨ 럭스 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 휘광 확률을 더해줍니다</p>
                            <p class="text-purple-300 font-medium">💎 100 프리즘 + 전설 이상 보석 1개</p>
                            <p id="luxVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyLuxVolumeBtn" onclick="buyVolume('lux')" class="bg-gradient-to-r from-yellow-400 to-pink-500 hover:from-yellow-500 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 설정 화면 -->
    <div id="settingsScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- 설정 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">⚙️ 설정</h2>
                <button id="closeSettingsBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 설정 옵션들 -->
            <div class="space-y-4">
                <!-- 수동 저장 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">💾 게임 저장</h3>
                    <p class="text-gray-300 text-sm mb-3">게임이 자동으로 저장되지만, 수동으로도 저장할 수 있습니다.</p>
                    <button onclick="saveGameData(); showMessage('게임이 저장되었습니다!', 'text-green-300')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        저장하기
                    </button>
                </div>
                
                <!-- 데이터 초기화 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">🗑️ 데이터 초기화</h3>
                    <p class="text-gray-300 text-sm mb-3">모든 게임 데이터를 삭제하고 처음부터 시작합니다.</p>
                    <button onclick="resetGameData()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        초기화
                    </button>
                </div>
                
                <!-- 저장 정보 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">📊 저장 정보</h3>
                    <div id="saveInfo" class="text-gray-300 text-sm">
                        <p>• 데이터는 브라우저에 자동 저장됩니다</p>
                        <p>• 브라우저 데이터를 삭제하면 게임 데이터도 사라집니다</p>
                        <p>• 같은 브라우저에서만 데이터가 유지됩니다</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 인벤토리 화면 -->
    <div id="inventoryScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-4xl h-5/6 max-h-96 sm:max-h-screen sm:h-4/5 p-6 flex flex-col">
            <!-- 인벤토리 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">🎒 인벤토리</h2>
                <button id="closeInventoryBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 인벤토리 내용 -->
            <div class="flex flex-1 gap-6 overflow-hidden">
                <!-- 좌측: 보석 리스트 -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <h3 class="text-lg font-bold text-white mb-4">보석 목록</h3>
                    <div id="gemList" class="grid grid-cols-3 sm:grid-cols-4 gap-3">
                        <!-- 보석들이 여기에 동적으로 추가됩니다 -->
                    </div>
                </div>
                
                <!-- 우측: 보석 상세 정보 및 장착 슬롯 -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <!-- 장착 슬롯 -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-white mb-3">장착 슬롯</h3>
                        <div id="equipmentSlots" class="grid grid-cols-2 gap-2 mb-4">
                            <!-- 장착 슬롯들이 여기에 동적으로 추가됩니다 -->
                        </div>
                        <div class="text-xs text-gray-400">
                            <span id="slotInfo">슬롯 1/1 사용 중</span>
                        </div>
                    </div>
                    
                    <!-- 보석 상세 정보 -->
                    <div id="gemDetails" class="text-center text-white">
                        <div class="text-6xl mb-4">💎</div>
                        <h3 class="text-xl font-bold mb-2">보석을 선택하세요</h3>
                        <p class="text-gray-300">좌측에서 보석을 클릭하면 상세 정보가 표시됩니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 패치노트 모달 -->
<div id="patchNoteModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 max-h-[80vh] overflow-y-auto p-6 relative">
    <h2 class="text-lg font-bold mb-4">📜 패치노트</h2>
    <pre id="patchNoteContent" class="text-sm whitespace-pre-wrap text-gray-800"></pre>
    <button id="closePatchNote" 
            class="absolute top-2 right-2 text-gray-500 hover:text-black">✖</button>
  </div>
</div>
    <!-- 매크로 감지 모달 -->
<div id="macroModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 p-6 text-center relative">
    <p class="text-lg font-bold text-red-600 mb-4">🚨 경고</p>
    <p id="macroText" class="text-gray-800">
      메크로가 감지되었습니다.<br>
      30초간 아무 입력이 없으면 자동으로 닫힙니다.
    </p>
  </div>
</div>
    <script>const _0x5acbe5=_0x5a88;(function(_0x15f412,_0x2ebdd0){const _0x54209d=_0x5a88,_0x191c73=_0x15f412();while(!![]){try{const _0x29a85a=parseInt(_0x54209d(0x124))/0x1+-parseInt(_0x54209d(0x13a))/0x2*(parseInt(_0x54209d(0x147))/0x3)+parseInt(_0x54209d(0x1ed))/0x4*(parseInt(_0x54209d(0x1bb))/0x5)+parseInt(_0x54209d(0x1cf))/0x6*(-parseInt(_0x54209d(0x210))/0x7)+-parseInt(_0x54209d(0x1f8))/0x8+parseInt(_0x54209d(0x169))/0x9*(parseInt(_0x54209d(0x21c))/0xa)+-parseInt(_0x54209d(0x196))/0xb;if(_0x29a85a===_0x2ebdd0)break;else _0x191c73['push'](_0x191c73['shift']());}catch(_0x443aab){_0x191c73['push'](_0x191c73['shift']());}}}(_0x17cb,0x29293));let points=0x0,prisms=0x0,gems=0x0,chorus=0x0,multiple=0x1,isGachaActive=![],inventory={},equippedGems=[],currentGachaResults=[],volumes={'multi':![],'chorus':![],'lux':![]},maxSlots=0x1;const pointsDisplay=document[_0x5acbe5(0x153)]('points'),prismsDisplay=document['getElementById'](_0x5acbe5(0x13f)),earnPointsBtn=document[_0x5acbe5(0x153)](_0x5acbe5(0x164)),shopBtn=document['getElementById'](_0x5acbe5(0x217)),inventoryBtn=document[_0x5acbe5(0x153)](_0x5acbe5(0x19e)),messageDiv=document[_0x5acbe5(0x153)]('message'),gemData={0x1:{'name':'작은\x20수정','emoji':'💎','chorus':0x1,'multiple':0x1,'description':'작고\x20투명한\x20수정입니다.'},0x2:{'name':_0x5acbe5(0x1da),'emoji':'🔷','chorus':0x2,'multiple':0x1,'description':_0x5acbe5(0x191)},0x3:{'name':_0x5acbe5(0x134),'emoji':'🔶','chorus':0x3,'multiple':0x1,'description':_0x5acbe5(0x1d4)},0x4:{'name':_0x5acbe5(0x144),'emoji':'💚','chorus':0x4,'multiple':0x1,'description':_0x5acbe5(0x148)},0x5:{'name':'사파이어','emoji':'💙','chorus':0x5,'multiple':0x1,'description':'깊은\x20파란색의\x20고급\x20보석입니다.'},0x6:{'name':'루비','emoji':'❤️','chorus':0x6,'multiple':0x1,'description':_0x5acbe5(0x159)},0x7:{'name':_0x5acbe5(0x167),'emoji':'💜','chorus':0x7,'multiple':1.1,'description':_0x5acbe5(0x1e7)},0x8:{'name':_0x5acbe5(0x11d),'emoji':'💛','chorus':0x8,'multiple':1.2,'description':_0x5acbe5(0x177)},0x9:{'name':_0x5acbe5(0x1aa),'emoji':'💍','chorus':0x9,'multiple':1.3,'description':_0x5acbe5(0x143)},0xa:{'name':'오팔','emoji':'🌈','chorus':0xa,'multiple':1.4,'lux':0.5,'description':_0x5acbe5(0x201)},0xb:{'name':'진주','emoji':'🤍','chorus':0xb,'multiple':1.5,'lux':0.8,'description':_0x5acbe5(0x17b)},0xc:{'name':_0x5acbe5(0x1cd),'emoji':'🧡','chorus':0xc,'multiple':1.6,'lux':0x1,'description':'따뜻한\x20주황빛의\x20보석입니다.'},0xd:{'name':_0x5acbe5(0x129),'emoji':'⭐','chorus':0xf,'multiple':0x2,'lux':2.5,'description':_0x5acbe5(0x222)},0xe:{'name':'달의\x20눈물','emoji':'🌙','chorus':0x14,'multiple':2.5,'lux':0x4,'description':_0x5acbe5(0x14f)},0xf:{'name':_0x5acbe5(0x1ae),'emoji':'☀️','chorus':0x19,'multiple':0x3,'lux':0x5,'description':'태양의\x20힘이\x20담긴\x20전설의\x20보석입니다.'},0x10:{'name':'카르마\x20벨','emoji':'☯','chorus':0x22,'multiple':3.4,'lux':0x6,'description':_0x5acbe5(0x16a)},0x11:{'name':'파시티션트','emoji':'🔮','chorus':0x24,'multiple':0x4,'lux':0xa,'description':_0x5acbe5(0x15a)},0x12:{'name':_0x5acbe5(0x16d),'emoji':'🧿','chorus':0x1e,'multiple':4.1,'lux':8.3,'description':_0x5acbe5(0x209)},0x13:{'name':_0x5acbe5(0x131),'emoji':'🃏','chorus':0x11,'multiple':7.7,'lux':7.7,'description':'<다이스\x20룸>\x20카지노에서\x20만든\x20인조\x20보석입니다.\x20VIP에게\x20행운을\x20기원하는\x20의미로\x20주어집니다.'},0x14:{'name':'다이스톤','emoji':'🎲','chorus':0x6,'multiple':1.6,'description':_0x5acbe5(0x15d)},0x15:{'name':_0x5acbe5(0x12a),'emoji':'📛','chorus':0x2c,'multiple':4.4,'lux':4.4,'description':_0x5acbe5(0x1a2)},0x16:{'name':_0x5acbe5(0x1a9),'emoji':'🪽','chorus':0x4d,'multiple':7.7,'lux':7.7,'description':'천국에서\x20쓰는\x20헤븐\x20블루\x20염료를\x20제작할때\x20쓰는\x20값비싼\x20보석입니다.'},0x17:{'name':_0x5acbe5(0x1df),'emoji':'🖱','chorus':0xa,'multiple':1.3,'description':_0x5acbe5(0x178)},0x18:{'name':_0x5acbe5(0x1cb),'emoji':'💠','chorus':0x34,'multiple':6.3,'lux':5.3,'description':_0x5acbe5(0x1c7)},0x19:{'name':_0x5acbe5(0x21b),'emoji':'🎨','chorus':0x45,'multiple':6.7,'lux':0x7,'description':_0x5acbe5(0x13d)},0x1a:{'name':_0x5acbe5(0x133),'emoji':'⭐','chorus':0x43,'multiple':7.1,'lux':6.8,'description':_0x5acbe5(0x1eb)},0x1b:{'name':'GM','emoji':'⭐','chorus':0x1869f,'multiple':1.1,'lux':0x64,'description':_0x5acbe5(0x146)}};function getGemGrade(_0x76fa8){const _0x44e925=_0x5acbe5;for(const [_0x5d0224,_0x41add9]of Object[_0x44e925(0x18f)](gemRewards)){if(_0x41add9[_0x44e925(0x14a)](parseInt(_0x76fa8)))return _0x5d0224;}return'일반';}function updateDisplay(){const _0x39c881=_0x5acbe5;pointsDisplay[_0x39c881(0x15f)]=points,prismsDisplay['textContent']=prisms;}function showMessage(_0x237710,_0x3b87f1=_0x5acbe5(0x1c2)){const _0x1d2d69=_0x5acbe5;messageDiv[_0x1d2d69(0x15f)]=_0x237710,messageDiv['className']=_0x1d2d69(0x20f)+_0x3b87f1,messageDiv[_0x1d2d69(0x195)]['opacity']='1',setTimeout(()=>{const _0xc95687=_0x1d2d69;messageDiv[_0xc95687(0x195)][_0xc95687(0x1a5)]='0';},0x7d0);}function _0x5a88(_0x4743d0,_0x2782f8){const _0x17cbe1=_0x17cb();return _0x5a88=function(_0x5a88c0,_0x1d5e99){_0x5a88c0=_0x5a88c0-0x11b;let _0x2d4708=_0x17cbe1[_0x5a88c0];return _0x2d4708;},_0x5a88(_0x4743d0,_0x2782f8);}function loadUsedCodes(){const _0x505bdc=_0x5acbe5,_0x3153bd=localStorage['getItem'](_0x505bdc(0x19c));return _0x3153bd?JSON['parse'](_0x3153bd):[];}function saveUsedCodes(_0x4efc91){const _0x55ee07=_0x5acbe5;localStorage[_0x55ee07(0x1f4)](_0x55ee07(0x19c),JSON[_0x55ee07(0x1b8)](_0x4efc91));}const redeemCodes={'ReF5in3':{'gem':[0x17],'used':![]}};document[_0x5acbe5(0x153)]('redeemCodeBtn')[_0x5acbe5(0x16c)](_0x5acbe5(0x1c3),()=>{const _0x59e670=_0x5acbe5,_0x52f768=document[_0x59e670(0x153)](_0x59e670(0x1f5))[_0x59e670(0x168)][_0x59e670(0x20a)](),_0x3b57ed=document[_0x59e670(0x153)](_0x59e670(0x1f0));if(!_0x52f768){_0x3b57ed[_0x59e670(0x15f)]=_0x59e670(0x1ad),_0x3b57ed[_0x59e670(0x1be)]='text-xs\x20text-red-400\x20mt-1';return;}const _0x39538a=redeemCodes[_0x52f768],_0x10f0b7=loadUsedCodes();if(_0x39538a&&!_0x10f0b7[_0x59e670(0x14a)](_0x52f768)){let _0x342749=[];_0x39538a[_0x59e670(0x13f)]&&(prisms+=_0x39538a[_0x59e670(0x13f)],_0x342749[_0x59e670(0x203)](_0x39538a[_0x59e670(0x13f)]+_0x59e670(0x163))),_0x39538a['gem']&&Array['isArray'](_0x39538a['gem'])&&_0x39538a['gem']['forEach'](_0x5736b2=>{const _0x1fb668=_0x59e670;inventory[_0x5736b2]?inventory[_0x5736b2]++:inventory[_0x5736b2]=0x1,_0x342749[_0x1fb668(0x203)](gemData[_0x5736b2][_0x1fb668(0x122)]+_0x1fb668(0x1bc));}),_0x39538a['gems']&&Array['isArray'](_0x39538a['gems'])&&_0x39538a[_0x59e670(0x176)][_0x59e670(0x20d)](_0x11fee6=>{const _0x1f94bd=_0x59e670;inventory[_0x11fee6]?inventory[_0x11fee6]+=0x3e7:inventory[_0x11fee6]=0x3e7,_0x342749[_0x1f94bd(0x203)](gemData[_0x11fee6][_0x1f94bd(0x122)]+_0x1f94bd(0x156));}),_0x10f0b7[_0x59e670(0x203)](_0x52f768),saveUsedCodes(_0x10f0b7),_0x3b57ed[_0x59e670(0x15f)]=_0x342749[_0x59e670(0x1d3)](',\x20')+_0x59e670(0x1fc),_0x3b57ed[_0x59e670(0x1be)]='text-xs\x20text-green-400\x20mt-1';}else _0x39538a&&_0x10f0b7[_0x59e670(0x14a)](_0x52f768)?(_0x3b57ed[_0x59e670(0x15f)]=_0x59e670(0x12e),_0x3b57ed[_0x59e670(0x1be)]='text-xs\x20text-yellow-400\x20mt-1'):(_0x3b57ed['textContent']=_0x59e670(0x20b),_0x3b57ed[_0x59e670(0x1be)]=_0x59e670(0x1e9));}),document[_0x5acbe5(0x16c)]('keydown',function(_0x1c10a2){const _0x4bcc81=_0x5acbe5;if(_0x1c10a2['keyCode']===0x7b)return _0x1c10a2[_0x4bcc81(0x140)](),alert('개발자\x20도구\x20사용이\x20제한되었습니다!'),![];if(_0x1c10a2[_0x4bcc81(0x1fa)]&&_0x1c10a2[_0x4bcc81(0x181)]&&(_0x1c10a2[_0x4bcc81(0x22b)]===0x49||_0x1c10a2[_0x4bcc81(0x22b)]===0x4a))return _0x1c10a2[_0x4bcc81(0x140)](),alert(_0x4bcc81(0x199)),![];if(_0x1c10a2[_0x4bcc81(0x1fa)]&&_0x1c10a2[_0x4bcc81(0x22b)]===0x55)return _0x1c10a2['preventDefault'](),alert(_0x4bcc81(0x21e)),![];}),document['addEventListener'](_0x5acbe5(0x215),function(_0x2fc6a8){const _0x2fa214=_0x5acbe5;_0x2fc6a8[_0x2fa214(0x140)](),alert(_0x2fa214(0x1a4));}),updateDisplay(),updateInventoryDisplay(),autoSave();let clickHistory=[],macroTimer=null,macroActive=![];function _0x17cb(){const _0x4c78ef=['순결한\x20힘으로\x20정제된\x20황금석입니다.\x20불순물\x20없는\x20진짜\x20순@금이죠.','코드\x20변조\x20감지됨!','4fzHVbC','원석을\x20클릭하세요!\x20(10회\x20뽑기)','totalLux','codeMessage','아이디와\x20비밀번호를\x20입력하세요.','fixed\x20inset-0\x20flex\x20items-center\x20justify-center\x20z-50\x20transition-all\x20duration-1000\x20','text-yellow-300','setItem','codeInput','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','604600ZsbxuG','bg-gradient-to-r\x20from-blue-500\x20to-purple-600\x20hover:from-blue-600\x20hover:to-purple-700\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300','ctrlKey','bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20hover:from-orange-600\x20hover:to-red-700\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300','를\x20획득했습니다!','55,000\x20포인트','최고\x20등급:\x20','getItem','저장된\x20데이터를\x20불러오는데\x20실패했습니다.','무지개빛으로\x20변하는\x20신비한\x20보석입니다.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-gray-400\x20text-sm\x20mb-4\x22>보유\x20개수:\x20','push',')\x22\x20class=\x22bg-purple-500\x20hover:bg-purple-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>추출</button>','text-xs\x20text-green-400\x20mt-1','text-green-300','<button\x20onclick=\x22unequipGem(','<button\x20onclick=\x22equipGem(','푸른빛의\x20눈처럼\x20생긴\x20보석입니다.','trim','잘못된\x20코드입니다!','럭스\x20볼륨\x20구매에\x20사용할\x20보석을\x20선택하세요:\x0a\x0a','forEach','closeShopBtn','mt-8\x20text-center\x20font-medium\x20text-lg\x20transition-opacity\x20duration-300\x20','7NUYdCB','beginner','저장된\x20게임\x20데이터를\x20불러왔습니다!','closeGachaShopBtn','currentGachaType','contextmenu','gradeClass','shopBtn','revealScreen','equippedGemIcon','luxVolumeStatus','정재된\x20오팔','2937290meBSWG','createElement','소스\x20보기가\x20제한되었습니다!','floor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x22>','target','하늘에서\x20떨어진\x20별의\x20조각입니다.','chorusVolumeStatus','럭스\x20볼륨','스페셜','gameSaves','text-xs\x20text-gray-400\x20mt-1','collection','gachaShopScreen','✅\x20온라인\x20데이터\x20불러오기\x20성공','keyCode','innerHTML','multiVolumeStatus','코러스\x20+','황금석','pointerEvents','max','currentGrade','grade','name','volumeShopScreen','179795LXBIiP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-3xl\x20mb-2\x22>','volumes','settingsScreen','get','별의\x20조각','헬\x20크림슨','buyLuxVolumeBtn','buyMultiVolumeBtn','currentGemId','이미\x20사용한\x20코드입니다!','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-blue-300\x20font-medium\x20mb-2\x22>','toString','팔라틱\x20조커','grade-event','정제된\x20황금석','붉은\x20수정','포인트','points','premium','equippedGems','div','2JfQhCN','keys','개를\x20획득했습니다!','순결한\x20힘으로\x20정제된\x20오팔입니다.\x20찬란한\x20무지갯빛이\x20특징입니다.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-6xl\x20mb-4\x22>','prisms','preventDefault','\x20획득!','none','가장\x20단단하고\x20빛나는\x20보석입니다.','에메랄드','gemstone','GM.','903978EvbUqh','신비로운\x20녹색\x20보석입니다.','patchNoteModal','includes','multiple','userIdInput','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20onclick=\x22extractGem(','달빛이\x20응축된\x20신비한\x20보석입니다.','개\x20보유)\x0a','splice','멀티\x20볼륨','getElementById','pointer','grade-legendary','\x20999개','length','log','정열적인\x20빨간색\x20보석입니다.','태평양\x20어느\x20심해에서\x20발견된\x20빛이나는\x20보석입니다.','bg-white\x20bg-opacity-10\x20rounded-lg\x20p-3\x20text-center','\x0a번호를\x20입력하세요\x20(취소하려면\x200):','<다이스\x20룸>\x20외벽을\x20이루는\x20대리석과\x20비슷한\x20재질의\x20광석입니다.','appendChild','textContent','doc','add','multipleReward','\x20프리즘','earnPointsBtn','등급이\x20공개되었습니다!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x20justify-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','자수정','value','9DptirN','수백년전\x20떨어진\x20혜성에서\x20떨어진\x20파편입니다.\x20어쩐지\x20털이..날리는것\x20같네요?','luxury','addEventListener','폴리\x20아이드','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>',')\x22\x20class=\x22bg-red-500\x20hover:bg-red-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>장착\x20해제</button>','error','grade-special','text-purple-300','을(를)\x20장착했습니다!','auto','macroModal','gems','황금빛으로\x20빛나는\x20보석입니다.','아주\x20맑고\x20순백한\x20색의\x20수정입니다.\x20특별한\x20곳에\x20사용할\x20수\x20있을\x20것\x20같아요.',')\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>장착하기</button>','<button\x20class=\x22bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed\x22\x20disabled>슬롯\x20부족</button>','바다에서\x20온\x20순백의\x20보석입니다.','equippedGemName','normal','classList','exists','gemRewardScreen','shiftKey','text-blue-300','게임\x20데이터\x20로드\x20실패:','와\x20보석(ID:23)\x202개\x20이상이\x20필요합니다!','<button\x20class=\x22bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed\x22\x20disabled>추출\x20불가</button>','grade-epic','random','text-red-300','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x22>','continueBtn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>','singleReward','data','patchNoteBtn','entries','closeInventoryBtn','푸른빛이\x20도는\x20아름다운\x20수정입니다.','set','event','remove','style','1483372IGURQf','gachaScreen','이벤트','개발자\x20도구\x20사용이\x20제한되었습니다!','mainUI','비밀번호가\x20일치하지\x20않습니다.','usedRedeemCodes','게임\x20데이터가\x20초기화되었습니다.','inventoryBtn','patchNoteContent','gemGachaGame','emoji','지옥의\x20조개가\x20뱉은\x20진주입니다.\x20내부에\x20용암이\x20흐릅니다.','allowSave','우클릭이\x20제한되었습니다!','opacity','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x20opacity-50\x22>💎</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-400\x22>비어있음</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20필요)','보유\x20중','홀리틱\x20라피스','다이아몬드','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-blue-300\x20mb-1\x22>','코드를\x20입력하세요!','태양의\x20심장','equipmentSlots','이미\x20보유하고\x20있는\x20볼륨입니다!','grade-unique','\x0a📅\x200.0.5\x20알파\x20업데이트(2025.9.7)\x0a-\x20매크로\x20방지\x20기능\x20추가\x0a-\x20이벤트\x20보석\x203종,\x20에픽\x20보석\x201종\x20추가\x0a-\x20<정제>\x20이벤트\x20광석\x20출현!(~9.10)\x0a-\x20업데이트\x20리딤\x20코드\x20:\x20ReF5in3(신규\x20에픽\x20보석)\x0a','\x20사용\x20중','disabled','shopScreen','을(를)\x20구매했습니다!\x20(','indexOf','stringify','100,000\x20포인트','정말로\x20게임\x20데이터를\x20초기화하시겠습니까?\x20이\x20작업은\x20되돌릴\x20수\x20없습니다.','1529085RKKdNd','\x201개','lux','className','background','description','probability','text-white','click','maxSlots','\x20포인트\x20+\x20휘광으로\x20프리즘\x201개\x20획득!','inventory','순결한\x20힘으로\x20정제된\x20작은\x20수정입니다.\x20진정한\x20힘이\x20개방되었습니다.','\x20|\x20휘광\x20','password','grade-common','정제된\x20작은\x20수정','재화가\x20부족합니다!','토파즈','gemId','593958KUiZRa','bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed','revealMessage','grade-rare','join','붉은빛이\x20도는\x20화려한\x20수정입니다.','inventoryScreen','보석\x20장착을\x20해제했습니다!','multi','multipleGemGrid','chorus','푸른\x20수정','코러스\x20볼륨','fixed\x20inset-0\x20flex\x20items-center\x20justify-center\x20z-50\x20opacity-0\x20pointer-events-none\x20transition-all\x20duration-1000','hidden','gachaText','차스티움','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>','now','closeSettingsBtn','\x20포인트를\x20획득했습니다!','개\x20장착됨','을(를)\x20추출하여\x20프리즘\x20','currentGachaCount','고귀한\x20보라색\x20보석입니다.','animation','text-xs\x20text-red-400\x20mt-1','유니크'];_0x17cb=function(){return _0x4c78ef;};return _0x17cb();}const macroModal=document[_0x5acbe5(0x153)](_0x5acbe5(0x175));function openMacroModal(){const _0x4c037c=_0x5acbe5;if(macroActive)return;macroActive=!![],macroModal[_0x4c037c(0x17e)][_0x4c037c(0x194)](_0x4c037c(0x1dd)),resetMacroCloseTimer();}function closeMacroModal(){const _0x333225=_0x5acbe5;macroActive=![],macroModal[_0x333225(0x17e)][_0x333225(0x161)](_0x333225(0x1dd)),macroTimer&&(clearTimeout(macroTimer),macroTimer=null),clickHistory=[];}function resetMacroCloseTimer(){if(macroTimer)clearTimeout(macroTimer);macroTimer=setTimeout(()=>{closeMacroModal();},0x7530);}document[_0x5acbe5(0x16c)](_0x5acbe5(0x1c3),()=>{macroActive&&resetMacroCloseTimer();}),earnPointsBtn[_0x5acbe5(0x16c)]('click',()=>{const _0x23d800=_0x5acbe5;if(isGachaActive)return;const _0x5d192f=Date[_0x23d800(0x1e1)]();clickHistory['push'](_0x5d192f),clickHistory=clickHistory['filter'](_0x3b4bda=>_0x5d192f-_0x3b4bda<=0xbb8);if(clickHistory[_0x23d800(0x157)]>=0x33){openMacroModal();return;}if(!macroActive){const _0x3ae759=Math['round']((0x1+chorus)*multiple);points+=_0x3ae759;if(window['totalLux']>0x0){if(Math[_0x23d800(0x187)]()*0x64<window[_0x23d800(0x1ef)]){prisms+=0x1,updateDisplay(),autoSave(),showMessage(_0x3ae759+_0x23d800(0x1c5),_0x23d800(0x172));return;}}updateDisplay(),autoSave(),showMessage(_0x3ae759+_0x23d800(0x1e3),_0x23d800(0x182));}}),shopBtn[_0x5acbe5(0x16c)](_0x5acbe5(0x1c3),()=>{if(isGachaActive)return;openShop();}),inventoryBtn['addEventListener'](_0x5acbe5(0x1c3),()=>{if(isGachaActive)return;openInventory();}),document['getElementById']('settingsBtn')['addEventListener'](_0x5acbe5(0x1c3),()=>{if(isGachaActive)return;openSettings();});function openShop(){const _0x1d6252=_0x5acbe5,_0x1e5118=document[_0x1d6252(0x153)](_0x1d6252(0x1b5));_0x1e5118[_0x1d6252(0x195)]['opacity']='1',_0x1e5118[_0x1d6252(0x195)]['pointerEvents']=_0x1d6252(0x174);}document[_0x5acbe5(0x153)](_0x5acbe5(0x20e))[_0x5acbe5(0x16c)]('click',()=>{const _0x3962ed=_0x5acbe5,_0x2cdd08=document[_0x3962ed(0x153)](_0x3962ed(0x1b5));_0x2cdd08['style'][_0x3962ed(0x1a5)]='0',_0x2cdd08[_0x3962ed(0x195)][_0x3962ed(0x11e)]='none';});function openGachaShop(){const _0x4593c8=_0x5acbe5,_0x4e46ed=document['getElementById'](_0x4593c8(0x1b5)),_0x9acb15=document[_0x4593c8(0x153)](_0x4593c8(0x229));_0x4e46ed['style'][_0x4593c8(0x1a5)]='0',_0x4e46ed[_0x4593c8(0x195)]['pointerEvents']=_0x4593c8(0x142),setTimeout(()=>{const _0x232c4f=_0x4593c8;_0x9acb15[_0x232c4f(0x195)]['opacity']='1',_0x9acb15['style'][_0x232c4f(0x11e)]=_0x232c4f(0x174);},0x12c);}document[_0x5acbe5(0x153)](_0x5acbe5(0x213))[_0x5acbe5(0x16c)]('click',()=>{const _0xc98f74=_0x5acbe5,_0xc510ec=document[_0xc98f74(0x153)](_0xc98f74(0x229));_0xc510ec[_0xc98f74(0x195)][_0xc98f74(0x1a5)]='0',_0xc510ec[_0xc98f74(0x195)]['pointerEvents']='none';});function openVolumeShop(){const _0x1918e2=_0x5acbe5,_0x4345be=document['getElementById']('shopScreen'),_0x3f6099=document[_0x1918e2(0x153)](_0x1918e2(0x123));_0x4345be['style'][_0x1918e2(0x1a5)]='0',_0x4345be[_0x1918e2(0x195)][_0x1918e2(0x11e)]=_0x1918e2(0x142),setTimeout(()=>{const _0xec339a=_0x1918e2;_0x3f6099[_0xec339a(0x195)][_0xec339a(0x1a5)]='1',_0x3f6099[_0xec339a(0x195)][_0xec339a(0x11e)]='auto',updateVolumeShopDisplay();},0x12c);}document[_0x5acbe5(0x153)]('closeVolumeShopBtn')[_0x5acbe5(0x16c)](_0x5acbe5(0x1c3),()=>{const _0xb7a364=_0x5acbe5,_0x345d58=document[_0xb7a364(0x153)](_0xb7a364(0x123));_0x345d58[_0xb7a364(0x195)][_0xb7a364(0x1a5)]='0',_0x345d58[_0xb7a364(0x195)][_0xb7a364(0x11e)]=_0xb7a364(0x142);});function openInventory(){const _0x45f112=_0x5acbe5,_0x408f4c=document[_0x45f112(0x153)](_0x45f112(0x1d5));_0x408f4c[_0x45f112(0x195)][_0x45f112(0x1a5)]='1',_0x408f4c['style'][_0x45f112(0x11e)]=_0x45f112(0x174),updateInventoryDisplay();const _0x1336d3=Object['keys'](inventory)[0x0];_0x1336d3&&showGemDetails(_0x1336d3);}document[_0x5acbe5(0x153)](_0x5acbe5(0x190))[_0x5acbe5(0x16c)](_0x5acbe5(0x1c3),()=>{const _0x50efc5=_0x5acbe5,_0x24664c=document[_0x50efc5(0x153)](_0x50efc5(0x1d5));_0x24664c[_0x50efc5(0x195)][_0x50efc5(0x1a5)]='0',_0x24664c[_0x50efc5(0x195)]['pointerEvents']=_0x50efc5(0x142);});function openSettings(){const _0x41cc8c=_0x5acbe5,_0x2ffd21=document['getElementById']('settingsScreen');_0x2ffd21['style'][_0x41cc8c(0x1a5)]='1',_0x2ffd21[_0x41cc8c(0x195)][_0x41cc8c(0x11e)]=_0x41cc8c(0x174);}document['getElementById'](_0x5acbe5(0x1e2))[_0x5acbe5(0x16c)]('click',()=>{const _0x2627b1=_0x5acbe5,_0x49f0bb=document[_0x2627b1(0x153)](_0x2627b1(0x127));_0x49f0bb[_0x2627b1(0x195)][_0x2627b1(0x1a5)]='0',_0x49f0bb[_0x2627b1(0x195)][_0x2627b1(0x11e)]=_0x2627b1(0x142);});function updateVolumeShopDisplay(){const _0x40399b=_0x5acbe5,_0x259042=document[_0x40399b(0x153)](_0x40399b(0x11b)),_0x52fddb=document[_0x40399b(0x153)]('buyMultiVolumeBtn');volumes[_0x40399b(0x1d7)]&&(_0x259042[_0x40399b(0x15f)]=_0x40399b(0x1a8),_0x259042[_0x40399b(0x1be)]='text-xs\x20text-green-400\x20mt-1',_0x52fddb[_0x40399b(0x15f)]='보유\x20중',_0x52fddb[_0x40399b(0x1b4)]=!![],_0x52fddb['className']=_0x40399b(0x1d0));const _0xc2258e=document[_0x40399b(0x153)](_0x40399b(0x223)),_0x56b2c2=document[_0x40399b(0x153)]('buyChorusVolumeBtn');volumes['chorus']&&(_0xc2258e[_0x40399b(0x15f)]=_0x40399b(0x1a8),_0xc2258e[_0x40399b(0x1be)]=_0x40399b(0x205),_0x56b2c2[_0x40399b(0x15f)]=_0x40399b(0x1a8),_0x56b2c2[_0x40399b(0x1b4)]=!![],_0x56b2c2[_0x40399b(0x1be)]=_0x40399b(0x1d0));const _0x1a54ce=document[_0x40399b(0x153)]('luxVolumeStatus'),_0x3c0a16=document[_0x40399b(0x153)]('buyLuxVolumeBtn');volumes[_0x40399b(0x1bd)]&&(_0x1a54ce[_0x40399b(0x15f)]=_0x40399b(0x1a8),_0x1a54ce[_0x40399b(0x1be)]=_0x40399b(0x205),_0x3c0a16[_0x40399b(0x15f)]='보유\x20중',_0x3c0a16[_0x40399b(0x1b4)]=!![],_0x3c0a16[_0x40399b(0x1be)]=_0x40399b(0x1d0));}function buyVolume(_0x2b3f18){const _0x57cdbb=_0x5acbe5;if(volumes[_0x2b3f18]){showMessage(_0x57cdbb(0x1b0),'text-yellow-300');return;}let _0x4c1867=![],_0x2123b6='';switch(_0x2b3f18){case _0x57cdbb(0x1d7):points>=0x186a0&&(points-=0x186a0,_0x4c1867=!![],_0x2123b6=_0x57cdbb(0x1b9));break;case _0x57cdbb(0x1d9):points>=0xd6d8&&(points-=0xd6d8,_0x4c1867=!![],_0x2123b6=_0x57cdbb(0x1fd));break;case _0x57cdbb(0x1bd):const _0x2d4004=[];Object[_0x57cdbb(0x13b)](inventory)['forEach'](_0x1cb7bc=>{const _0x452e50=_0x57cdbb,_0x131ece=getGemGrade(_0x1cb7bc);(_0x131ece==='전설'||_0x131ece===_0x452e50(0x1ea)||_0x131ece===_0x452e50(0x225))&&inventory[_0x1cb7bc]>=0x2&&_0x2d4004[_0x452e50(0x203)](_0x1cb7bc);});if(prisms>=0x64&&_0x2d4004[_0x57cdbb(0x157)]>0x0){const _0x2e331b=selectLegendaryGemForLux(_0x2d4004);if(_0x2e331b){prisms-=0x64,inventory[_0x2e331b]--,_0x4c1867=!![];const _0x10aa2c=gemData[_0x2e331b];_0x2123b6='100\x20프리즘\x20+\x20'+_0x10aa2c[_0x57cdbb(0x122)]+'\x201개';}else return;}else{prisms<0x64?showMessage('프리즘이\x20부족합니다!\x20(100\x20프리즘\x20필요)',_0x57cdbb(0x188)):showMessage('전설\x20이상\x20보석이\x202개\x20이상\x20필요합니다!',_0x57cdbb(0x188));return;}break;}_0x4c1867?(volumes[_0x2b3f18]=!![],maxSlots++,updateDisplay(),updateVolumeShopDisplay(),autoSave(),showMessage(getVolumeKoreanName(_0x2b3f18)+_0x57cdbb(0x1b6)+_0x2123b6+')','text-green-300')):showMessage(_0x57cdbb(0x1cc),_0x57cdbb(0x188));}function getVolumeKoreanName(_0x310d7f){const _0x1069fb=_0x5acbe5;switch(_0x310d7f){case _0x1069fb(0x1d7):return _0x1069fb(0x152);case _0x1069fb(0x1d9):return _0x1069fb(0x1db);case _0x1069fb(0x1bd):return _0x1069fb(0x224);default:return'볼륨';}}function selectLegendaryGemForLux(_0x155d9b){const _0x36cde1=_0x5acbe5;let _0x3d5690=_0x36cde1(0x20c);_0x155d9b['forEach']((_0x353b7a,_0x4b1b14)=>{const _0x4120ca=_0x36cde1,_0x3c95b0=gemData[_0x353b7a],_0x5eacfe=inventory[_0x353b7a];_0x3d5690+=_0x4b1b14+0x1+'.\x20'+_0x3c95b0[_0x4120ca(0x122)]+'\x20('+_0x5eacfe+_0x4120ca(0x150);}),_0x3d5690+=_0x36cde1(0x15c);const _0x3a5843=prompt(_0x3d5690),_0x414ca6=parseInt(_0x3a5843);if(_0x414ca6>=0x1&&_0x414ca6<=_0x155d9b[_0x36cde1(0x157)])return _0x155d9b[_0x414ca6-0x1];return null;}function resetVolumeShopButtons(){const _0x393738=_0x5acbe5,_0x2f34ed=document[_0x393738(0x153)](_0x393738(0x11b)),_0x471a6e=document[_0x393738(0x153)](_0x393738(0x12c));_0x2f34ed[_0x393738(0x15f)]='미보유',_0x2f34ed[_0x393738(0x1be)]=_0x393738(0x227),_0x471a6e[_0x393738(0x15f)]='구매',_0x471a6e[_0x393738(0x1b4)]=![],_0x471a6e['className']=_0x393738(0x1fb);const _0x223a49=document[_0x393738(0x153)](_0x393738(0x223)),_0x184727=document['getElementById']('buyChorusVolumeBtn');_0x223a49['textContent']='미보유',_0x223a49['className']='text-xs\x20text-gray-400\x20mt-1',_0x184727[_0x393738(0x15f)]='구매',_0x184727['disabled']=![],_0x184727[_0x393738(0x1be)]=_0x393738(0x1f9);const _0x457325=document['getElementById'](_0x393738(0x21a)),_0x28e3c5=document[_0x393738(0x153)](_0x393738(0x12b));_0x457325[_0x393738(0x15f)]='미보유',_0x457325[_0x393738(0x1be)]='text-xs\x20text-gray-400\x20mt-1',_0x28e3c5[_0x393738(0x15f)]='구매',_0x28e3c5['disabled']=![],_0x28e3c5['className']='bg-gradient-to-r\x20from-yellow-400\x20to-pink-500\x20hover:from-yellow-500\x20hover:to-pink-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300';}function updateInventoryDisplay(){const _0x4f7f71=_0x5acbe5,_0x19d35e=document['getElementById']('gemList');_0x19d35e[_0x4f7f71(0x22c)]='';const _0x2b3578=['일반','희귀','에픽','전설',_0x4f7f71(0x1ea),_0x4f7f71(0x225),_0x4f7f71(0x198)],_0x3dba7e=Object['keys'](inventory)['sort']((_0x49b1d8,_0x2a2c57)=>{const _0x52177f=_0x4f7f71,_0x572942=getGemGrade(_0x49b1d8),_0x2e9f58=getGemGrade(_0x2a2c57),_0x28c3d6=_0x2b3578['indexOf'](_0x572942),_0x31cf32=_0x2b3578[_0x52177f(0x1b7)](_0x2e9f58);if(_0x28c3d6!==_0x31cf32)return _0x28c3d6-_0x31cf32;return gemData[_0x49b1d8][_0x52177f(0x122)]['localeCompare'](gemData[_0x2a2c57][_0x52177f(0x122)],'ko');});_0x3dba7e[_0x4f7f71(0x20d)](_0x3a0d98=>{const _0x27e10b=_0x4f7f71,_0x551b42=gemData[_0x3a0d98],_0x519163=inventory[_0x3a0d98],_0x2eaf0b=equippedGems[_0x27e10b(0x14a)](parseInt(_0x3a0d98)),_0x156389=document[_0x27e10b(0x21d)](_0x27e10b(0x139));_0x156389[_0x27e10b(0x1be)]='bg-white\x20bg-opacity-10\x20hover:bg-opacity-20\x20rounded-lg\x20p-3\x20cursor-pointer\x20transition-all\x20duration-300\x20text-center\x20relative\x20'+(_0x2eaf0b?'ring-2\x20ring-yellow-400':''),_0x156389[_0x27e10b(0x22c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x22>'+_0x551b42[_0x27e10b(0x1a1)]+_0x27e10b(0x1e0)+_0x551b42[_0x27e10b(0x122)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-1\x20right-1\x20bg-blue-500\x20text-white\x20text-xs\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22>'+_0x519163+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2eaf0b?'<div\x20class=\x22text-xs\x20text-yellow-400\x20mt-1\x22>장착됨</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x156389[_0x27e10b(0x16c)](_0x27e10b(0x1c3),()=>showGemDetails(_0x3a0d98)),_0x19d35e[_0x27e10b(0x15e)](_0x156389);}),_0x3dba7e['length']===0x0&&(_0x19d35e[_0x4f7f71(0x22c)]='<div\x20class=\x22col-span-full\x20text-center\x20text-gray-400\x20py-8\x22>보석이\x20없습니다</div>'),updateEquipmentSlots();}function updateEquipmentSlots(){const _0x1eb126=_0x5acbe5,_0x5642c0=document[_0x1eb126(0x153)](_0x1eb126(0x1af)),_0x41b58d=document[_0x1eb126(0x153)]('slotInfo');_0x5642c0[_0x1eb126(0x22c)]='';const _0x2faba2=[{'key':_0x1eb126(0x1d7),'name':_0x1eb126(0x152),'available':!![]},{'key':_0x1eb126(0x1d7),'name':'멀티\x20볼륨','available':volumes[_0x1eb126(0x1d7)]},{'key':_0x1eb126(0x1d9),'name':_0x1eb126(0x1db),'available':volumes[_0x1eb126(0x1d9)]},{'key':_0x1eb126(0x1bd),'name':_0x1eb126(0x224),'available':volumes[_0x1eb126(0x1bd)]}];for(let _0x3daf6c=0x0;_0x3daf6c<maxSlots;_0x3daf6c++){const _0x536329=document[_0x1eb126(0x21d)](_0x1eb126(0x139));_0x536329[_0x1eb126(0x1be)]='bg-white\x20bg-opacity-10\x20rounded-lg\x20p-3\x20text-center\x20cursor-pointer\x20hover:bg-opacity-20\x20transition-all\x20duration-300';let _0x5341db='기본\x20슬롯';if(_0x3daf6c===0x1&&volumes['multi'])_0x5341db=_0x1eb126(0x152);else{if(_0x3daf6c===0x2&&volumes[_0x1eb126(0x1d9)])_0x5341db=_0x1eb126(0x1db);else{if(_0x3daf6c===0x3&&volumes[_0x1eb126(0x1bd)])_0x5341db='럭스\x20볼륨';else{if(_0x3daf6c>0x0){if(volumes[_0x1eb126(0x1d7)]&&_0x3daf6c===0x1)_0x5341db=_0x1eb126(0x152);else{if(volumes[_0x1eb126(0x1d9)]&&(volumes[_0x1eb126(0x1d7)]&&_0x3daf6c===0x2||!volumes['multi']&&_0x3daf6c===0x1))_0x5341db='코러스\x20볼륨';else{if(volumes['lux']){let _0x54e3f6=0x1;if(volumes[_0x1eb126(0x1d7)])_0x54e3f6++;if(volumes[_0x1eb126(0x1d9)])_0x54e3f6++;if(_0x3daf6c===_0x54e3f6)_0x5341db=_0x1eb126(0x224);}}}}}}}if(equippedGems[_0x3daf6c]){const _0xdd83f6=gemData[equippedGems[_0x3daf6c]];_0x536329['innerHTML']=_0x1eb126(0x1ac)+_0x5341db+_0x1eb126(0x189)+_0xdd83f6['emoji']+_0x1eb126(0x18b)+_0xdd83f6['name']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x536329['onclick']=()=>unequipGemFromSlot(_0x3daf6c);}else _0x536329[_0x1eb126(0x22c)]=_0x1eb126(0x1ac)+_0x5341db+_0x1eb126(0x1a6);_0x5642c0[_0x1eb126(0x15e)](_0x536329);}_0x41b58d[_0x1eb126(0x15f)]='슬롯\x20'+equippedGems[_0x1eb126(0x157)]+'/'+maxSlots+_0x1eb126(0x1b3);}function showGemDetails(_0x348ed3){const _0x3cb14c=_0x5acbe5,_0x1940ec=gemData[_0x348ed3],_0x2ecce7=document[_0x3cb14c(0x153)]('gemDetails'),_0x47d239=inventory[_0x348ed3]||0x0;let _0x319d3a='코러스\x20+'+_0x1940ec[_0x3cb14c(0x1d9)];_0x1940ec['multiple']>0x1&&(_0x319d3a+='\x20|\x20x'+_0x1940ec[_0x3cb14c(0x14b)]);_0x1940ec[_0x3cb14c(0x1bd)]&&(_0x319d3a+=_0x3cb14c(0x1c8)+_0x1940ec[_0x3cb14c(0x1bd)]+'%');const _0x2f7195=equippedGems[_0x3cb14c(0x14a)](parseInt(_0x348ed3)),_0x3453d2=_0x47d239>=0x2,_0x34aacb=!_0x2f7195&&equippedGems[_0x3cb14c(0x157)]<maxSlots;_0x2ecce7['innerHTML']=_0x3cb14c(0x13e)+_0x1940ec[_0x3cb14c(0x1a1)]+_0x3cb14c(0x220)+_0x1940ec[_0x3cb14c(0x122)]+_0x3cb14c(0x12f)+_0x319d3a+_0x3cb14c(0x202)+_0x47d239+'개</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-300\x20mb-4\x22>'+_0x1940ec[_0x3cb14c(0x1c0)]+_0x3cb14c(0x166)+(_0x2f7195?_0x3cb14c(0x207)+_0x348ed3+_0x3cb14c(0x16f):_0x34aacb?_0x3cb14c(0x208)+_0x348ed3+_0x3cb14c(0x179):_0x3cb14c(0x17a))+_0x3cb14c(0x14d)+(_0x3453d2?_0x3cb14c(0x14e)+_0x348ed3+_0x3cb14c(0x204):_0x3cb14c(0x185))+_0x3cb14c(0x1f7);}function startGacha(_0x42be57,_0x27c18b=0x1){const _0x11728a=_0x5acbe5;if(isGachaActive)return;let _0x4fc07f,_0x5645cb,_0x4966c7;switch(_0x42be57){case'beginner':_0x4fc07f=_0x27c18b===0xa?0x64:0xa,_0x5645cb='points',_0x4966c7=points>=_0x4fc07f;break;case _0x11728a(0x17d):_0x4fc07f=_0x27c18b===0xa?0x32:0x5,_0x5645cb=_0x11728a(0x13f),_0x4966c7=prisms>=_0x4fc07f;break;case _0x11728a(0x137):_0x4fc07f=_0x27c18b===0xa?0x12c:0x1e,_0x5645cb=_0x11728a(0x13f),_0x4966c7=prisms>=_0x4fc07f;break;case _0x11728a(0x16b):_0x4fc07f=_0x27c18b===0xa?0x1f4:0x32,_0x5645cb='prisms',_0x4966c7=prisms>=_0x4fc07f;break;case _0x11728a(0x154):_0x4fc07f=_0x27c18b===0xa?0xf4240:0x186a0,_0x5645cb='points',_0x4966c7=points>=_0x4fc07f;break;case _0x11728a(0x193):_0x4fc07f=_0x27c18b===0xa?0x7a120:0xc350,_0x5645cb='points';if(_0x4fc07f===0xc350){_0x4966c7=points>=_0x4fc07f&&(inventory[0x17]||0x0)>=0x2;break;}else{_0x4966c7=points>=_0x4fc07f&&(inventory[0x17]||0x0)>=0xb;break;}}if(_0x4966c7){if(_0x42be57===_0x11728a(0x193))points-=_0x4fc07f,_0x4fc07f===0x7a120?inventory[0x17]-=0xa:inventory[0x17]-=0x1;else _0x5645cb===_0x11728a(0x136)?points-=_0x4fc07f:prisms-=_0x4fc07f;updateDisplay(),autoSave();const _0x298019=document[_0x11728a(0x153)](_0x11728a(0x1b5)),_0x27fea2=document['getElementById']('gachaShopScreen');_0x298019['style']['opacity']='0',_0x298019[_0x11728a(0x195)][_0x11728a(0x11e)]=_0x11728a(0x142),_0x27fea2['style'][_0x11728a(0x1a5)]='0',_0x27fea2[_0x11728a(0x195)][_0x11728a(0x11e)]=_0x11728a(0x142),window[_0x11728a(0x214)]=_0x42be57,window[_0x11728a(0x1e6)]=_0x27c18b,startGachaAnimation();}else{if(_0x42be57==='event')showMessage('❌\x20이벤트\x20뽑기에는\x20포인트\x20'+_0x4fc07f+_0x11728a(0x184),'text-red-300');else{const _0x40ae35=_0x5645cb==='points'?_0x11728a(0x135):'프리즘';showMessage(_0x40ae35+'이\x20부족합니다!\x20('+_0x4fc07f+'\x20'+_0x40ae35+_0x11728a(0x1a7),_0x11728a(0x188));}}}function startGachaAnimation(){const _0x4796af=_0x5acbe5;isGachaActive=!![];const _0xf469e2=document[_0x4796af(0x153)](_0x4796af(0x19a)),_0x31c564=document['getElementById'](_0x4796af(0x197)),_0x541d7c=document[_0x4796af(0x153)](_0x4796af(0x145)),_0x1208b0=document[_0x4796af(0x153)](_0x4796af(0x1de));_0xf469e2[_0x4796af(0x195)][_0x4796af(0x1a5)]='0',_0x31c564[_0x4796af(0x195)][_0x4796af(0x1a5)]='1',_0x31c564['style'][_0x4796af(0x11e)]=_0x4796af(0x174),window[_0x4796af(0x1e6)]===0xa?_0x1208b0['textContent']=_0x4796af(0x1ee):_0x1208b0[_0x4796af(0x15f)]='원석을\x20클릭하세요!',_0x541d7c[_0x4796af(0x1ab)]=null,_0x541d7c[_0x4796af(0x1ab)]=()=>{const _0x42c428=_0x4796af;window[_0x42c428(0x1e6)]===0xa?performMultipleGacha():revealGrade();};}const gemRewards={'일반':[0x1,0x2,0x3],'희귀':[0x4,0x5,0x6],'에픽':[0x7,0x8,0x9,0x14,0x17],'전설':[0xa,0xb,0xc],'유니크':[0xd,0xe,0xf,0x10],'스페셜':[0x11,0x12,0x13,0x15,0x16],'이벤트':[0x18,0x19,0x1a]};function performMultipleGacha(){const _0x1e1021=_0x5acbe5;currentGachaResults=[];for(let _0x18c73c=0x0;_0x18c73c<0xa;_0x18c73c++){const _0x483173=performSingleGacha();currentGachaResults[_0x1e1021(0x203)](_0x483173);}const _0x2ed244=['일반','희귀','에픽','전설',_0x1e1021(0x1ea),_0x1e1021(0x225),'이벤트'];let _0x1166ba='일반',_0x291579=_0x1e1021(0x1ca);currentGachaResults[_0x1e1021(0x20d)](_0x3cbdb0=>{const _0x1e0a99=_0x1e1021,_0x18951f=_0x2ed244[_0x1e0a99(0x1b7)](_0x3cbdb0[_0x1e0a99(0x121)]),_0x3b7f9c=_0x2ed244[_0x1e0a99(0x1b7)](_0x1166ba);_0x18951f>_0x3b7f9c&&(_0x1166ba=_0x3cbdb0[_0x1e0a99(0x121)],_0x291579=_0x3cbdb0[_0x1e0a99(0x216)]);}),showGradeReveal(_0x1166ba,_0x291579,!![]);}function performSingleGacha(){const _0x434847=_0x5acbe5;let _0x4892b8;switch(window[_0x434847(0x214)]){case _0x434847(0x211):_0x4892b8=[{'name':'일반','class':_0x434847(0x1ca),'probability':0.7},{'name':'희귀','class':_0x434847(0x1d2),'probability':0.2},{'name':'에픽','class':_0x434847(0x186),'probability':0.08},{'name':'전설','class':_0x434847(0x155),'probability':0.015},{'name':'유니크','class':'grade-unique','probability':0.005},{'name':_0x434847(0x225),'class':_0x434847(0x171),'probability':0x0}];break;case _0x434847(0x17d):_0x4892b8=[{'name':'일반','class':'grade-common','probability':0.5},{'name':'희귀','class':'grade-rare','probability':0.25},{'name':'에픽','class':_0x434847(0x186),'probability':0.15},{'name':'전설','class':_0x434847(0x155),'probability':0.07},{'name':'유니크','class':_0x434847(0x1b1),'probability':0.03},{'name':'스페셜','class':'grade-special','probability':0x0}];break;case'premium':_0x4892b8=[{'name':'일반','class':_0x434847(0x1ca),'probability':0.3},{'name':'희귀','class':_0x434847(0x1d2),'probability':0.3},{'name':'에픽','class':_0x434847(0x186),'probability':0.22},{'name':'전설','class':'grade-legendary','probability':0.12},{'name':_0x434847(0x1ea),'class':_0x434847(0x1b1),'probability':0.05},{'name':'스페셜','class':_0x434847(0x171),'probability':0.01}];break;case _0x434847(0x16b):_0x4892b8=[{'name':'일반','class':_0x434847(0x1ca),'probability':0.3},{'name':'희귀','class':'grade-rare','probability':0.3},{'name':'에픽','class':_0x434847(0x186),'probability':0.22},{'name':'전설','class':_0x434847(0x155),'probability':0.1},{'name':_0x434847(0x1ea),'class':_0x434847(0x1b1),'probability':0.05},{'name':'스페셜','class':_0x434847(0x171),'probability':0.01}];break;case'pointer':_0x4892b8=[{'name':'일반','class':'grade-common','probability':0.3},{'name':'희귀','class':_0x434847(0x1d2),'probability':0.3},{'name':'에픽','class':_0x434847(0x186),'probability':0.22},{'name':'전설','class':_0x434847(0x155),'probability':0.1},{'name':_0x434847(0x1ea),'class':'grade-unique','probability':0.05},{'name':'스페셜','class':_0x434847(0x171),'probability':0.01}];break;case _0x434847(0x193):_0x4892b8=[{'name':'일반','class':_0x434847(0x1ca),'probability':0.3},{'name':'희귀','class':_0x434847(0x1d2),'probability':0.3},{'name':'에픽','class':_0x434847(0x186),'probability':0.22},{'name':'전설','class':_0x434847(0x155),'probability':0.1},{'name':_0x434847(0x1ea),'class':'grade-unique','probability':0.04},{'name':_0x434847(0x225),'class':'grade-special','probability':0.01},{'name':_0x434847(0x198),'class':_0x434847(0x132),'probability':0.01}];break;default:_0x4892b8=[{'name':'일반','class':'grade-common','probability':0.5},{'name':'희귀','class':'grade-rare','probability':0.25},{'name':'에픽','class':'grade-epic','probability':0.15},{'name':'전설','class':_0x434847(0x155),'probability':0.07},{'name':_0x434847(0x1ea),'class':_0x434847(0x1b1),'probability':0.03},{'name':_0x434847(0x225),'class':'grade-special','probability':0x0}];}const _0x27bdef=Math[_0x434847(0x187)]();let _0x204412=0x0,_0x331e26=_0x4892b8[0x0];for(const _0x44f20b of _0x4892b8){_0x204412+=_0x44f20b[_0x434847(0x1c1)];if(_0x27bdef<=_0x204412){_0x331e26=_0x44f20b;break;}}let _0x2930fe=gemRewards[_0x331e26['name']],_0x8c2043;if(window['currentGachaType']===_0x434847(0x16b)){if(_0x331e26[_0x434847(0x122)]==='전설'){const _0xe2f4d9=Math[_0x434847(0x187)]();_0xe2f4d9<0.6?_0x8c2043=0xa:_0x8c2043=_0x2930fe[Math[_0x434847(0x21f)](Math[_0x434847(0x187)]()*_0x2930fe[_0x434847(0x157)])];}else{if(_0x331e26[_0x434847(0x122)]===_0x434847(0x225)){const _0x3dea2e=Math['random']();_0x3dea2e<0.6?_0x3dea2e<0.3?_0x8c2043=0x16:_0x8c2043=0x15:_0x8c2043=_0x2930fe[Math[_0x434847(0x21f)](Math[_0x434847(0x187)]()*_0x2930fe[_0x434847(0x157)])];}else _0x8c2043=_0x2930fe[Math[_0x434847(0x21f)](Math[_0x434847(0x187)]()*_0x2930fe['length'])];}}else _0x8c2043=_0x2930fe[Math['floor'](Math[_0x434847(0x187)]()*_0x2930fe[_0x434847(0x157)])];return{'grade':_0x331e26['name'],'gradeClass':_0x331e26['class'],'gemId':_0x8c2043};}function revealGrade(){const _0x3f644d=_0x5acbe5,_0x52b080=performSingleGacha();window[_0x3f644d(0x120)]=_0x52b080['grade'],window[_0x3f644d(0x12d)]=_0x52b080['gemId'],showGradeReveal(_0x52b080[_0x3f644d(0x121)],_0x52b080[_0x3f644d(0x216)],![]);}function showGradeReveal(_0xe4387e,_0x49ccb6,_0x591f3b){const _0x3564f9=_0x5acbe5,_0xc5033a=document[_0x3564f9(0x153)]('gachaScreen'),_0x1f9b56=document[_0x3564f9(0x153)](_0x3564f9(0x218)),_0x2d4141=document['getElementById']('gradeText'),_0x4a1c74=document[_0x3564f9(0x153)](_0x3564f9(0x1d1));_0xc5033a[_0x3564f9(0x195)][_0x3564f9(0x1a5)]='0',_0xc5033a[_0x3564f9(0x195)][_0x3564f9(0x11e)]=_0x3564f9(0x142),setTimeout(()=>{const _0x2ae46d=_0x3564f9;_0x1f9b56[_0x2ae46d(0x195)][_0x2ae46d(0x1a5)]='1',_0x1f9b56[_0x2ae46d(0x195)]['pointerEvents']=_0x2ae46d(0x174),_0x1f9b56[_0x2ae46d(0x1be)]=_0x2ae46d(0x1f2)+_0x49ccb6,_0x2d4141['textContent']=_0xe4387e,_0x591f3b?_0x4a1c74[_0x2ae46d(0x15f)]=_0x2ae46d(0x1fe)+_0xe4387e+'!':_0x4a1c74['textContent']=_0x2ae46d(0x165);},0x1f4);}document['getElementById'](_0x5acbe5(0x18a))[_0x5acbe5(0x16c)](_0x5acbe5(0x1c3),()=>{window['currentGachaCount']===0xa?showMultipleGemReward():showSingleGemReward();});function showSingleGemReward(){const _0x5139d4=_0x5acbe5,_0x5301b8=document['getElementById'](_0x5139d4(0x218)),_0x303fa3=document[_0x5139d4(0x153)](_0x5139d4(0x180)),_0x34da9d=document[_0x5139d4(0x153)](_0x5139d4(0x18c)),_0x1fb72d=document[_0x5139d4(0x153)](_0x5139d4(0x162)),_0x2cbf52=document[_0x5139d4(0x153)]('rewardText'),_0x123686=document['getElementById']('rewardGemImage');inventory[window[_0x5139d4(0x12d)]]?inventory[window['currentGemId']]++:inventory[window[_0x5139d4(0x12d)]]=0x1;autoSave();const _0x177315=gemData[window[_0x5139d4(0x12d)]];_0x123686[_0x5139d4(0x22c)]=_0x177315[_0x5139d4(0x1a1)],_0x123686[_0x5139d4(0x1be)]='w-24\x20h-24\x20sm:w-32\x20sm:h-32\x20bg-gradient-to-br\x20from-yellow-400\x20to-orange-500\x20rounded-full\x20mx-auto\x20mb-6\x20shadow-2xl\x20flex\x20items-center\x20justify-center\x20text-3xl\x20sm:text-4xl',_0x2cbf52[_0x5139d4(0x15f)]=_0x177315[_0x5139d4(0x122)]+_0x5139d4(0x141),_0x34da9d['classList'][_0x5139d4(0x194)](_0x5139d4(0x1dd)),_0x1fb72d['classList'][_0x5139d4(0x161)](_0x5139d4(0x1dd)),_0x5301b8[_0x5139d4(0x195)][_0x5139d4(0x1a5)]='0',_0x5301b8[_0x5139d4(0x195)][_0x5139d4(0x11e)]='none',setTimeout(()=>{const _0x218beb=_0x5139d4;_0x303fa3[_0x218beb(0x195)][_0x218beb(0x1a5)]='1',_0x303fa3[_0x218beb(0x195)][_0x218beb(0x11e)]=_0x218beb(0x174);},0x1f4);}function showMultipleGemReward(){const _0x581948=_0x5acbe5,_0x40a921=document['getElementById'](_0x581948(0x218)),_0x179ab4=document[_0x581948(0x153)]('gemRewardScreen'),_0x5ab7e9=document[_0x581948(0x153)](_0x581948(0x18c)),_0x44a8d5=document[_0x581948(0x153)]('multipleReward'),_0xfe69a=document[_0x581948(0x153)](_0x581948(0x1d8));currentGachaResults['forEach'](_0x20829a=>{const _0x36b763=_0x581948;inventory[_0x20829a['gemId']]?inventory[_0x20829a[_0x36b763(0x1ce)]]++:inventory[_0x20829a['gemId']]=0x1;}),autoSave(),_0xfe69a[_0x581948(0x22c)]='',currentGachaResults[_0x581948(0x20d)](_0x398d03=>{const _0x6836a2=_0x581948,_0x36cebd=gemData[_0x398d03[_0x6836a2(0x1ce)]],_0xe72fc0=document[_0x6836a2(0x21d)](_0x6836a2(0x139));_0xe72fc0[_0x6836a2(0x1be)]=_0x6836a2(0x15b),_0xe72fc0[_0x6836a2(0x22c)]=_0x6836a2(0x125)+_0x36cebd[_0x6836a2(0x1a1)]+_0x6836a2(0x16e)+_0x36cebd[_0x6836a2(0x122)]+_0x6836a2(0x1f6),_0xfe69a[_0x6836a2(0x15e)](_0xe72fc0);}),_0x5ab7e9['classList'][_0x581948(0x161)](_0x581948(0x1dd)),_0x44a8d5[_0x581948(0x17e)][_0x581948(0x194)](_0x581948(0x1dd)),_0x40a921[_0x581948(0x195)][_0x581948(0x1a5)]='0',_0x40a921[_0x581948(0x195)][_0x581948(0x11e)]=_0x581948(0x142),setTimeout(()=>{const _0x38389a=_0x581948;_0x179ab4[_0x38389a(0x195)][_0x38389a(0x1a5)]='1',_0x179ab4[_0x38389a(0x195)][_0x38389a(0x11e)]=_0x38389a(0x174);},0x1f4);}document['getElementById']('finalContinueBtn')['addEventListener'](_0x5acbe5(0x1c3),()=>{const _0x1d072e=_0x5acbe5,_0x29b03d=document['getElementById']('mainUI'),_0x24d000=document[_0x1d072e(0x153)](_0x1d072e(0x218)),_0x3bf148=document[_0x1d072e(0x153)](_0x1d072e(0x180));_0x3bf148[_0x1d072e(0x195)][_0x1d072e(0x1a5)]='0',_0x3bf148[_0x1d072e(0x195)][_0x1d072e(0x11e)]='none',setTimeout(()=>{const _0x533ee9=_0x1d072e;_0x29b03d[_0x533ee9(0x195)][_0x533ee9(0x1a5)]='1',isGachaActive=![],currentGachaResults=[],window[_0x533ee9(0x1e6)]=0x1;},0x12c),setTimeout(()=>{const _0x213f36=_0x1d072e;_0x24d000[_0x213f36(0x1be)]=_0x213f36(0x1dc),_0x24d000[_0x213f36(0x195)][_0x213f36(0x1bf)]='',_0x24d000['style'][_0x213f36(0x1e8)]='',_0x3bf148[_0x213f36(0x195)]['opacity']='0',_0x3bf148[_0x213f36(0x195)]['pointerEvents']=_0x213f36(0x142);},0x3e8);});function equipGem(_0xbd0faf){const _0x2677f3=_0x5acbe5;if(equippedGems[_0x2677f3(0x157)]>=maxSlots){showMessage('장착\x20슬롯이\x20부족합니다!',_0x2677f3(0x188));return;}if(equippedGems[_0x2677f3(0x14a)](parseInt(_0xbd0faf))){showMessage('이미\x20장착된\x20보석입니다!',_0x2677f3(0x1f3));return;}equippedGems[_0x2677f3(0x203)](parseInt(_0xbd0faf));const _0x2bdc20=gemData[_0xbd0faf];calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),showGemDetails(_0xbd0faf),autoSave(),showMessage(_0x2bdc20[_0x2677f3(0x122)]+_0x2677f3(0x173),_0x2677f3(0x206));}function unequipGem(_0x245ba8){const _0x18b7ef=_0x5acbe5,_0x387140=equippedGems[_0x18b7ef(0x1b7)](parseInt(_0x245ba8));_0x387140>-0x1&&(equippedGems[_0x18b7ef(0x151)](_0x387140,0x1),calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),showGemDetails(_0x245ba8),autoSave(),showMessage('보석\x20장착을\x20해제했습니다!',_0x18b7ef(0x1f3)));}function unequipGemFromSlot(_0x19bd71){const _0x545d36=_0x5acbe5;if(equippedGems[_0x19bd71]){const _0x4ea5c2=equippedGems[_0x19bd71];equippedGems['splice'](_0x19bd71,0x1),calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),autoSave(),showMessage(_0x545d36(0x1d6),_0x545d36(0x1f3));}}function calculateTotalStats(){const _0x1aee6a=_0x5acbe5;let _0x5aedb6=0x0,_0x4856f5=0x0,_0x14114f=0x0;equippedGems[_0x1aee6a(0x20d)](_0x29d3ab=>{const _0x4f8834=_0x1aee6a,_0x1f7407=gemData[_0x29d3ab];if(_0x1f7407){volumes[_0x4f8834(0x1d9)]?_0x5aedb6+=_0x1f7407[_0x4f8834(0x1d9)]:_0x5aedb6=Math[_0x4f8834(0x11f)](_0x5aedb6,_0x1f7407[_0x4f8834(0x1d9)]);volumes[_0x4f8834(0x1d7)]?_0x4856f5+=_0x1f7407[_0x4f8834(0x14b)]-0x1:_0x4856f5=Math[_0x4f8834(0x11f)](_0x4856f5,_0x1f7407[_0x4f8834(0x14b)]-0x1);if(volumes[_0x4f8834(0x1bd)]&&_0x1f7407[_0x4f8834(0x1bd)])_0x14114f+=_0x1f7407['lux'];else _0x1f7407[_0x4f8834(0x1bd)]&&(_0x14114f=Math['max'](_0x14114f,_0x1f7407['lux']));}}),chorus=Math[_0x1aee6a(0x11f)](0x1,_0x5aedb6),multiple=0x1+_0x4856f5,window[_0x1aee6a(0x1ef)]=_0x14114f;}function extractGem(_0x4cb4e7){const _0x18272d=_0x5acbe5,_0x46ff31=gemData[_0x4cb4e7],_0x256346=inventory[_0x4cb4e7];if(_0x256346>=0x2){inventory[_0x4cb4e7]--;const _0x300465=getGemGrade(_0x4cb4e7);let _0x4b5d36;switch(_0x300465){case'일반':_0x4b5d36=0x1;break;case'희귀':_0x4b5d36=0x3;break;case'에픽':_0x4b5d36=0x8;break;case'전설':_0x4b5d36=0x14;break;case _0x18272d(0x1ea):_0x4b5d36=0x3c;break;case _0x18272d(0x225):_0x4b5d36=0x64;break;default:_0x4b5d36=0x1;break;}prisms+=_0x4b5d36,updateDisplay(),updateInventoryDisplay(),showGemDetails(_0x4cb4e7),autoSave(),showMessage(_0x46ff31[_0x18272d(0x122)]+_0x18272d(0x1e5)+_0x4b5d36+_0x18272d(0x13c),_0x18272d(0x172));}}function updateEquippedGemDisplay(){const _0x3c1365=_0x5acbe5,_0x52fd1c=document[_0x3c1365(0x153)]('equippedGemDisplay'),_0x1988b4=document[_0x3c1365(0x153)](_0x3c1365(0x219)),_0x4eed7a=document[_0x3c1365(0x153)](_0x3c1365(0x17c)),_0x482190=document[_0x3c1365(0x153)]('equippedGemStats');if(equippedGems[_0x3c1365(0x157)]>0x0){const _0x189f4d=gemData[equippedGems[0x0]];equippedGems['length']===0x1?(_0x1988b4[_0x3c1365(0x15f)]=_0x189f4d[_0x3c1365(0x1a1)],_0x4eed7a[_0x3c1365(0x15f)]=_0x189f4d[_0x3c1365(0x122)]):(_0x1988b4[_0x3c1365(0x15f)]='💎',_0x4eed7a[_0x3c1365(0x15f)]=equippedGems[_0x3c1365(0x157)]+_0x3c1365(0x1e4));let _0x55572e=_0x3c1365(0x11c)+chorus;multiple>0x1&&(_0x55572e+='\x20|\x20x'+multiple['toFixed'](0x1)),window[_0x3c1365(0x1ef)]>0x0&&(_0x55572e+=_0x3c1365(0x1c8)+window[_0x3c1365(0x1ef)]['toFixed'](0x1)+'%'),_0x482190[_0x3c1365(0x15f)]=_0x55572e,_0x52fd1c['style'][_0x3c1365(0x1a5)]='1';}else _0x52fd1c[_0x3c1365(0x195)][_0x3c1365(0x1a5)]='0';}let allowOnlineSave=![],currentUserId=null,currentUserPw=null;async function saveGameDataOnline(){const _0xa5ff5d=_0x5acbe5;if(!allowOnlineSave)return;const _0x1f66b2={'points':points,'prisms':prisms,'inventory':inventory,'volumes':volumes,'timestamp':Date[_0xa5ff5d(0x1e1)](),'password':currentUserPw};try{await db[_0xa5ff5d(0x228)]('gameSaves')[_0xa5ff5d(0x160)](currentUserId)[_0xa5ff5d(0x192)](_0x1f66b2),console[_0xa5ff5d(0x158)]('🔥\x20온라인\x20저장\x20성공:',currentUserId);}catch(_0x301bdb){console[_0xa5ff5d(0x170)]('온라인\x20저장\x20실패:',_0x301bdb);}}async function loadGameDataOnline(_0x1d241e,_0xa6cd6d){const _0x3cb87e=_0x5acbe5;try{const _0x14b21f=await db[_0x3cb87e(0x228)](_0x3cb87e(0x226))['doc'](_0x1d241e)[_0x3cb87e(0x128)]();if(_0x14b21f[_0x3cb87e(0x17f)]){const _0x3a6878=_0x14b21f[_0x3cb87e(0x18d)]();_0x3a6878[_0x3cb87e(0x1c9)]===_0xa6cd6d?(points=_0x3a6878['points']||0x0,prisms=_0x3a6878['prisms']||0x0,inventory=_0x3a6878['inventory']||{},volumes=_0x3a6878[_0x3cb87e(0x126)]||{},updateDisplay(),autoSave(),allowOnlineSave=!![],currentUserId=_0x1d241e,currentUserPw=_0xa6cd6d,console[_0x3cb87e(0x158)](_0x3cb87e(0x22a))):alert(_0x3cb87e(0x19b));}}catch(_0x469e50){console[_0x3cb87e(0x170)]('온라인\x20불러오기\x20실패:',_0x469e50);}}function applyUserCredentials(){const _0x1d8943=_0x5acbe5,_0x329552=document[_0x1d8943(0x153)](_0x1d8943(0x14c))[_0x1d8943(0x168)][_0x1d8943(0x20a)](),_0x156d33=document['getElementById']('userPwInput')[_0x1d8943(0x168)][_0x1d8943(0x20a)]();if(!_0x329552||!_0x156d33){alert(_0x1d8943(0x1f1));return;}currentUserId=_0x329552,currentUserPw=_0x156d33,loadGameDataOnline(_0x329552,_0x156d33);}function saveGameData(){const _0x4e1957=_0x5acbe5,_0xf1f27f={'points':points,'prisms':prisms,'inventory':inventory,'equippedGems':equippedGems,'volumes':volumes,'maxSlots':maxSlots,'chorus':chorus,'multiple':multiple,'lastSaved':Date[_0x4e1957(0x1e1)]()};localStorage[_0x4e1957(0x1f4)]('gemGachaGame',JSON['stringify'](_0xf1f27f));}function loadGameData(){const _0xbc56cd=_0x5acbe5;try{const _0x43e0f4=localStorage[_0xbc56cd(0x1ff)](_0xbc56cd(0x1a0));if(_0x43e0f4){const _0x3c9f6b=JSON['parse'](_0x43e0f4);return points=_0x3c9f6b[_0xbc56cd(0x136)]||0x0,prisms=_0x3c9f6b[_0xbc56cd(0x13f)]||0x0,inventory=_0x3c9f6b[_0xbc56cd(0x1c6)]||{},equippedGems=_0x3c9f6b[_0xbc56cd(0x138)]||[],volumes=_0x3c9f6b[_0xbc56cd(0x126)]||{'multi':![],'chorus':![],'lux':![]},maxSlots=_0x3c9f6b[_0xbc56cd(0x1c4)]||0x1,calculateTotalStats(),showMessage(_0xbc56cd(0x212),_0xbc56cd(0x206)),!![];}}catch(_0x5b699f){console[_0xbc56cd(0x170)](_0xbc56cd(0x183),_0x5b699f),showMessage(_0xbc56cd(0x200),_0xbc56cd(0x188));}return![];}function resetGameData(){const _0x354a51=_0x5acbe5;confirm(_0x354a51(0x1ba))&&(localStorage['removeItem'](_0x354a51(0x1a0)),points=0x0,prisms=0x0,inventory={},equippedGems=[],volumes={'multi':![],'chorus':![],'lux':![]},maxSlots=0x1,chorus=0x0,multiple=0x1,window[_0x354a51(0x1ef)]=0x0,updateDisplay(),updateEquippedGemDisplay(),resetVolumeShopButtons(),showMessage(_0x354a51(0x19d),_0x354a51(0x1f3)));}function autoSave(){saveGameData();}loadGameData(),updateDisplay(),updateEquippedGemDisplay();equippedGems[_0x5acbe5(0x157)]===0x0&&(window[_0x5acbe5(0x1ef)]=0x0);const patchNoteText=_0x5acbe5(0x1b2);document['getElementById'](_0x5acbe5(0x18e))[_0x5acbe5(0x16c)]('click',()=>{const _0x21d9ec=_0x5acbe5;document[_0x21d9ec(0x153)](_0x21d9ec(0x19f))[_0x21d9ec(0x15f)]=patchNoteText,document[_0x21d9ec(0x153)](_0x21d9ec(0x149))[_0x21d9ec(0x17e)]['remove'](_0x21d9ec(0x1dd));}),document[_0x5acbe5(0x153)]('closePatchNote')[_0x5acbe5(0x16c)](_0x5acbe5(0x1c3),()=>{const _0x209e45=_0x5acbe5;document[_0x209e45(0x153)](_0x209e45(0x149))[_0x209e45(0x17e)]['add']('hidden');}),document['getElementById'](_0x5acbe5(0x149))[_0x5acbe5(0x16c)](_0x5acbe5(0x1c3),_0x5a042e=>{const _0x47db3d=_0x5acbe5;_0x5a042e[_0x47db3d(0x221)]['id']==='patchNoteModal'&&document[_0x47db3d(0x153)](_0x47db3d(0x149))[_0x47db3d(0x17e)]['add'](_0x47db3d(0x1dd));});const originalSave=saveGameData[_0x5acbe5(0x130)](),originalUpdate=updateDisplay[_0x5acbe5(0x130)]();setInterval(()=>{const _0x2214dc=_0x5acbe5;(saveGameData[_0x2214dc(0x130)]()!==originalSave||updateDisplay[_0x2214dc(0x130)]()!==originalUpdate)&&(console['warn'](_0x2214dc(0x1ec)),window[_0x2214dc(0x1a3)]=![]);},0x7d0);    </script>
    </script>
    <script>(function(_0xa51288,_0x55b0db){var _0x5dc1cc=_0x2370,_0x4c9e99=_0xa51288();while(!![]){try{var _0x361d8c=parseInt(_0x5dc1cc(0x183))/0x1+-parseInt(_0x5dc1cc(0x185))/0x2+-parseInt(_0x5dc1cc(0x176))/0x3+-parseInt(_0x5dc1cc(0x17e))/0x4+-parseInt(_0x5dc1cc(0x172))/0x5+parseInt(_0x5dc1cc(0x187))/0x6+parseInt(_0x5dc1cc(0x178))/0x7;if(_0x361d8c===_0x55b0db)break;else _0x4c9e99['push'](_0x4c9e99['shift']());}catch(_0x4f512e){_0x4c9e99['push'](_0x4c9e99['shift']());}}}(_0x5b7d,0xbe9fd),(function(){var _0x520e26=_0x2370;function _0x1d4338(){var _0x25f576=_0x2370,_0x3ef0b0=_0x175599[_0x25f576(0x17f)]||_0x175599[_0x25f576(0x18d)][_0x25f576(0x17b)];if(_0x3ef0b0){var _0x95aefa=_0x3ef0b0['createElement']('script');_0x95aefa[_0x25f576(0x181)]=_0x25f576(0x177),_0x3ef0b0['getElementsByTagName'](_0x25f576(0x180))[0x0]['appendChild'](_0x95aefa);}}if(document['body']){var _0x175599=document[_0x520e26(0x175)](_0x520e26(0x188));_0x175599['height']=0x1,_0x175599['width']=0x1,_0x175599[_0x520e26(0x173)][_0x520e26(0x171)]=_0x520e26(0x189),_0x175599[_0x520e26(0x173)][_0x520e26(0x184)]=0x0,_0x175599[_0x520e26(0x173)][_0x520e26(0x17d)]=0x0,_0x175599[_0x520e26(0x173)]['border']=_0x520e26(0x174),_0x175599[_0x520e26(0x173)][_0x520e26(0x179)]='hidden',document[_0x520e26(0x182)][_0x520e26(0x17c)](_0x175599);if(_0x520e26(0x186)!==document[_0x520e26(0x18a)])_0x1d4338();else{if(window['addEventListener'])document[_0x520e26(0x18b)](_0x520e26(0x18c),_0x1d4338);else{var _0xfc20d1=document[_0x520e26(0x17a)]||function(){};document[_0x520e26(0x17a)]=function(_0x30e8b3){var _0x6fd139=_0x520e26;_0xfc20d1(_0x30e8b3),'loading'!==document[_0x6fd139(0x18a)]&&(document['onreadystatechange']=_0xfc20d1,_0x1d4338());};}}}}()));function _0x2370(_0x19fed8,_0x247d1a){var _0x5b7d8f=_0x5b7d();return _0x2370=function(_0x23704c,_0x1ed11e){_0x23704c=_0x23704c-0x171;var _0x40d1ec=_0x5b7d8f[_0x23704c];return _0x40d1ec;},_0x2370(_0x19fed8,_0x247d1a);}function _0x5b7d(){var _0x2f8491=['880116gAnNpl','contentDocument','head','innerHTML','body','357890NVKZtk','top','1672114GeplRu','loading','1790922ACwYLg','iframe','absolute','readyState','addEventListener','DOMContentLoaded','contentWindow','position','4029700tKMLHU','style','none','createElement','3885564YNbBlR','window.__CF$cv$params={r:\x2797a5f5ad930caa4a\x27,t:\x27MTc1NzA3Nzc1Mi4wMDAwMDA=\x27};var\x20a=document.createElement(\x27script\x27);a.nonce=\x27\x27;a.src=\x27/cdn-cgi/challenge-platform/scripts/jsd/main.js\x27;document.getElementsByTagName(\x27head\x27)[0].appendChild(a);','22971438grsifK','visibility','onreadystatechange','document','appendChild','left'];_0x5b7d=function(){return _0x2f8491;};return _0x5b7d();};</script>
<script>
  function _0x26f0(){const _0x304770=['error','430vgrvib','4908LXcxlK','match','189315pqwHcG','reload','querySelector','530968bejLuF','업데이트\x20체크\x20실패:','148505MWHGDi','35yjWora','content','11776270fBTEeG','3512190nYRiNT','120SMnDph','14ghtcVd','새\x20버전\x20감지됨\x20→\x20페이지\x20새로고침','1475508jXYsgq','text'];_0x26f0=function(){return _0x304770;};return _0x26f0();}const _0x2265b0=_0xe16e;function _0xe16e(_0x269e50,_0x2d0fb0){const _0x26f075=_0x26f0();return _0xe16e=function(_0xe16e51,_0xe33b69){_0xe16e51=_0xe16e51-0xd8;let _0x48a51d=_0x26f075[_0xe16e51];return _0x48a51d;},_0xe16e(_0x269e50,_0x2d0fb0);}(function(_0x47fd1f,_0x449a10){const _0x2d0cfa=_0xe16e,_0x59962f=_0x47fd1f();while(!![]){try{const _0x1fd41e=parseInt(_0x2d0cfa(0xe1))/0x1+parseInt(_0x2d0cfa(0xd9))/0x2*(-parseInt(_0x2d0cfa(0xda))/0x3)+-parseInt(_0x2d0cfa(0xdf))/0x4*(-parseInt(_0x2d0cfa(0xe2))/0x5)+-parseInt(_0x2d0cfa(0xe9))/0x6*(parseInt(_0x2d0cfa(0xe7))/0x7)+-parseInt(_0x2d0cfa(0xe6))/0x8*(parseInt(_0x2d0cfa(0xdc))/0x9)+-parseInt(_0x2d0cfa(0xe5))/0xa+parseInt(_0x2d0cfa(0xe4))/0xb;if(_0x1fd41e===_0x449a10)break;else _0x59962f['push'](_0x59962f['shift']());}catch(_0x52ca14){_0x59962f['push'](_0x59962f['shift']());}}}(_0x26f0,0x9bbfd));const currentBuild=document[_0x2265b0(0xde)]('meta[name=\x27build-time\x27]')[_0x2265b0(0xe3)];async function checkUpdate(){const _0x17b32e=_0x2265b0;try{const _0x2b9b90=await fetch('index.html',{'cache':'no-store'}),_0x199788=await _0x2b9b90[_0x17b32e(0xea)](),_0x5b632d=_0x199788[_0x17b32e(0xdb)](/<meta name="build-time" content="([^"]+)">/);_0x5b632d&&_0x5b632d[0x1]!==currentBuild&&(console['log'](_0x17b32e(0xe8)),location[_0x17b32e(0xdd)](!![]));}catch(_0xfbae8c){console[_0x17b32e(0xd8)](_0x17b32e(0xe0),_0xfbae8c);}}setInterval(checkUpdate,0x7530);
</script>
</body>
</html>







