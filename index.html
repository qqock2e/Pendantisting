<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="build-time" content="2025-09-08T00:15:00">
    <title>펜던티스트</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        .glow-button {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .glow-button:hover, .glow-button:active {
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.8);
            transform: translateY(-2px);
        }
        .currency-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        .gacha-button {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .gacha-button:hover, .gacha-button:active {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(245, 87, 108, 0.4);
        }
        .point-button {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        /* 등급별 배경색 */
        .grade-common {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #495057;
        }
        .grade-rare {
            background: linear-gradient(135deg, #51cf66 0%, #40c057 100%);
            color: white;
        }
        .grade-epic {
            background: linear-gradient(135deg, #9775fa 0%, #845ef7 100%);
            color: white;
        }
        .grade-legendary {
            background: linear-gradient(135deg, #ffd43b 0%, #fab005 100%);
            color: #495057;
        }
        .grade-unique {
            background: linear-gradient(45deg, #ff6b6b 0%, #feca57 16.66%, #48dbfb 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-special {
            background: linear-gradient(45deg, #ff6b6b 0%, #fab005 16.66%, #fa5005 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-event {
            background: linear-gradient(45deg, #ff6b6b 0%, #fa6347 16.66%, #f6b65a 33.33%, #599468 50%, #0099ff 83.33%, #bf9424 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 모바일 최적화 */
        @media (max-width: 640px) {
            .currency-card {
                padding: 1rem;
                min-width: 120px;
            }
            .currency-card .text-3xl {
                font-size: 1.5rem;
            }
            .point-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            .gacha-button {
                padding: 1.25rem 2.5rem;
                font-size: 1.125rem;
            }
        }
        
        @media (max-width: 480px) {
            .currency-card {
                padding: 0.75rem;
                min-width: 100px;
            }
            .currency-card .text-3xl {
                font-size: 1.25rem;
            }
            .point-button {
                padding: 0.875rem 1.5rem;
                font-size: 0.875rem;
            }
            .gacha-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex flex-col items-center justify-center p-4">
    
    <!-- 메인 UI 영역 -->
    <div id="mainUI" class="transition-opacity duration-500">
        <!-- 재화 표시 영역 -->
        <div class="flex gap-4 sm:gap-6 mb-8 sm:mb-12">
            <!-- 포인트 -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">포인트</div>
                <div id="points" class="text-3xl font-bold">0</div>
            </div>
            
            <!-- 프리즘 -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">프리즘</div>
                <div id="prisms" class="text-3xl font-bold">0</div>
            </div>
        </div>

        <!-- 게임 버튼 영역 -->
        <div class="flex flex-col items-center gap-4 sm:gap-6">
            <!-- 상단 버튼들 -->
            <div class="flex gap-4 items-center">
                <!-- 포인트 획득 버튼 -->
                <button id="earnPointsBtn" class="point-button glow-button px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation">
                    ✨ 포인트 획득 ✨
                </button>
                
                <!-- 인벤토리 버튼 -->
                <button id="inventoryBtn" class="bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    🎒 인벤토리
                </button>
                
                <!-- 설정 버튼 -->
                <button id="settingsBtn" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    ⚙️ 설정
                </button>
            </div>
            
            <!-- 상점 버튼 -->
            <button id="shopBtn" class="gacha-button px-16 py-5 rounded-full text-white font-bold text-2xl shadow-2xl touch-manipulation">
                🏪 상점 🏪
            </button>
            <!-- 코드 입력 영역 -->
                <div class="mt-4 flex flex-col items-center gap-2">
                    <label for="codeInput" class="text-white text-sm">🎁 코드 입력</label>
                    <div class="flex gap-2">
                        <input id="codeInput" type="text" 
                           placeholder="코드를 입력하세요"
                           class="px-3 py-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-400" />
                        <button id="redeemCodeBtn"
                                class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 px-4 py-2 rounded-lg text-white font-bold transition-all duration-300">
                            확인
                        </button>
                    </div>
                    <p id="codeMessage" class="text-xs text-gray-300 mt-1"></p>
                </div>
            <!-- 패치노트 버튼 -->
<div class="absolute bottom-4 right-4">
  <button id="patchNoteBtn"
          class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-lg text-sm">
    패치노트
  </button>
</div>
            <!-- 장착된 보석 표시 -->
            <div id="equippedGemDisplay" class="mt-4 bg-white bg-opacity-10 rounded-xl p-4 text-center text-white opacity-0 transition-all duration-300">
                <div class="text-sm opacity-80 mb-2">장착된 보석</div>
                <div id="equippedGemIcon" class="text-3xl mb-2">💎</div>
                <div id="equippedGemName" class="font-bold mb-1">보석 이름</div>
                <div id="equippedGemStats" class="text-sm opacity-80">코러스 +1</div>
            </div>
        </div>

        <!-- 결과 메시지 -->
        <div id="message" class="mt-6 sm:mt-8 text-center text-white font-medium text-base sm:text-lg opacity-0 transition-opacity duration-300 px-4"></div>
    </div>

    <!-- 뽑기 모션 화면 -->
    <div id="gachaScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="text-center">
            <!-- 원석 이미지 (나중에 실제 이미지로 교체 가능) -->
            <div id="gemstone" class="w-32 h-32 sm:w-40 sm:h-40 bg-gray-300 rounded-lg mx-auto mb-6 cursor-pointer transform transition-all duration-300 hover:scale-110 shadow-2xl flex items-center justify-center text-4xl">
                💎
            </div>
            <p id="gachaText" class="text-white text-lg sm:text-xl font-medium">원석을 클릭하세요!</p>
        </div>
    </div>

    <!-- 등급 공개 화면 -->
    <div id="revealScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000">
        <div class="text-center">
            <div id="gradeText" class="text-6xl sm:text-8xl font-bold mb-4 drop-shadow-2xl"></div>
            <p id="revealMessage" class="text-white text-xl sm:text-2xl font-medium mb-8">등급이 공개되었습니다!</p>
            <button id="continueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                계속하기
            </button>
        </div>
    </div>

    <!-- 보석 획득 화면 -->
    <div id="gemRewardScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
        <div class="text-center max-w-4xl w-full px-4">
            <!-- 단일 보석 표시 (1회 뽑기용) -->
            <div id="singleReward" class="hidden">
                <div id="rewardGemImage" class="w-24 h-24 sm:w-32 sm:h-32 bg-yellow-400 rounded-full mx-auto mb-6 shadow-2xl flex items-center justify-center text-3xl sm:text-4xl">
                    💎
                </div>
                <div id="rewardText" class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">1보석 획득!</div>
            </div>
            
            <!-- 다중 보석 표시 (10회 뽑기용) -->
            <div id="multipleReward" class="hidden">
                <div class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">10개 보석 획득!</div>
                <div id="multipleGemGrid" class="grid grid-cols-5 gap-4 mb-8 max-w-2xl mx-auto">
                    <!-- 10개 보석이 여기에 표시됩니다 -->
                </div>
            </div>
            
            <button id="finalContinueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                확인
            </button>
        </div>
    </div>

    <!-- 상점 메인 화면 -->
    <div id="shopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- 상점 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">🏪 상점</h2>
                <button id="closeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 상점 메뉴 -->
            <div class="space-y-4">
                <button onclick="openGachaShop()" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    ⛏️ 원석 채굴장
                </button>
                <button onclick="openVolumeShop()" class="w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    📦 볼륨 상점
                </button>
            </div>
        </div>
    </div>

    <!-- 원석 채굴장 화면 -->
    <div id="gachaShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl max-h-[90vh] p-6 flex flex-col">
            <!-- 채굴장 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">⛏️ 원석 채굴장</h2>
                <button id="closeGachaShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 뽑기 목록 (스크롤 가능) -->
            <div class="space-y-4 overflow-y-auto flex-1 pr-2" style="scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.3) transparent;">
                <style>
                    /* 웹킷 브라우저용 스크롤바 스타일 */
                    .space-y-4::-webkit-scrollbar {
                        width: 6px;
                    }
                    .space-y-4::-webkit-scrollbar-track {
                        background: rgba(255,255,255,0.1);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb {
                        background: rgba(255,255,255,0.3);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb:hover {
                        background: rgba(255,255,255,0.5);
                    }
                </style>
                <!-- 초심자의 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🪨 초심자의 원석</h3>
                        <p class="text-gray-300 text-sm">기본적인 보석이 나오는 원석입니다</p>
                        <p class="text-blue-300 font-medium">💰 10 포인트 | 💰 100 포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('beginner')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('beginner', 10)" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 빛나는 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">✨ 빛나는 원석</h3>
                        <p class="text-gray-300 text-sm">균형잡힌 확률의 원석입니다</p>
                        <p class="text-purple-300 font-medium">💎 5 프리즘 | 💎 50 프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('normal')" class="bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('normal', 10)" class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 영롱한 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🌟 영롱한 원석</h3>
                        <p class="text-gray-300 text-sm">고급 보석이 더 잘 나오는 원석입니다</p>
                        <p class="text-purple-300 font-medium">💎 30 프리즘 | 💎 300 프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('premium')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('premium', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 시즌 픽업 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">💎 0.5 시즌 픽업 원석</h3>
                        <p class="text-gray-300 text-sm">스카이 시즌 메인 보석인 에픽:오팔, 스페셜:???,???이 높은 확률로 나오는 원석입니다.</p>
                        <p class="text-purple-300 font-medium">💎 50프리즘 | 💎 500프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('luxury')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('luxury', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>

                <!-- 포인트 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">💰 포인트 원석</h3>
                        <p class="text-gray-300 text-sm">포인트를 사용하는 고급 원석입니다.</p>
                        <p class="text-purple-300 font-medium">💰 100,000 포인트 | 💰 1,000,000 포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('pointer')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('pointer', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>

                <!-- 이벤트 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🎁 이벤트 원석</h3>
                        <p class="text-gray-300 text-sm">이벤트 등급 정제된 원석을 뽑을 수 있는 원석입니다.</p>
                        <p class="text-purple-300 font-medium">차스티움x1 + 50,000 포인트 | 차스티움x10 + 500,000포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('event')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('event', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- 볼륨 상점 화면 -->
    <div id="volumeShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl p-6">
            <!-- 볼륨 상점 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">📦 볼륨 상점</h2>
                <button id="closeVolumeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 볼륨 목록 -->
            <div class="space-y-4">
                <!-- 멀티 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">🔢 멀티 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 배율을 합연산으로 더해줍니다</p>
                            <p class="text-blue-300 font-medium">💰 100,000 포인트</p>
                            <p id="multiVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyMultiVolumeBtn" onclick="buyVolume('multi')" class="bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
                
                <!-- 코러스 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">🎵 코러스 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 코러스를 더해줍니다</p>
                            <p class="text-blue-300 font-medium">💰 55,000 포인트</p>
                            <p id="chorusVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyChorusVolumeBtn" onclick="buyVolume('chorus')" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
                
                <!-- 럭스 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">✨ 럭스 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 휘광 확률을 더해줍니다</p>
                            <p class="text-purple-300 font-medium">💎 100 프리즘 + 전설 이상 보석 1개</p>
                            <p id="luxVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyLuxVolumeBtn" onclick="buyVolume('lux')" class="bg-gradient-to-r from-yellow-400 to-pink-500 hover:from-yellow-500 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 설정 화면 -->
    <div id="settingsScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- 설정 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">⚙️ 설정</h2>
                <button id="closeSettingsBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 설정 옵션들 -->
            <div class="space-y-4">
                <!-- 수동 저장 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">💾 게임 저장</h3>
                    <p class="text-gray-300 text-sm mb-3">게임이 자동으로 저장되지만, 수동으로도 저장할 수 있습니다.</p>
                    <button onclick="saveGameData(); showMessage('게임이 저장되었습니다!', 'text-green-300')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        저장하기
                    </button>
                </div>
                
                <!-- 데이터 초기화 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">🗑️ 데이터 초기화</h3>
                    <p class="text-gray-300 text-sm mb-3">모든 게임 데이터를 삭제하고 처음부터 시작합니다.</p>
                    <button onclick="resetGameData()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        초기화
                    </button>
                </div>
                
                <!-- 저장 정보 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">📊 저장 정보</h3>
                    <div id="saveInfo" class="text-gray-300 text-sm">
                        <p>• 데이터는 브라우저에 자동 저장됩니다</p>
                        <p>• 브라우저 데이터를 삭제하면 게임 데이터도 사라집니다</p>
                        <p>• 같은 브라우저에서만 데이터가 유지됩니다</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 인벤토리 화면 -->
    <div id="inventoryScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-4xl h-5/6 max-h-96 sm:max-h-screen sm:h-4/5 p-6 flex flex-col">
            <!-- 인벤토리 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">🎒 인벤토리</h2>
                <button id="closeInventoryBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 인벤토리 내용 -->
            <div class="flex flex-1 gap-6 overflow-hidden">
                <!-- 좌측: 보석 리스트 -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <h3 class="text-lg font-bold text-white mb-4">보석 목록</h3>
                    <div id="gemList" class="grid grid-cols-3 sm:grid-cols-4 gap-3">
                        <!-- 보석들이 여기에 동적으로 추가됩니다 -->
                    </div>
                </div>
                
                <!-- 우측: 보석 상세 정보 및 장착 슬롯 -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <!-- 장착 슬롯 -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-white mb-3">장착 슬롯</h3>
                        <div id="equipmentSlots" class="grid grid-cols-2 gap-2 mb-4">
                            <!-- 장착 슬롯들이 여기에 동적으로 추가됩니다 -->
                        </div>
                        <div class="text-xs text-gray-400">
                            <span id="slotInfo">슬롯 1/1 사용 중</span>
                        </div>
                    </div>
                    
                    <!-- 보석 상세 정보 -->
                    <div id="gemDetails" class="text-center text-white">
                        <div class="text-6xl mb-4">💎</div>
                        <h3 class="text-xl font-bold mb-2">보석을 선택하세요</h3>
                        <p class="text-gray-300">좌측에서 보석을 클릭하면 상세 정보가 표시됩니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 패치노트 모달 -->
<div id="patchNoteModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 max-h-[80vh] overflow-y-auto p-6 relative">
    <h2 class="text-lg font-bold mb-4">📜 패치노트</h2>
    <pre id="patchNoteContent" class="text-sm whitespace-pre-wrap text-gray-800"></pre>
    <button id="closePatchNote" 
            class="absolute top-2 right-2 text-gray-500 hover:text-black">✖</button>
  </div>
</div>
    <!-- 매크로 감지 모달 -->
<div id="macroModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 p-6 text-center relative">
    <p class="text-lg font-bold text-red-600 mb-4">🚨 경고</p>
    <p id="macroText" class="text-gray-800">
      메크로가 감지되었습니다.<br>
      30초간 아무 입력이 없으면 자동으로 닫힙니다.
    </p>
  </div>
</div>
    <script>const _0x481327=_0x34d2;(function(_0x1b59c6,_0xa5aa81){const _0x5785af=_0x34d2,_0x5128a4=_0x1b59c6();while(!![]){try{const _0x49fdc7=parseInt(_0x5785af(0x1ee))/0x1*(parseInt(_0x5785af(0x1f1))/0x2)+parseInt(_0x5785af(0x19f))/0x3+-parseInt(_0x5785af(0x12b))/0x4*(parseInt(_0x5785af(0x1d7))/0x5)+parseInt(_0x5785af(0xfc))/0x6*(parseInt(_0x5785af(0x191))/0x7)+parseInt(_0x5785af(0x12d))/0x8+parseInt(_0x5785af(0x1f8))/0x9*(parseInt(_0x5785af(0x163))/0xa)+-parseInt(_0x5785af(0x102))/0xb;if(_0x49fdc7===_0xa5aa81)break;else _0x5128a4['push'](_0x5128a4['shift']());}catch(_0x4f7262){_0x5128a4['push'](_0x5128a4['shift']());}}}(_0x5751,0x4f6b1));let points=0x0,prisms=0x0,gems=0x0,chorus=0x0,multiple=0x1,isGachaActive=![],inventory={},equippedGems=[],currentGachaResults=[],volumes={'multi':![],'chorus':![],'lux':![]},maxSlots=0x1;const pointsDisplay=document[_0x481327(0x193)](_0x481327(0x1a4)),prismsDisplay=document[_0x481327(0x193)]('prisms'),earnPointsBtn=document[_0x481327(0x193)]('earnPointsBtn'),shopBtn=document[_0x481327(0x193)](_0x481327(0x149)),inventoryBtn=document[_0x481327(0x193)]('inventoryBtn'),messageDiv=document[_0x481327(0x193)](_0x481327(0x164)),gemData={0x1:{'name':_0x481327(0x134),'emoji':'💎','chorus':0x1,'multiple':0x1,'description':'작고\x20투명한\x20수정입니다.'},0x2:{'name':_0x481327(0x169),'emoji':'🔷','chorus':0x2,'multiple':0x1,'description':_0x481327(0x1de)},0x3:{'name':'붉은\x20수정','emoji':'🔶','chorus':0x3,'multiple':0x1,'description':_0x481327(0x1cf)},0x4:{'name':_0x481327(0x1e3),'emoji':'💚','chorus':0x4,'multiple':0x1,'description':_0x481327(0x13f)},0x5:{'name':_0x481327(0x1a0),'emoji':'💙','chorus':0x5,'multiple':0x1,'description':_0x481327(0x18d)},0x6:{'name':'루비','emoji':'❤️','chorus':0x6,'multiple':0x1,'description':_0x481327(0x15e)},0x7:{'name':'자수정','emoji':'💜','chorus':0x7,'multiple':1.1,'description':_0x481327(0x153)},0x8:{'name':_0x481327(0x1e8),'emoji':'💛','chorus':0x8,'multiple':1.2,'description':_0x481327(0x1ed)},0x9:{'name':_0x481327(0x172),'emoji':'💍','chorus':0x9,'multiple':1.3,'description':'가장\x20단단하고\x20빛나는\x20보석입니다.'},0xa:{'name':'오팔','emoji':'🌈','chorus':0xa,'multiple':1.4,'lux':0.5,'description':'무지개빛으로\x20변하는\x20신비한\x20보석입니다.'},0xb:{'name':'진주','emoji':'🤍','chorus':0xb,'multiple':1.5,'lux':0.8,'description':_0x481327(0x1c7)},0xc:{'name':_0x481327(0x156),'emoji':'🧡','chorus':0xc,'multiple':1.6,'lux':0x1,'description':'따뜻한\x20주황빛의\x20보석입니다.'},0xd:{'name':_0x481327(0x184),'emoji':'⭐','chorus':0xf,'multiple':0x2,'lux':2.5,'description':_0x481327(0x1a5)},0xe:{'name':_0x481327(0x1a9),'emoji':'🌙','chorus':0x14,'multiple':2.5,'lux':0x4,'description':_0x481327(0x17a)},0xf:{'name':'태양의\x20심장','emoji':'☀️','chorus':0x19,'multiple':0x3,'lux':0x5,'description':'태양의\x20힘이\x20담긴\x20전설의\x20보석입니다.'},0x10:{'name':_0x481327(0x106),'emoji':'☯','chorus':0x22,'multiple':3.4,'lux':0x6,'description':_0x481327(0x14b)},0x11:{'name':_0x481327(0x185),'emoji':'🔮','chorus':0x24,'multiple':0x4,'lux':0xa,'description':'태평양\x20어느\x20심해에서\x20발견된\x20빛이나는\x20보석입니다.'},0x12:{'name':'폴리\x20아이드','emoji':'🧿','chorus':0x1e,'multiple':4.1,'lux':8.3,'description':_0x481327(0x1bf)},0x13:{'name':_0x481327(0x160),'emoji':'🃏','chorus':0x11,'multiple':7.7,'lux':7.7,'description':'<다이스\x20룸>\x20카지노에서\x20만든\x20인조\x20보석입니다.\x20VIP에게\x20행운을\x20기원하는\x20의미로\x20주어집니다.'},0x14:{'name':'다이스톤','emoji':'🎲','chorus':0x6,'multiple':1.6,'description':_0x481327(0xef)},0x15:{'name':_0x481327(0x137),'emoji':'📛','chorus':0x2c,'multiple':4.4,'lux':4.4,'description':'지옥의\x20조개가\x20뱉은\x20진주입니다.\x20내부에\x20용암이\x20흐릅니다.'},0x16:{'name':_0x481327(0x1db),'emoji':'🪽','chorus':0x4d,'multiple':7.7,'lux':7.7,'description':_0x481327(0x143)},0x17:{'name':_0x481327(0xf6),'emoji':'🖱','chorus':0xa,'multiple':1.3,'description':_0x481327(0x1d2)},0x18:{'name':'정제된\x20작은\x20수정','emoji':'💠','chorus':0x34,'multiple':6.3,'lux':5.3,'description':'순결한\x20힘으로\x20정제된\x20작은\x20수정입니다.\x20진정한\x20힘이\x20개방되었습니다.'},0x19:{'name':_0x481327(0x1b2),'emoji':'🎨','chorus':0x45,'multiple':6.7,'lux':0x7,'description':'순결한\x20힘으로\x20정제된\x20오팔입니다.\x20찬란한\x20무지갯빛이\x20특징입니다.'},0x1a:{'name':_0x481327(0x11b),'emoji':'⭐','chorus':0x43,'multiple':7.1,'lux':6.8,'description':_0x481327(0x1e7)},0x1b:{'name':'GM','emoji':'⭐','chorus':0x1869f,'multiple':1.1,'lux':0x64,'description':_0x481327(0x1e0)}};function getGemGrade(_0x1d7143){const _0xc16c26=_0x481327;for(const [_0x48b024,_0x13face]of Object[_0xc16c26(0x192)](gemRewards)){if(_0x13face['includes'](parseInt(_0x1d7143)))return _0x48b024;}return'일반';}function updateDisplay(){const _0x2c453f=_0x481327;pointsDisplay[_0x2c453f(0x158)]=points,prismsDisplay[_0x2c453f(0x158)]=prisms;}function showMessage(_0x3852ad,_0x522d83='text-white'){const _0x414c02=_0x481327;messageDiv[_0x414c02(0x158)]=_0x3852ad,messageDiv[_0x414c02(0x139)]=_0x414c02(0x189)+_0x522d83,messageDiv[_0x414c02(0x1c1)]['opacity']='1',setTimeout(()=>{const _0x3ef9ce=_0x414c02;messageDiv[_0x3ef9ce(0x1c1)]['opacity']='0';},0x7d0);}function loadUsedCodes(){const _0x23044d=_0x481327,_0xe81eb5=localStorage[_0x23044d(0x15b)](_0x23044d(0x15d));return _0xe81eb5?JSON['parse'](_0xe81eb5):[];}function saveUsedCodes(_0x378b04){const _0x22ea6f=_0x481327;localStorage[_0x22ea6f(0x161)]('usedRedeemCodes',JSON[_0x22ea6f(0x11a)](_0x378b04));}const redeemCodes={'ReF5in3':{'gem':[0x17],'used':![]}};document[_0x481327(0x193)](_0x481327(0x1e2))[_0x481327(0x119)](_0x481327(0x1f7),()=>{const _0x230045=_0x481327,_0x13629a=document[_0x230045(0x193)](_0x230045(0x151))['value'][_0x230045(0xf4)](),_0x44e8bb=document[_0x230045(0x193)](_0x230045(0x14e));if(!_0x13629a){_0x44e8bb[_0x230045(0x158)]=_0x230045(0x154),_0x44e8bb[_0x230045(0x139)]=_0x230045(0x11d);return;}const _0x41b783=redeemCodes[_0x13629a],_0x4bfb5b=loadUsedCodes();if(_0x41b783&&!_0x4bfb5b['includes'](_0x13629a)){let _0x545d07=[];_0x41b783[_0x230045(0x1da)]&&(prisms+=_0x41b783[_0x230045(0x1da)],_0x545d07[_0x230045(0x104)](_0x41b783[_0x230045(0x1da)]+_0x230045(0x171))),_0x41b783['gem']&&Array[_0x230045(0x19e)](_0x41b783[_0x230045(0x1f2)])&&_0x41b783['gem'][_0x230045(0xed)](_0xd6c900=>{const _0x39c3f8=_0x230045;inventory[_0xd6c900]?inventory[_0xd6c900]++:inventory[_0xd6c900]=0x1,_0x545d07[_0x39c3f8(0x104)](gemData[_0xd6c900][_0x39c3f8(0x10b)]+'\x201개');}),_0x41b783[_0x230045(0xfe)]&&Array[_0x230045(0x19e)](_0x41b783['gems'])&&_0x41b783[_0x230045(0xfe)][_0x230045(0xed)](_0x5e58f6=>{const _0x5501e1=_0x230045;inventory[_0x5e58f6]?inventory[_0x5e58f6]+=0x3e7:inventory[_0x5e58f6]=0x3e7,_0x545d07['push'](gemData[_0x5e58f6][_0x5501e1(0x10b)]+'\x20999개');}),_0x4bfb5b[_0x230045(0x104)](_0x13629a),saveUsedCodes(_0x4bfb5b),_0x44e8bb[_0x230045(0x158)]=_0x545d07[_0x230045(0x196)](',\x20')+_0x230045(0x1e5),_0x44e8bb[_0x230045(0x139)]='text-xs\x20text-green-400\x20mt-1';}else _0x41b783&&_0x4bfb5b[_0x230045(0x1f6)](_0x13629a)?(_0x44e8bb[_0x230045(0x158)]='이미\x20사용한\x20코드입니다!',_0x44e8bb[_0x230045(0x139)]=_0x230045(0x14a)):(_0x44e8bb['textContent']=_0x230045(0x188),_0x44e8bb[_0x230045(0x139)]=_0x230045(0x11d));}),document[_0x481327(0x119)](_0x481327(0x1f4),function(_0x278f1d){const _0x30df7b=_0x481327;if(_0x278f1d[_0x30df7b(0x132)]===0x7b)return _0x278f1d['preventDefault'](),alert(_0x30df7b(0x1cb)),![];if(_0x278f1d[_0x30df7b(0x183)]&&_0x278f1d[_0x30df7b(0x13c)]&&(_0x278f1d[_0x30df7b(0x132)]===0x49||_0x278f1d[_0x30df7b(0x132)]===0x4a))return _0x278f1d['preventDefault'](),alert(_0x30df7b(0x1cb)),![];if(_0x278f1d[_0x30df7b(0x183)]&&_0x278f1d[_0x30df7b(0x132)]===0x55)return _0x278f1d[_0x30df7b(0x18e)](),alert(_0x30df7b(0x1e9)),![];}),document[_0x481327(0x119)](_0x481327(0x1d1),function(_0x46b247){const _0x4fa808=_0x481327;_0x46b247['preventDefault'](),alert(_0x4fa808(0x1d9));}),updateDisplay(),updateInventoryDisplay(),autoSave();let clickHistory=[],macroTimer=null,macroActive=![];const macroModal=document[_0x481327(0x193)](_0x481327(0x1af));function openMacroModal(){const _0x16a95d=_0x481327;if(macroActive)return;macroActive=!![],macroModal[_0x16a95d(0x1d3)][_0x16a95d(0x1f3)]('hidden'),resetMacroCloseTimer();}function closeMacroModal(){const _0x26681f=_0x481327;macroActive=![],macroModal[_0x26681f(0x1d3)][_0x26681f(0x1dd)]('hidden'),macroTimer&&(clearTimeout(macroTimer),macroTimer=null),clickHistory=[];}function resetMacroCloseTimer(){if(macroTimer)clearTimeout(macroTimer);macroTimer=setTimeout(()=>{closeMacroModal();},0x7530);}document['addEventListener'](_0x481327(0x1f7),()=>{macroActive&&resetMacroCloseTimer();}),earnPointsBtn['addEventListener']('click',()=>{const _0x28a842=_0x481327;if(isGachaActive)return;const _0x3cb19e=Date[_0x28a842(0x175)]();clickHistory[_0x28a842(0x104)](_0x3cb19e),clickHistory=clickHistory[_0x28a842(0x140)](_0x307a03=>_0x3cb19e-_0x307a03<=0xbb8);if(clickHistory[_0x28a842(0x1e4)]>=0x33){openMacroModal();return;}if(!macroActive){const _0x87f270=Math[_0x28a842(0x1c9)]((0x1+chorus)*multiple);points+=_0x87f270;if(window[_0x28a842(0x16f)]>0x0){if(Math[_0x28a842(0xf5)]()*0x64<window['totalLux']){prisms+=0x1,updateDisplay(),autoSave(),showMessage(_0x87f270+'\x20포인트\x20+\x20휘광으로\x20프리즘\x201개\x20획득!',_0x28a842(0x10c));return;}}updateDisplay(),autoSave(),showMessage(_0x87f270+_0x28a842(0x1b3),_0x28a842(0xff));}}),shopBtn[_0x481327(0x119)](_0x481327(0x1f7),()=>{if(isGachaActive)return;openShop();}),inventoryBtn[_0x481327(0x119)](_0x481327(0x1f7),()=>{if(isGachaActive)return;openInventory();}),document['getElementById']('settingsBtn')[_0x481327(0x119)]('click',()=>{if(isGachaActive)return;openSettings();});function openShop(){const _0x4039fe=_0x481327,_0x2d6af9=document[_0x4039fe(0x193)](_0x4039fe(0x178));_0x2d6af9[_0x4039fe(0x1c1)][_0x4039fe(0x1d5)]='1',_0x2d6af9[_0x4039fe(0x1c1)][_0x4039fe(0xfb)]=_0x4039fe(0x10d);}document['getElementById'](_0x481327(0x1cd))[_0x481327(0x119)](_0x481327(0x1f7),()=>{const _0x449e6f=_0x481327,_0x27912f=document[_0x449e6f(0x193)](_0x449e6f(0x178));_0x27912f[_0x449e6f(0x1c1)]['opacity']='0',_0x27912f['style'][_0x449e6f(0xfb)]=_0x449e6f(0x177);});function openGachaShop(){const _0x1234da=_0x481327,_0x5d12b2=document['getElementById'](_0x1234da(0x178)),_0x10477e=document[_0x1234da(0x193)](_0x1234da(0x13b));_0x5d12b2['style'][_0x1234da(0x1d5)]='0',_0x5d12b2[_0x1234da(0x1c1)][_0x1234da(0xfb)]=_0x1234da(0x177),setTimeout(()=>{const _0x137fcf=_0x1234da;_0x10477e[_0x137fcf(0x1c1)][_0x137fcf(0x1d5)]='1',_0x10477e[_0x137fcf(0x1c1)][_0x137fcf(0xfb)]=_0x137fcf(0x10d);},0x12c);}document[_0x481327(0x193)](_0x481327(0x19a))[_0x481327(0x119)](_0x481327(0x1f7),()=>{const _0x1576ae=_0x481327,_0x29b0ed=document['getElementById'](_0x1576ae(0x13b));_0x29b0ed[_0x1576ae(0x1c1)]['opacity']='0',_0x29b0ed[_0x1576ae(0x1c1)]['pointerEvents']=_0x1576ae(0x177);});function openVolumeShop(){const _0x296477=_0x481327,_0x4544d8=document[_0x296477(0x193)]('shopScreen'),_0x151ed1=document[_0x296477(0x193)](_0x296477(0x162));_0x4544d8[_0x296477(0x1c1)][_0x296477(0x1d5)]='0',_0x4544d8[_0x296477(0x1c1)][_0x296477(0xfb)]=_0x296477(0x177),setTimeout(()=>{const _0xcdc211=_0x296477;_0x151ed1[_0xcdc211(0x1c1)][_0xcdc211(0x1d5)]='1',_0x151ed1[_0xcdc211(0x1c1)][_0xcdc211(0xfb)]=_0xcdc211(0x10d),updateVolumeShopDisplay();},0x12c);}document[_0x481327(0x193)](_0x481327(0x186))[_0x481327(0x119)]('click',()=>{const _0x4f6342=_0x481327,_0x201e6e=document[_0x4f6342(0x193)]('volumeShopScreen');_0x201e6e[_0x4f6342(0x1c1)][_0x4f6342(0x1d5)]='0',_0x201e6e[_0x4f6342(0x1c1)]['pointerEvents']='none';});function openInventory(){const _0x4baf76=_0x481327,_0x4911e2=document[_0x4baf76(0x193)](_0x4baf76(0x1b4));_0x4911e2[_0x4baf76(0x1c1)][_0x4baf76(0x1d5)]='1',_0x4911e2[_0x4baf76(0x1c1)][_0x4baf76(0xfb)]='auto',updateInventoryDisplay();const _0x241174=Object['keys'](inventory)[0x0];_0x241174&&showGemDetails(_0x241174);}function _0x5751(){const _0x4c50eb=['343320VihwSA','mainUI','gachaText','gemstone','max','keyCode','toFixed','작은\x20수정','bg-white\x20bg-opacity-10\x20rounded-lg\x20p-3\x20text-center\x20cursor-pointer\x20hover:bg-opacity-20\x20transition-all\x20duration-300','fixed\x20inset-0\x20flex\x20items-center\x20justify-center\x20z-50\x20opacity-0\x20pointer-events-none\x20transition-all\x20duration-1000','헬\x20크림슨','class','className','multiple','gachaShopScreen','shiftKey','appendChild','<button\x20onclick=\x22equipGem(','신비로운\x20녹색\x20보석입니다.','filter','럭스\x20볼륨','text-xs\x20text-gray-400\x20mt-1','천국에서\x20쓰는\x20헤븐\x20블루\x20염료를\x20제작할때\x20쓰는\x20값비싼\x20보석입니다.','closeInventoryBtn','<div\x20class=\x22text-xs\x20text-yellow-400\x20mt-1\x22>장착됨</div>','removeItem','grade-rare','lux','shopBtn','text-xs\x20text-yellow-400\x20mt-1','수백년전\x20떨어진\x20혜성에서\x20떨어진\x20파편입니다.\x20어쩐지\x20털이..날리는것\x20같네요?','100\x20프리즘\x20+\x20','multipleGemGrid','codeMessage','grade-common','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-3xl\x20mb-2\x22>','codeInput','rewardText','고귀한\x20보라색\x20보석입니다.','코드를\x20입력하세요!','patchNoteBtn','토파즈','\x201개','textContent','text-red-300','gradeText','getItem','\x20|\x20x','usedRedeemCodes','정열적인\x20빨간색\x20보석입니다.','text-yellow-300','팔라틱\x20조커','setItem','volumeShopScreen','10ztkuWP','message','gemId','closeSettingsBtn','chorusVolumeStatus','parse','푸른\x20수정','gachaScreen','multipleReward','개\x20장착됨','text-green-300','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalLux','원석을\x20클릭하세요!\x20(10회\x20뽑기)','\x20프리즘','다이아몬드','sort','revealScreen','now','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-blue-300\x20font-medium\x20mb-2\x22>','none','shopScreen','equippedGemDisplay','달빛이\x20응축된\x20신비한\x20보석입니다.','description','grade-special','innerHTML','코러스\x20+','grade-legendary','gemRewardScreen','inventory','을(를)\x20장착했습니다!','ctrlKey','별의\x20조각','파시티션트','closeVolumeShopBtn','emoji','잘못된\x20코드입니다!','mt-8\x20text-center\x20font-medium\x20text-lg\x20transition-opacity\x20duration-300\x20','continueBtn','럭스\x20볼륨\x20구매에\x20사용할\x20보석을\x20선택하세요:\x0a\x0a','buyLuxVolumeBtn','깊은\x20파란색의\x20고급\x20보석입니다.','preventDefault','bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed','keys','129731ftzhBa','entries','getElementById','프리즘이\x20부족합니다!\x20(100\x20프리즘\x20필요)','multi','join','event','재화가\x20부족합니다!','bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20hover:from-orange-600\x20hover:to-red-700\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300','closeGachaShopBtn','buyMultiVolumeBtn','floor','singleReward','isArray','627747HMFXKZ','사파이어','div','전설\x20이상\x20보석이\x202개\x20이상\x20필요합니다!','multiVolumeStatus','points','하늘에서\x20떨어진\x20별의\x20조각입니다.','buyChorusVolumeBtn','gradeClass','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-gray-400\x20text-sm\x20mb-4\x22>보유\x20개수:\x20','달의\x20눈물','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x20justify-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','코드\x20변조\x20감지됨!','luxVolumeStatus','\x0a번호를\x20입력하세요\x20(취소하려면\x200):','ring-2\x20ring-yellow-400','macroModal','이미\x20장착된\x20보석입니다!','을(를)\x20추출하여\x20프리즘\x20','정재된\x20오팔','\x20포인트를\x20획득했습니다!','inventoryScreen','bg-gradient-to-r\x20from-blue-500\x20to-purple-600\x20hover:from-blue-600\x20hover:to-purple-700\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300','저장된\x20데이터를\x20불러오는데\x20실패했습니다.','55,000\x20포인트','allowSave','등급이\x20공개되었습니다!','splice','기본\x20슬롯','hidden','grade-unique','rewardGemImage','푸른빛의\x20눈처럼\x20생긴\x20보석입니다.','게임\x20데이터가\x20초기화되었습니다.','style','equippedGems','indexOf','grade-epic','equippedGemStats','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','바다에서\x20온\x20순백의\x20보석입니다.','\x20|\x20휘광\x20','round','toString','개발자\x20도구\x20사용이\x20제한되었습니다!','이벤트','closeShopBtn','revealMessage','붉은빛이\x20도는\x20화려한\x20수정입니다.','target','contextmenu','아주\x20맑고\x20순백한\x20색의\x20수정입니다.\x20특별한\x20곳에\x20사용할\x20수\x20있을\x20것\x20같아요.','classList','disabled','opacity','patchNoteModal','1021165FmiWCB','유니크','우클릭이\x20제한되었습니다!','prisms','홀리틱\x20라피스','미보유','add','푸른빛이\x20도는\x20아름다운\x20수정입니다.','개를\x20획득했습니다!','GM.','patchNoteContent','redeemCodeBtn','에메랄드','length','를\x20획득했습니다!','pointer','순결한\x20힘으로\x20정제된\x20황금석입니다.\x20불순물\x20없는\x20진짜\x20순@금이죠.','황금석','소스\x20보기가\x20제한되었습니다!','저장\x20차단됨:\x20코드\x20변조\x20감지됨','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x20opacity-50\x22>💎</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-400\x22>비어있음</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','슬롯\x20','황금빛으로\x20빛나는\x20보석입니다.','91284LYzBue','gemGachaGame','와\x20보석(ID:23)\x202개\x20이상이\x20필요합니다!','10bhLcCZ','gem','remove','keydown','스페셜','includes','click','487503lDdUMu','grade','forEach','currentGemId','<다이스\x20룸>\x20외벽을\x20이루는\x20대리석과\x20비슷한\x20재질의\x20광석입니다.','<button\x20class=\x22bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed\x22\x20disabled>추출\x20불가</button>','text-xs\x20text-green-400\x20mt-1','equipmentSlots',')\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>장착하기</button>','trim','random','차스티움','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>','\x20필요)','포인트','error','pointerEvents','168pqmtfh','onclick','gems','text-blue-300','w-24\x20h-24\x20sm:w-32\x20sm:h-32\x20bg-gradient-to-br\x20from-yellow-400\x20to-orange-500\x20rounded-full\x20mx-auto\x20mb-6\x20shadow-2xl\x20flex\x20items-center\x20justify-center\x20text-3xl\x20sm:text-4xl','을(를)\x20구매했습니다!\x20(','8273595mgaRqV','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-6xl\x20mb-4\x22>','카르마\x20벨','원석을\x20클릭하세요!','bg-gradient-to-r\x20from-yellow-400\x20to-pink-500\x20hover:from-yellow-500\x20hover:to-pink-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>','gemList','name','text-purple-300','auto','currentGachaCount','equippedGemIcon','createElement','equippedGemName','luxury','currentGachaType','코러스\x20볼륨','보석\x20장착을\x20해제했습니다!','normal','100,000\x20포인트','개\x20보유)\x0a','addEventListener','stringify','정제된\x20황금석','보유\x20중','text-xs\x20text-red-400\x20mt-1','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x22>','bg-white\x20bg-opacity-10\x20hover:bg-opacity-20\x20rounded-lg\x20p-3\x20cursor-pointer\x20transition-all\x20duration-300\x20text-center\x20relative\x20','정말로\x20게임\x20데이터를\x20초기화하시겠습니까?\x20이\x20작업은\x20되돌릴\x20수\x20없습니다.','currentGrade','fixed\x20inset-0\x20flex\x20items-center\x20justify-center\x20z-50\x20transition-all\x20duration-1000\x20','warn','volumes','멀티\x20볼륨','chorus','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x22>','❌\x20이벤트\x20뽑기에는\x20포인트\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-blue-300\x20mb-1\x22>','beginner','4vxbesh','저장된\x20게임\x20데이터를\x20불러왔습니다!'];_0x5751=function(){return _0x4c50eb;};return _0x5751();}document[_0x481327(0x193)](_0x481327(0x144))[_0x481327(0x119)](_0x481327(0x1f7),()=>{const _0x4b1d9b=_0x481327,_0x5abeeb=document[_0x4b1d9b(0x193)]('inventoryScreen');_0x5abeeb[_0x4b1d9b(0x1c1)]['opacity']='0',_0x5abeeb[_0x4b1d9b(0x1c1)][_0x4b1d9b(0xfb)]=_0x4b1d9b(0x177);});function openSettings(){const _0x35c120=_0x481327,_0x187656=document['getElementById']('settingsScreen');_0x187656[_0x35c120(0x1c1)][_0x35c120(0x1d5)]='1',_0x187656[_0x35c120(0x1c1)][_0x35c120(0xfb)]=_0x35c120(0x10d);}document[_0x481327(0x193)](_0x481327(0x166))['addEventListener'](_0x481327(0x1f7),()=>{const _0x19fc37=_0x481327,_0x46610a=document[_0x19fc37(0x193)]('settingsScreen');_0x46610a[_0x19fc37(0x1c1)][_0x19fc37(0x1d5)]='0',_0x46610a['style'][_0x19fc37(0xfb)]=_0x19fc37(0x177);});function updateVolumeShopDisplay(){const _0x3e6f07=_0x481327,_0x5d7b43=document[_0x3e6f07(0x193)](_0x3e6f07(0x1a3)),_0xd21636=document[_0x3e6f07(0x193)]('buyMultiVolumeBtn');volumes['multi']&&(_0x5d7b43['textContent']=_0x3e6f07(0x11c),_0x5d7b43[_0x3e6f07(0x139)]=_0x3e6f07(0xf1),_0xd21636['textContent']=_0x3e6f07(0x11c),_0xd21636[_0x3e6f07(0x1d4)]=!![],_0xd21636[_0x3e6f07(0x139)]=_0x3e6f07(0x18f));const _0x3aea86=document[_0x3e6f07(0x193)]('chorusVolumeStatus'),_0x526d4c=document['getElementById']('buyChorusVolumeBtn');volumes[_0x3e6f07(0x126)]&&(_0x3aea86[_0x3e6f07(0x158)]=_0x3e6f07(0x11c),_0x3aea86[_0x3e6f07(0x139)]=_0x3e6f07(0xf1),_0x526d4c[_0x3e6f07(0x158)]=_0x3e6f07(0x11c),_0x526d4c[_0x3e6f07(0x1d4)]=!![],_0x526d4c['className']=_0x3e6f07(0x18f));const _0x24ecf9=document['getElementById']('luxVolumeStatus'),_0x2dd38d=document[_0x3e6f07(0x193)](_0x3e6f07(0x18c));volumes[_0x3e6f07(0x148)]&&(_0x24ecf9['textContent']=_0x3e6f07(0x11c),_0x24ecf9[_0x3e6f07(0x139)]=_0x3e6f07(0xf1),_0x2dd38d[_0x3e6f07(0x158)]='보유\x20중',_0x2dd38d[_0x3e6f07(0x1d4)]=!![],_0x2dd38d[_0x3e6f07(0x139)]=_0x3e6f07(0x18f));}function buyVolume(_0x2ebe61){const _0x5909ff=_0x481327;if(volumes[_0x2ebe61]){showMessage('이미\x20보유하고\x20있는\x20볼륨입니다!',_0x5909ff(0x15f));return;}let _0x36f252=![],_0x18b4a2='';switch(_0x2ebe61){case _0x5909ff(0x195):points>=0x186a0&&(points-=0x186a0,_0x36f252=!![],_0x18b4a2=_0x5909ff(0x117));break;case'chorus':points>=0xd6d8&&(points-=0xd6d8,_0x36f252=!![],_0x18b4a2=_0x5909ff(0x1b7));break;case _0x5909ff(0x148):const _0x47918c=[];Object[_0x5909ff(0x190)](inventory)[_0x5909ff(0xed)](_0x5601cc=>{const _0x267245=_0x5909ff,_0x528745=getGemGrade(_0x5601cc);(_0x528745==='전설'||_0x528745==='유니크'||_0x528745===_0x267245(0x1f5))&&inventory[_0x5601cc]>=0x2&&_0x47918c[_0x267245(0x104)](_0x5601cc);});if(prisms>=0x64&&_0x47918c[_0x5909ff(0x1e4)]>0x0){const _0x20ec80=selectLegendaryGemForLux(_0x47918c);if(_0x20ec80){prisms-=0x64,inventory[_0x20ec80]--,_0x36f252=!![];const _0x582255=gemData[_0x20ec80];_0x18b4a2=_0x5909ff(0x14c)+_0x582255[_0x5909ff(0x10b)]+_0x5909ff(0x157);}else return;}else{prisms<0x64?showMessage(_0x5909ff(0x194),'text-red-300'):showMessage(_0x5909ff(0x1a2),_0x5909ff(0x159));return;}break;}_0x36f252?(volumes[_0x2ebe61]=!![],maxSlots++,updateDisplay(),updateVolumeShopDisplay(),autoSave(),showMessage(getVolumeKoreanName(_0x2ebe61)+_0x5909ff(0x101)+_0x18b4a2+')','text-green-300')):showMessage(_0x5909ff(0x198),_0x5909ff(0x159));}function getVolumeKoreanName(_0x7f6883){const _0x15d839=_0x481327;switch(_0x7f6883){case _0x15d839(0x195):return _0x15d839(0x125);case _0x15d839(0x126):return _0x15d839(0x114);case _0x15d839(0x148):return'럭스\x20볼륨';default:return'볼륨';}}function selectLegendaryGemForLux(_0x476ba4){const _0x43188d=_0x481327;let _0x17b38d=_0x43188d(0x18b);_0x476ba4['forEach']((_0x4c6317,_0x1728a8)=>{const _0x123e17=_0x43188d,_0x2263ac=gemData[_0x4c6317],_0x2594c1=inventory[_0x4c6317];_0x17b38d+=_0x1728a8+0x1+'.\x20'+_0x2263ac[_0x123e17(0x10b)]+'\x20('+_0x2594c1+_0x123e17(0x118);}),_0x17b38d+=_0x43188d(0x1ad);const _0x3beab6=prompt(_0x17b38d),_0x1f1e49=parseInt(_0x3beab6);if(_0x1f1e49>=0x1&&_0x1f1e49<=_0x476ba4['length'])return _0x476ba4[_0x1f1e49-0x1];return null;}function resetVolumeShopButtons(){const _0x56900b=_0x481327,_0x5da133=document[_0x56900b(0x193)]('multiVolumeStatus'),_0x51b158=document[_0x56900b(0x193)](_0x56900b(0x19b));_0x5da133[_0x56900b(0x158)]='미보유',_0x5da133[_0x56900b(0x139)]=_0x56900b(0x142),_0x51b158[_0x56900b(0x158)]='구매',_0x51b158[_0x56900b(0x1d4)]=![],_0x51b158[_0x56900b(0x139)]=_0x56900b(0x199);const _0xdeaab7=document[_0x56900b(0x193)](_0x56900b(0x167)),_0xe5851b=document['getElementById'](_0x56900b(0x1a6));_0xdeaab7[_0x56900b(0x158)]=_0x56900b(0x1dc),_0xdeaab7[_0x56900b(0x139)]=_0x56900b(0x142),_0xe5851b[_0x56900b(0x158)]='구매',_0xe5851b['disabled']=![],_0xe5851b[_0x56900b(0x139)]=_0x56900b(0x1b5);const _0x28631f=document['getElementById'](_0x56900b(0x1ac)),_0xc1084a=document[_0x56900b(0x193)]('buyLuxVolumeBtn');_0x28631f['textContent']='미보유',_0x28631f['className']=_0x56900b(0x142),_0xc1084a['textContent']='구매',_0xc1084a[_0x56900b(0x1d4)]=![],_0xc1084a[_0x56900b(0x139)]=_0x56900b(0x108);}function updateInventoryDisplay(){const _0x3b638d=_0x481327,_0x2f6f49=document[_0x3b638d(0x193)](_0x3b638d(0x10a));_0x2f6f49[_0x3b638d(0x17d)]='';const _0x2ec4fe=['일반','희귀','에픽','전설','유니크',_0x3b638d(0x1f5),_0x3b638d(0x1cc)],_0x104549=Object[_0x3b638d(0x190)](inventory)[_0x3b638d(0x173)]((_0x36a536,_0x10f33a)=>{const _0x50b542=_0x3b638d,_0x2ea9b7=getGemGrade(_0x36a536),_0x357ccc=getGemGrade(_0x10f33a),_0x5559a5=_0x2ec4fe[_0x50b542(0x1c3)](_0x2ea9b7),_0x1b0838=_0x2ec4fe[_0x50b542(0x1c3)](_0x357ccc);if(_0x5559a5!==_0x1b0838)return _0x5559a5-_0x1b0838;return gemData[_0x36a536][_0x50b542(0x10b)]['localeCompare'](gemData[_0x10f33a][_0x50b542(0x10b)],'ko');});_0x104549[_0x3b638d(0xed)](_0x52025c=>{const _0x26b828=_0x3b638d,_0x379a0b=gemData[_0x52025c],_0x2b98bd=inventory[_0x52025c],_0x208380=equippedGems[_0x26b828(0x1f6)](parseInt(_0x52025c)),_0x2c1ea6=document[_0x26b828(0x110)]('div');_0x2c1ea6[_0x26b828(0x139)]=_0x26b828(0x11f)+(_0x208380?_0x26b828(0x1ae):''),_0x2c1ea6['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x22>'+_0x379a0b['emoji']+_0x26b828(0x109)+_0x379a0b['name']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-1\x20right-1\x20bg-blue-500\x20text-white\x20text-xs\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22>'+_0x2b98bd+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x208380?_0x26b828(0x145):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c1ea6[_0x26b828(0x119)](_0x26b828(0x1f7),()=>showGemDetails(_0x52025c)),_0x2f6f49['appendChild'](_0x2c1ea6);}),_0x104549[_0x3b638d(0x1e4)]===0x0&&(_0x2f6f49['innerHTML']='<div\x20class=\x22col-span-full\x20text-center\x20text-gray-400\x20py-8\x22>보석이\x20없습니다</div>'),updateEquipmentSlots();}function updateEquipmentSlots(){const _0x4efcab=_0x481327,_0x491dc9=document[_0x4efcab(0x193)](_0x4efcab(0xf2)),_0x324a44=document[_0x4efcab(0x193)]('slotInfo');_0x491dc9[_0x4efcab(0x17d)]='';const _0x312ba6=[{'key':_0x4efcab(0x195),'name':_0x4efcab(0x125),'available':!![]},{'key':_0x4efcab(0x195),'name':_0x4efcab(0x125),'available':volumes[_0x4efcab(0x195)]},{'key':'chorus','name':_0x4efcab(0x114),'available':volumes[_0x4efcab(0x126)]},{'key':_0x4efcab(0x148),'name':'럭스\x20볼륨','available':volumes[_0x4efcab(0x148)]}];for(let _0xc896c8=0x0;_0xc896c8<maxSlots;_0xc896c8++){const _0x536986=document[_0x4efcab(0x110)](_0x4efcab(0x1a1));_0x536986[_0x4efcab(0x139)]=_0x4efcab(0x135);let _0x2a5a28=_0x4efcab(0x1bb);if(_0xc896c8===0x1&&volumes[_0x4efcab(0x195)])_0x2a5a28='멀티\x20볼륨';else{if(_0xc896c8===0x2&&volumes[_0x4efcab(0x126)])_0x2a5a28=_0x4efcab(0x114);else{if(_0xc896c8===0x3&&volumes[_0x4efcab(0x148)])_0x2a5a28='럭스\x20볼륨';else{if(_0xc896c8>0x0){if(volumes[_0x4efcab(0x195)]&&_0xc896c8===0x1)_0x2a5a28=_0x4efcab(0x125);else{if(volumes[_0x4efcab(0x126)]&&(volumes['multi']&&_0xc896c8===0x2||!volumes[_0x4efcab(0x195)]&&_0xc896c8===0x1))_0x2a5a28=_0x4efcab(0x114);else{if(volumes['lux']){let _0x9cadc=0x1;if(volumes[_0x4efcab(0x195)])_0x9cadc++;if(volumes['chorus'])_0x9cadc++;if(_0xc896c8===_0x9cadc)_0x2a5a28=_0x4efcab(0x141);}}}}}}}if(equippedGems[_0xc896c8]){const _0xed0ff=gemData[equippedGems[_0xc896c8]];_0x536986['innerHTML']=_0x4efcab(0x129)+_0x2a5a28+_0x4efcab(0x11e)+_0xed0ff['emoji']+_0x4efcab(0xf7)+_0xed0ff['name']+_0x4efcab(0x1c6),_0x536986[_0x4efcab(0xfd)]=()=>unequipGemFromSlot(_0xc896c8);}else _0x536986[_0x4efcab(0x17d)]=_0x4efcab(0x129)+_0x2a5a28+_0x4efcab(0x1eb);_0x491dc9[_0x4efcab(0x13d)](_0x536986);}_0x324a44[_0x4efcab(0x158)]=_0x4efcab(0x1ec)+equippedGems['length']+'/'+maxSlots+'\x20사용\x20중';}function showGemDetails(_0x49fa1c){const _0xa14064=_0x481327,_0x18a7d6=gemData[_0x49fa1c],_0x4dc63f=document[_0xa14064(0x193)]('gemDetails'),_0x471af1=inventory[_0x49fa1c]||0x0;let _0x5cd2e5=_0xa14064(0x17e)+_0x18a7d6['chorus'];_0x18a7d6[_0xa14064(0x13a)]>0x1&&(_0x5cd2e5+=_0xa14064(0x15c)+_0x18a7d6[_0xa14064(0x13a)]);_0x18a7d6[_0xa14064(0x148)]&&(_0x5cd2e5+='\x20|\x20휘광\x20'+_0x18a7d6[_0xa14064(0x148)]+'%');const _0x58dc62=equippedGems[_0xa14064(0x1f6)](parseInt(_0x49fa1c)),_0x35d01e=_0x471af1>=0x2,_0x7a8fb6=!_0x58dc62&&equippedGems[_0xa14064(0x1e4)]<maxSlots;_0x4dc63f[_0xa14064(0x17d)]=_0xa14064(0x105)+_0x18a7d6[_0xa14064(0x187)]+_0xa14064(0x127)+_0x18a7d6[_0xa14064(0x10b)]+_0xa14064(0x176)+_0x5cd2e5+_0xa14064(0x1a8)+_0x471af1+'개</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-300\x20mb-4\x22>'+_0x18a7d6[_0xa14064(0x17b)]+_0xa14064(0x1aa)+(_0x58dc62?'<button\x20onclick=\x22unequipGem('+_0x49fa1c+')\x22\x20class=\x22bg-red-500\x20hover:bg-red-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>장착\x20해제</button>':_0x7a8fb6?_0xa14064(0x13e)+_0x49fa1c+_0xa14064(0xf3):'<button\x20class=\x22bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed\x22\x20disabled>슬롯\x20부족</button>')+_0xa14064(0x103)+(_0x35d01e?'<button\x20onclick=\x22extractGem('+_0x49fa1c+')\x22\x20class=\x22bg-purple-500\x20hover:bg-purple-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>추출</button>':_0xa14064(0xf0))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}function startGacha(_0x34b30e,_0x5d53b5=0x1){const _0xc8c26b=_0x481327;if(isGachaActive)return;let _0x785901,_0x3a6c8f,_0x524522;switch(_0x34b30e){case _0xc8c26b(0x12a):_0x785901=_0x5d53b5===0xa?0x64:0xa,_0x3a6c8f=_0xc8c26b(0x1a4),_0x524522=points>=_0x785901;break;case _0xc8c26b(0x116):_0x785901=_0x5d53b5===0xa?0x32:0x5,_0x3a6c8f=_0xc8c26b(0x1da),_0x524522=prisms>=_0x785901;break;case'premium':_0x785901=_0x5d53b5===0xa?0x12c:0x1e,_0x3a6c8f=_0xc8c26b(0x1da),_0x524522=prisms>=_0x785901;break;case _0xc8c26b(0x112):_0x785901=_0x5d53b5===0xa?0x1f4:0x32,_0x3a6c8f=_0xc8c26b(0x1da),_0x524522=prisms>=_0x785901;break;case _0xc8c26b(0x1e6):_0x785901=_0x5d53b5===0xa?0xf4240:0x186a0,_0x3a6c8f=_0xc8c26b(0x1a4),_0x524522=points>=_0x785901;break;case'event':_0x785901=_0x5d53b5===0xa?0x7a120:0xc350,_0x3a6c8f=_0xc8c26b(0x1a4);if(_0x785901===0xc350){_0x524522=points>=_0x785901&&(inventory[0x17]||0x0)>=0x2;break;}else{_0x524522=points>=_0x785901&&(inventory[0x17]||0x0)>=0xb;break;}}if(_0x524522){if(_0x34b30e==='event')points-=_0x785901,_0x785901===0x7a120?inventory[0x17]-=0xa:inventory[0x17]-=0x1;else _0x3a6c8f==='points'?points-=_0x785901:prisms-=_0x785901;updateDisplay(),autoSave();const _0xce2968=document[_0xc8c26b(0x193)](_0xc8c26b(0x178)),_0x121126=document['getElementById']('gachaShopScreen');_0xce2968[_0xc8c26b(0x1c1)][_0xc8c26b(0x1d5)]='0',_0xce2968[_0xc8c26b(0x1c1)][_0xc8c26b(0xfb)]=_0xc8c26b(0x177),_0x121126[_0xc8c26b(0x1c1)][_0xc8c26b(0x1d5)]='0',_0x121126[_0xc8c26b(0x1c1)][_0xc8c26b(0xfb)]='none',window['currentGachaType']=_0x34b30e,window[_0xc8c26b(0x10e)]=_0x5d53b5,startGachaAnimation();}else{if(_0x34b30e===_0xc8c26b(0x197))showMessage(_0xc8c26b(0x128)+_0x785901+_0xc8c26b(0x1f0),'text-red-300');else{const _0x10c0fb=_0x3a6c8f===_0xc8c26b(0x1a4)?_0xc8c26b(0xf9):'프리즘';showMessage(_0x10c0fb+'이\x20부족합니다!\x20('+_0x785901+'\x20'+_0x10c0fb+_0xc8c26b(0xf8),_0xc8c26b(0x159));}}}function startGachaAnimation(){const _0x432415=_0x481327;isGachaActive=!![];const _0x8b659d=document[_0x432415(0x193)](_0x432415(0x12e)),_0x56d288=document[_0x432415(0x193)]('gachaScreen'),_0x5a7fdb=document[_0x432415(0x193)](_0x432415(0x130)),_0x32970f=document[_0x432415(0x193)](_0x432415(0x12f));_0x8b659d[_0x432415(0x1c1)][_0x432415(0x1d5)]='0',_0x56d288[_0x432415(0x1c1)]['opacity']='1',_0x56d288['style'][_0x432415(0xfb)]='auto',window[_0x432415(0x10e)]===0xa?_0x32970f[_0x432415(0x158)]=_0x432415(0x170):_0x32970f[_0x432415(0x158)]=_0x432415(0x107),_0x5a7fdb[_0x432415(0xfd)]=null,_0x5a7fdb['onclick']=()=>{const _0x549194=_0x432415;window[_0x549194(0x10e)]===0xa?performMultipleGacha():revealGrade();};}const gemRewards={'일반':[0x1,0x2,0x3],'희귀':[0x4,0x5,0x6],'에픽':[0x7,0x8,0x9,0x14,0x17],'전설':[0xa,0xb,0xc],'유니크':[0xd,0xe,0xf,0x10],'스페셜':[0x11,0x12,0x13,0x15,0x16],'이벤트':[0x18,0x19,0x1a]};function performMultipleGacha(){const _0x34cfc8=_0x481327;currentGachaResults=[];for(let _0x3bf248=0x0;_0x3bf248<0xa;_0x3bf248++){const _0x23b1f6=performSingleGacha();currentGachaResults[_0x34cfc8(0x104)](_0x23b1f6);}const _0xc3c17c=['일반','희귀','에픽','전설','유니크',_0x34cfc8(0x1f5),_0x34cfc8(0x1cc)];let _0x469d80='일반',_0x1f2b12=_0x34cfc8(0x14f);currentGachaResults[_0x34cfc8(0xed)](_0x48def2=>{const _0x2f9f73=_0x34cfc8,_0x4634d8=_0xc3c17c['indexOf'](_0x48def2[_0x2f9f73(0x1f9)]),_0x55d71d=_0xc3c17c['indexOf'](_0x469d80);_0x4634d8>_0x55d71d&&(_0x469d80=_0x48def2[_0x2f9f73(0x1f9)],_0x1f2b12=_0x48def2[_0x2f9f73(0x1a7)]);}),showGradeReveal(_0x469d80,_0x1f2b12,!![]);}function performSingleGacha(){const _0x5780aa=_0x481327;let _0x37af97;switch(window[_0x5780aa(0x113)]){case _0x5780aa(0x12a):_0x37af97=[{'name':'일반','class':_0x5780aa(0x14f),'probability':0.7},{'name':'희귀','class':_0x5780aa(0x147),'probability':0.2},{'name':'에픽','class':'grade-epic','probability':0.08},{'name':'전설','class':_0x5780aa(0x17f),'probability':0.015},{'name':'유니크','class':'grade-unique','probability':0.005},{'name':_0x5780aa(0x1f5),'class':'grade-special','probability':0x0}];break;case _0x5780aa(0x116):_0x37af97=[{'name':'일반','class':_0x5780aa(0x14f),'probability':0.5},{'name':'희귀','class':_0x5780aa(0x147),'probability':0.25},{'name':'에픽','class':_0x5780aa(0x1c4),'probability':0.15},{'name':'전설','class':_0x5780aa(0x17f),'probability':0.07},{'name':_0x5780aa(0x1d8),'class':_0x5780aa(0x1bd),'probability':0.03},{'name':_0x5780aa(0x1f5),'class':_0x5780aa(0x17c),'probability':0x0}];break;case'premium':_0x37af97=[{'name':'일반','class':_0x5780aa(0x14f),'probability':0.3},{'name':'희귀','class':_0x5780aa(0x147),'probability':0.3},{'name':'에픽','class':_0x5780aa(0x1c4),'probability':0.22},{'name':'전설','class':_0x5780aa(0x17f),'probability':0.12},{'name':_0x5780aa(0x1d8),'class':_0x5780aa(0x1bd),'probability':0.05},{'name':'스페셜','class':'grade-special','probability':0.01}];break;case'luxury':_0x37af97=[{'name':'일반','class':_0x5780aa(0x14f),'probability':0.3},{'name':'희귀','class':'grade-rare','probability':0.3},{'name':'에픽','class':_0x5780aa(0x1c4),'probability':0.22},{'name':'전설','class':_0x5780aa(0x17f),'probability':0.1},{'name':_0x5780aa(0x1d8),'class':_0x5780aa(0x1bd),'probability':0.05},{'name':'스페셜','class':_0x5780aa(0x17c),'probability':0.01}];break;case'pointer':_0x37af97=[{'name':'일반','class':_0x5780aa(0x14f),'probability':0.3},{'name':'희귀','class':_0x5780aa(0x147),'probability':0.3},{'name':'에픽','class':_0x5780aa(0x1c4),'probability':0.22},{'name':'전설','class':_0x5780aa(0x17f),'probability':0.1},{'name':'유니크','class':_0x5780aa(0x1bd),'probability':0.05},{'name':_0x5780aa(0x1f5),'class':_0x5780aa(0x17c),'probability':0.01}];break;case _0x5780aa(0x197):_0x37af97=[{'name':'일반','class':_0x5780aa(0x14f),'probability':0.3},{'name':'희귀','class':_0x5780aa(0x147),'probability':0.3},{'name':'에픽','class':_0x5780aa(0x1c4),'probability':0.22},{'name':'전설','class':_0x5780aa(0x17f),'probability':0.1},{'name':'유니크','class':'grade-unique','probability':0.04},{'name':_0x5780aa(0x1f5),'class':_0x5780aa(0x17c),'probability':0.01},{'name':_0x5780aa(0x1cc),'class':'grade-event','probability':0.01}];break;default:_0x37af97=[{'name':'일반','class':_0x5780aa(0x14f),'probability':0.5},{'name':'희귀','class':_0x5780aa(0x147),'probability':0.25},{'name':'에픽','class':_0x5780aa(0x1c4),'probability':0.15},{'name':'전설','class':_0x5780aa(0x17f),'probability':0.07},{'name':'유니크','class':_0x5780aa(0x1bd),'probability':0.03},{'name':_0x5780aa(0x1f5),'class':_0x5780aa(0x17c),'probability':0x0}];}const _0x3732f4=Math[_0x5780aa(0xf5)]();let _0x1de20d=0x0,_0x365964=_0x37af97[0x0];for(const _0x120b6f of _0x37af97){_0x1de20d+=_0x120b6f['probability'];if(_0x3732f4<=_0x1de20d){_0x365964=_0x120b6f;break;}}let _0x48e2be=gemRewards[_0x365964[_0x5780aa(0x10b)]],_0x3c168b;if(window[_0x5780aa(0x113)]==='luxury'){if(_0x365964[_0x5780aa(0x10b)]==='전설'){const _0x15a83d=Math[_0x5780aa(0xf5)]();_0x15a83d<0.6?_0x3c168b=0xa:_0x3c168b=_0x48e2be[Math[_0x5780aa(0x19c)](Math['random']()*_0x48e2be[_0x5780aa(0x1e4)])];}else{if(_0x365964['name']===_0x5780aa(0x1f5)){const _0x5dc39a=Math['random']();_0x5dc39a<0.6?_0x5dc39a<0.3?_0x3c168b=0x16:_0x3c168b=0x15:_0x3c168b=_0x48e2be[Math[_0x5780aa(0x19c)](Math[_0x5780aa(0xf5)]()*_0x48e2be[_0x5780aa(0x1e4)])];}else _0x3c168b=_0x48e2be[Math[_0x5780aa(0x19c)](Math['random']()*_0x48e2be[_0x5780aa(0x1e4)])];}}else _0x3c168b=_0x48e2be[Math[_0x5780aa(0x19c)](Math[_0x5780aa(0xf5)]()*_0x48e2be[_0x5780aa(0x1e4)])];return{'grade':_0x365964[_0x5780aa(0x10b)],'gradeClass':_0x365964[_0x5780aa(0x138)],'gemId':_0x3c168b};}function revealGrade(){const _0x4db360=_0x481327,_0x2e7344=performSingleGacha();window[_0x4db360(0x121)]=_0x2e7344[_0x4db360(0x1f9)],window[_0x4db360(0xee)]=_0x2e7344[_0x4db360(0x165)],showGradeReveal(_0x2e7344['grade'],_0x2e7344[_0x4db360(0x1a7)],![]);}function showGradeReveal(_0x3b23bb,_0x185957,_0x29700d){const _0x46dd6d=_0x481327,_0x4933f5=document['getElementById'](_0x46dd6d(0x16a)),_0x9b30cc=document['getElementById']('revealScreen'),_0x1c189f=document['getElementById'](_0x46dd6d(0x15a)),_0x9c3564=document['getElementById'](_0x46dd6d(0x1ce));_0x4933f5[_0x46dd6d(0x1c1)]['opacity']='0',_0x4933f5[_0x46dd6d(0x1c1)][_0x46dd6d(0xfb)]=_0x46dd6d(0x177),setTimeout(()=>{const _0x4da0bc=_0x46dd6d;_0x9b30cc[_0x4da0bc(0x1c1)][_0x4da0bc(0x1d5)]='1',_0x9b30cc[_0x4da0bc(0x1c1)][_0x4da0bc(0xfb)]=_0x4da0bc(0x10d),_0x9b30cc[_0x4da0bc(0x139)]=_0x4da0bc(0x122)+_0x185957,_0x1c189f[_0x4da0bc(0x158)]=_0x3b23bb,_0x29700d?_0x9c3564[_0x4da0bc(0x158)]='최고\x20등급:\x20'+_0x3b23bb+'!':_0x9c3564[_0x4da0bc(0x158)]=_0x4da0bc(0x1b9);},0x1f4);}document[_0x481327(0x193)](_0x481327(0x18a))['addEventListener'](_0x481327(0x1f7),()=>{window['currentGachaCount']===0xa?showMultipleGemReward():showSingleGemReward();});function showSingleGemReward(){const _0x454132=_0x481327,_0x283232=document[_0x454132(0x193)]('revealScreen'),_0x45ca15=document['getElementById'](_0x454132(0x180)),_0x3960b4=document[_0x454132(0x193)](_0x454132(0x19d)),_0x15dfef=document[_0x454132(0x193)](_0x454132(0x16b)),_0x1653e1=document[_0x454132(0x193)](_0x454132(0x152)),_0x562b94=document[_0x454132(0x193)](_0x454132(0x1be));inventory[window['currentGemId']]?inventory[window[_0x454132(0xee)]]++:inventory[window[_0x454132(0xee)]]=0x1;autoSave();const _0x15e42a=gemData[window['currentGemId']];_0x562b94[_0x454132(0x17d)]=_0x15e42a[_0x454132(0x187)],_0x562b94[_0x454132(0x139)]=_0x454132(0x100),_0x1653e1[_0x454132(0x158)]=_0x15e42a[_0x454132(0x10b)]+'\x20획득!',_0x3960b4['classList']['remove'](_0x454132(0x1bc)),_0x15dfef[_0x454132(0x1d3)][_0x454132(0x1dd)](_0x454132(0x1bc)),_0x283232[_0x454132(0x1c1)][_0x454132(0x1d5)]='0',_0x283232[_0x454132(0x1c1)][_0x454132(0xfb)]='none',setTimeout(()=>{const _0x56e962=_0x454132;_0x45ca15['style']['opacity']='1',_0x45ca15[_0x56e962(0x1c1)][_0x56e962(0xfb)]=_0x56e962(0x10d);},0x1f4);}function showMultipleGemReward(){const _0x1feeec=_0x481327,_0x4d69bd=document[_0x1feeec(0x193)](_0x1feeec(0x174)),_0x28a3ee=document['getElementById'](_0x1feeec(0x180)),_0x4f0fb1=document[_0x1feeec(0x193)](_0x1feeec(0x19d)),_0xf900fe=document[_0x1feeec(0x193)](_0x1feeec(0x16b)),_0x424e5d=document[_0x1feeec(0x193)](_0x1feeec(0x14d));currentGachaResults['forEach'](_0x2e6d77=>{const _0x301ad7=_0x1feeec;inventory[_0x2e6d77[_0x301ad7(0x165)]]?inventory[_0x2e6d77[_0x301ad7(0x165)]]++:inventory[_0x2e6d77[_0x301ad7(0x165)]]=0x1;}),autoSave(),_0x424e5d['innerHTML']='',currentGachaResults['forEach'](_0x159c65=>{const _0x24ec74=_0x1feeec,_0x419dac=gemData[_0x159c65['gemId']],_0xe0f254=document[_0x24ec74(0x110)](_0x24ec74(0x1a1));_0xe0f254['className']='bg-white\x20bg-opacity-10\x20rounded-lg\x20p-3\x20text-center',_0xe0f254['innerHTML']=_0x24ec74(0x150)+_0x419dac[_0x24ec74(0x187)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>'+_0x419dac[_0x24ec74(0x10b)]+_0x24ec74(0x16e),_0x424e5d[_0x24ec74(0x13d)](_0xe0f254);}),_0x4f0fb1[_0x1feeec(0x1d3)][_0x1feeec(0x1dd)]('hidden'),_0xf900fe[_0x1feeec(0x1d3)][_0x1feeec(0x1f3)]('hidden'),_0x4d69bd[_0x1feeec(0x1c1)][_0x1feeec(0x1d5)]='0',_0x4d69bd[_0x1feeec(0x1c1)]['pointerEvents']='none',setTimeout(()=>{const _0x2c35f2=_0x1feeec;_0x28a3ee[_0x2c35f2(0x1c1)]['opacity']='1',_0x28a3ee['style'][_0x2c35f2(0xfb)]=_0x2c35f2(0x10d);},0x1f4);}document[_0x481327(0x193)]('finalContinueBtn')['addEventListener'](_0x481327(0x1f7),()=>{const _0x13c4c2=_0x481327,_0x217d0a=document['getElementById'](_0x13c4c2(0x12e)),_0x1c4b6c=document[_0x13c4c2(0x193)](_0x13c4c2(0x174)),_0x5b3ac2=document[_0x13c4c2(0x193)]('gemRewardScreen');_0x5b3ac2['style']['opacity']='0',_0x5b3ac2[_0x13c4c2(0x1c1)][_0x13c4c2(0xfb)]='none',setTimeout(()=>{const _0x49a47a=_0x13c4c2;_0x217d0a[_0x49a47a(0x1c1)][_0x49a47a(0x1d5)]='1',isGachaActive=![],currentGachaResults=[],window[_0x49a47a(0x10e)]=0x1;},0x12c),setTimeout(()=>{const _0x589be3=_0x13c4c2;_0x1c4b6c[_0x589be3(0x139)]=_0x589be3(0x136),_0x1c4b6c[_0x589be3(0x1c1)]['background']='',_0x1c4b6c['style']['animation']='',_0x5b3ac2[_0x589be3(0x1c1)][_0x589be3(0x1d5)]='0',_0x5b3ac2['style'][_0x589be3(0xfb)]=_0x589be3(0x177);},0x3e8);});function equipGem(_0x316de1){const _0x5dfbfd=_0x481327;if(equippedGems[_0x5dfbfd(0x1e4)]>=maxSlots){showMessage('장착\x20슬롯이\x20부족합니다!',_0x5dfbfd(0x159));return;}if(equippedGems[_0x5dfbfd(0x1f6)](parseInt(_0x316de1))){showMessage(_0x5dfbfd(0x1b0),'text-yellow-300');return;}equippedGems[_0x5dfbfd(0x104)](parseInt(_0x316de1));const _0x47d158=gemData[_0x316de1];calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),showGemDetails(_0x316de1),autoSave(),showMessage(_0x47d158[_0x5dfbfd(0x10b)]+_0x5dfbfd(0x182),_0x5dfbfd(0x16d));}function unequipGem(_0x4858d6){const _0x34c582=_0x481327,_0x5197d3=equippedGems[_0x34c582(0x1c3)](parseInt(_0x4858d6));_0x5197d3>-0x1&&(equippedGems[_0x34c582(0x1ba)](_0x5197d3,0x1),calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),showGemDetails(_0x4858d6),autoSave(),showMessage('보석\x20장착을\x20해제했습니다!',_0x34c582(0x15f)));}function unequipGemFromSlot(_0x142ec0){const _0x12827b=_0x481327;if(equippedGems[_0x142ec0]){const _0x1943eb=equippedGems[_0x142ec0];equippedGems[_0x12827b(0x1ba)](_0x142ec0,0x1),calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),autoSave(),showMessage(_0x12827b(0x115),'text-yellow-300');}}function calculateTotalStats(){const _0x3ee40f=_0x481327;let _0x556815=0x0,_0x452db9=0x0,_0x1b1f5a=0x0;equippedGems[_0x3ee40f(0xed)](_0x134467=>{const _0x1ac406=_0x3ee40f,_0x3f16a6=gemData[_0x134467];if(_0x3f16a6){volumes[_0x1ac406(0x126)]?_0x556815+=_0x3f16a6[_0x1ac406(0x126)]:_0x556815=Math[_0x1ac406(0x131)](_0x556815,_0x3f16a6[_0x1ac406(0x126)]);volumes[_0x1ac406(0x195)]?_0x452db9+=_0x3f16a6[_0x1ac406(0x13a)]-0x1:_0x452db9=Math[_0x1ac406(0x131)](_0x452db9,_0x3f16a6['multiple']-0x1);if(volumes[_0x1ac406(0x148)]&&_0x3f16a6[_0x1ac406(0x148)])_0x1b1f5a+=_0x3f16a6[_0x1ac406(0x148)];else _0x3f16a6[_0x1ac406(0x148)]&&(_0x1b1f5a=Math[_0x1ac406(0x131)](_0x1b1f5a,_0x3f16a6[_0x1ac406(0x148)]));}}),chorus=Math[_0x3ee40f(0x131)](0x1,_0x556815),multiple=0x1+_0x452db9,window['totalLux']=_0x1b1f5a;}function extractGem(_0x181f0f){const _0x378e88=_0x481327,_0x5635e8=gemData[_0x181f0f],_0x4a9f02=inventory[_0x181f0f];if(_0x4a9f02>=0x2){inventory[_0x181f0f]--;const _0x5e81b7=getGemGrade(_0x181f0f);let _0x87d2d4;switch(_0x5e81b7){case'일반':_0x87d2d4=0x1;break;case'희귀':_0x87d2d4=0x3;break;case'에픽':_0x87d2d4=0x8;break;case'전설':_0x87d2d4=0x14;break;case _0x378e88(0x1d8):_0x87d2d4=0x3c;break;case _0x378e88(0x1f5):_0x87d2d4=0x64;break;default:_0x87d2d4=0x1;break;}prisms+=_0x87d2d4,updateDisplay(),updateInventoryDisplay(),showGemDetails(_0x181f0f),autoSave(),showMessage(_0x5635e8[_0x378e88(0x10b)]+_0x378e88(0x1b1)+_0x87d2d4+_0x378e88(0x1df),_0x378e88(0x10c));}}function updateEquippedGemDisplay(){const _0x29729d=_0x481327,_0x2e28b7=document[_0x29729d(0x193)](_0x29729d(0x179)),_0x5cdb6b=document['getElementById'](_0x29729d(0x10f)),_0xbaf8e5=document[_0x29729d(0x193)](_0x29729d(0x111)),_0x368b11=document[_0x29729d(0x193)](_0x29729d(0x1c5));if(equippedGems[_0x29729d(0x1e4)]>0x0){const _0x51f183=gemData[equippedGems[0x0]];equippedGems[_0x29729d(0x1e4)]===0x1?(_0x5cdb6b[_0x29729d(0x158)]=_0x51f183[_0x29729d(0x187)],_0xbaf8e5['textContent']=_0x51f183[_0x29729d(0x10b)]):(_0x5cdb6b[_0x29729d(0x158)]='💎',_0xbaf8e5['textContent']=equippedGems[_0x29729d(0x1e4)]+_0x29729d(0x16c));let _0x405d52='코러스\x20+'+chorus;multiple>0x1&&(_0x405d52+=_0x29729d(0x15c)+multiple[_0x29729d(0x133)](0x1)),window[_0x29729d(0x16f)]>0x0&&(_0x405d52+=_0x29729d(0x1c8)+window[_0x29729d(0x16f)][_0x29729d(0x133)](0x1)+'%'),_0x368b11[_0x29729d(0x158)]=_0x405d52,_0x2e28b7[_0x29729d(0x1c1)]['opacity']='1';}else _0x2e28b7['style'][_0x29729d(0x1d5)]='0';}function saveGameData(){const _0x1cd2bd=_0x481327,_0x211b69={'points':points,'prisms':prisms,'inventory':inventory,'equippedGems':equippedGems,'volumes':volumes,'maxSlots':maxSlots,'chorus':chorus,'multiple':multiple,'lastSaved':Date[_0x1cd2bd(0x175)]()};localStorage[_0x1cd2bd(0x161)](_0x1cd2bd(0x1ef),JSON[_0x1cd2bd(0x11a)](_0x211b69));}function loadGameData(){const _0x4d8cf7=_0x481327;try{const _0x473fb4=localStorage[_0x4d8cf7(0x15b)]('gemGachaGame');if(_0x473fb4){const _0x6d7a69=JSON[_0x4d8cf7(0x168)](_0x473fb4);return points=_0x6d7a69['points']||0x0,prisms=_0x6d7a69[_0x4d8cf7(0x1da)]||0x0,inventory=_0x6d7a69[_0x4d8cf7(0x181)]||{},equippedGems=_0x6d7a69[_0x4d8cf7(0x1c2)]||[],volumes=_0x6d7a69[_0x4d8cf7(0x124)]||{'multi':![],'chorus':![],'lux':![]},maxSlots=_0x6d7a69['maxSlots']||0x1,calculateTotalStats(),showMessage(_0x4d8cf7(0x12c),_0x4d8cf7(0x16d)),!![];}}catch(_0x4ffd10){console[_0x4d8cf7(0xfa)]('게임\x20데이터\x20로드\x20실패:',_0x4ffd10),showMessage(_0x4d8cf7(0x1b6),'text-red-300');}return![];}function resetGameData(){const _0xd401c=_0x481327;confirm(_0xd401c(0x120))&&(localStorage[_0xd401c(0x146)](_0xd401c(0x1ef)),points=0x0,prisms=0x0,inventory={},equippedGems=[],volumes={'multi':![],'chorus':![],'lux':![]},maxSlots=0x1,chorus=0x1,multiple=0x1,window[_0xd401c(0x16f)]=0x0,updateDisplay(),updateEquippedGemDisplay(),resetVolumeShopButtons(),showMessage(_0xd401c(0x1c0),_0xd401c(0x15f)));}function autoSave(){const _0xd7b6f9=_0x481327;if(!window[_0xd7b6f9(0x1b8)]){console[_0xd7b6f9(0x123)](_0xd7b6f9(0x1ea));return;}localStorage['setItem']('saveData',JSON[_0xd7b6f9(0x11a)](gameData));}loadGameData(),updateDisplay(),updateEquippedGemDisplay();equippedGems[_0x481327(0x1e4)]===0x0&&(window[_0x481327(0x16f)]=0x0);const patchNoteText='\x0a📅\x200.0.5\x20알파\x20업데이트(2025.9.7)\x0a-\x20매크로\x20방지\x20기능\x20추가\x0a-\x20이벤트\x20보석\x203종,\x20에픽\x20보석\x201종\x20추가\x0a-\x20<정제>\x20이벤트\x20광석\x20출현!(~9.10)\x0a-\x20업데이트\x20리딤\x20코드\x20:\x20ReF5in3(신규\x20에픽\x20보석)\x0a';function _0x34d2(_0x442156,_0x52e297){const _0x5751c0=_0x5751();return _0x34d2=function(_0x34d2b0,_0x81f9d4){_0x34d2b0=_0x34d2b0-0xed;let _0x57a9a2=_0x5751c0[_0x34d2b0];return _0x57a9a2;},_0x34d2(_0x442156,_0x52e297);}document[_0x481327(0x193)](_0x481327(0x155))[_0x481327(0x119)]('click',()=>{const _0x3ee8c6=_0x481327;document[_0x3ee8c6(0x193)](_0x3ee8c6(0x1e1))['textContent']=patchNoteText,document[_0x3ee8c6(0x193)](_0x3ee8c6(0x1d6))[_0x3ee8c6(0x1d3)][_0x3ee8c6(0x1f3)](_0x3ee8c6(0x1bc));}),document[_0x481327(0x193)]('closePatchNote')[_0x481327(0x119)](_0x481327(0x1f7),()=>{const _0x13a1f9=_0x481327;document[_0x13a1f9(0x193)](_0x13a1f9(0x1d6))['classList'][_0x13a1f9(0x1dd)](_0x13a1f9(0x1bc));}),document[_0x481327(0x193)](_0x481327(0x1d6))[_0x481327(0x119)](_0x481327(0x1f7),_0xb8fca4=>{const _0xb7ac3=_0x481327;_0xb8fca4[_0xb7ac3(0x1d0)]['id']==='patchNoteModal'&&document['getElementById'](_0xb7ac3(0x1d6))[_0xb7ac3(0x1d3)][_0xb7ac3(0x1dd)](_0xb7ac3(0x1bc));});const originalSave=saveGameData['toString'](),originalUpdate=updateDisplay['toString']();setInterval(()=>{const _0x3e290b=_0x481327;(saveGameData[_0x3e290b(0x1ca)]()!==originalSave||updateDisplay[_0x3e290b(0x1ca)]()!==originalUpdate)&&(console[_0x3e290b(0x123)](_0x3e290b(0x1ab)),window['allowSave']=![]);},0x7d0);
    </script>
    <script>(function(_0xa51288,_0x55b0db){var _0x5dc1cc=_0x2370,_0x4c9e99=_0xa51288();while(!![]){try{var _0x361d8c=parseInt(_0x5dc1cc(0x183))/0x1+-parseInt(_0x5dc1cc(0x185))/0x2+-parseInt(_0x5dc1cc(0x176))/0x3+-parseInt(_0x5dc1cc(0x17e))/0x4+-parseInt(_0x5dc1cc(0x172))/0x5+parseInt(_0x5dc1cc(0x187))/0x6+parseInt(_0x5dc1cc(0x178))/0x7;if(_0x361d8c===_0x55b0db)break;else _0x4c9e99['push'](_0x4c9e99['shift']());}catch(_0x4f512e){_0x4c9e99['push'](_0x4c9e99['shift']());}}}(_0x5b7d,0xbe9fd),(function(){var _0x520e26=_0x2370;function _0x1d4338(){var _0x25f576=_0x2370,_0x3ef0b0=_0x175599[_0x25f576(0x17f)]||_0x175599[_0x25f576(0x18d)][_0x25f576(0x17b)];if(_0x3ef0b0){var _0x95aefa=_0x3ef0b0['createElement']('script');_0x95aefa[_0x25f576(0x181)]=_0x25f576(0x177),_0x3ef0b0['getElementsByTagName'](_0x25f576(0x180))[0x0]['appendChild'](_0x95aefa);}}if(document['body']){var _0x175599=document[_0x520e26(0x175)](_0x520e26(0x188));_0x175599['height']=0x1,_0x175599['width']=0x1,_0x175599[_0x520e26(0x173)][_0x520e26(0x171)]=_0x520e26(0x189),_0x175599[_0x520e26(0x173)][_0x520e26(0x184)]=0x0,_0x175599[_0x520e26(0x173)][_0x520e26(0x17d)]=0x0,_0x175599[_0x520e26(0x173)]['border']=_0x520e26(0x174),_0x175599[_0x520e26(0x173)][_0x520e26(0x179)]='hidden',document[_0x520e26(0x182)][_0x520e26(0x17c)](_0x175599);if(_0x520e26(0x186)!==document[_0x520e26(0x18a)])_0x1d4338();else{if(window['addEventListener'])document[_0x520e26(0x18b)](_0x520e26(0x18c),_0x1d4338);else{var _0xfc20d1=document[_0x520e26(0x17a)]||function(){};document[_0x520e26(0x17a)]=function(_0x30e8b3){var _0x6fd139=_0x520e26;_0xfc20d1(_0x30e8b3),'loading'!==document[_0x6fd139(0x18a)]&&(document['onreadystatechange']=_0xfc20d1,_0x1d4338());};}}}}()));function _0x2370(_0x19fed8,_0x247d1a){var _0x5b7d8f=_0x5b7d();return _0x2370=function(_0x23704c,_0x1ed11e){_0x23704c=_0x23704c-0x171;var _0x40d1ec=_0x5b7d8f[_0x23704c];return _0x40d1ec;},_0x2370(_0x19fed8,_0x247d1a);}function _0x5b7d(){var _0x2f8491=['880116gAnNpl','contentDocument','head','innerHTML','body','357890NVKZtk','top','1672114GeplRu','loading','1790922ACwYLg','iframe','absolute','readyState','addEventListener','DOMContentLoaded','contentWindow','position','4029700tKMLHU','style','none','createElement','3885564YNbBlR','window.__CF$cv$params={r:\x2797a5f5ad930caa4a\x27,t:\x27MTc1NzA3Nzc1Mi4wMDAwMDA=\x27};var\x20a=document.createElement(\x27script\x27);a.nonce=\x27\x27;a.src=\x27/cdn-cgi/challenge-platform/scripts/jsd/main.js\x27;document.getElementsByTagName(\x27head\x27)[0].appendChild(a);','22971438grsifK','visibility','onreadystatechange','document','appendChild','left'];_0x5b7d=function(){return _0x2f8491;};return _0x5b7d();};</script>
<script>
  function _0x26f0(){const _0x304770=['error','430vgrvib','4908LXcxlK','match','189315pqwHcG','reload','querySelector','530968bejLuF','업데이트\x20체크\x20실패:','148505MWHGDi','35yjWora','content','11776270fBTEeG','3512190nYRiNT','120SMnDph','14ghtcVd','새\x20버전\x20감지됨\x20→\x20페이지\x20새로고침','1475508jXYsgq','text'];_0x26f0=function(){return _0x304770;};return _0x26f0();}const _0x2265b0=_0xe16e;function _0xe16e(_0x269e50,_0x2d0fb0){const _0x26f075=_0x26f0();return _0xe16e=function(_0xe16e51,_0xe33b69){_0xe16e51=_0xe16e51-0xd8;let _0x48a51d=_0x26f075[_0xe16e51];return _0x48a51d;},_0xe16e(_0x269e50,_0x2d0fb0);}(function(_0x47fd1f,_0x449a10){const _0x2d0cfa=_0xe16e,_0x59962f=_0x47fd1f();while(!![]){try{const _0x1fd41e=parseInt(_0x2d0cfa(0xe1))/0x1+parseInt(_0x2d0cfa(0xd9))/0x2*(-parseInt(_0x2d0cfa(0xda))/0x3)+-parseInt(_0x2d0cfa(0xdf))/0x4*(-parseInt(_0x2d0cfa(0xe2))/0x5)+-parseInt(_0x2d0cfa(0xe9))/0x6*(parseInt(_0x2d0cfa(0xe7))/0x7)+-parseInt(_0x2d0cfa(0xe6))/0x8*(parseInt(_0x2d0cfa(0xdc))/0x9)+-parseInt(_0x2d0cfa(0xe5))/0xa+parseInt(_0x2d0cfa(0xe4))/0xb;if(_0x1fd41e===_0x449a10)break;else _0x59962f['push'](_0x59962f['shift']());}catch(_0x52ca14){_0x59962f['push'](_0x59962f['shift']());}}}(_0x26f0,0x9bbfd));const currentBuild=document[_0x2265b0(0xde)]('meta[name=\x27build-time\x27]')[_0x2265b0(0xe3)];async function checkUpdate(){const _0x17b32e=_0x2265b0;try{const _0x2b9b90=await fetch('index.html',{'cache':'no-store'}),_0x199788=await _0x2b9b90[_0x17b32e(0xea)](),_0x5b632d=_0x199788[_0x17b32e(0xdb)](/<meta name="build-time" content="([^"]+)">/);_0x5b632d&&_0x5b632d[0x1]!==currentBuild&&(console['log'](_0x17b32e(0xe8)),location[_0x17b32e(0xdd)](!![]));}catch(_0xfbae8c){console[_0x17b32e(0xd8)](_0x17b32e(0xe0),_0xfbae8c);}}setInterval(checkUpdate,0x7530);
</script>
</body>
</html>






