<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="build-time" content="2025-09-08T00:15:00">
    <title>펜던티스트</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        .glow-button {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .glow-button:hover, .glow-button:active {
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.8);
            transform: translateY(-2px);
        }
        .currency-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        .gacha-button {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .gacha-button:hover, .gacha-button:active {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(245, 87, 108, 0.4);
        }
        .point-button {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        /* 등급별 배경색 */
        .grade-common {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #495057;
        }
        .grade-rare {
            background: linear-gradient(135deg, #51cf66 0%, #40c057 100%);
            color: white;
        }
        .grade-epic {
            background: linear-gradient(135deg, #9775fa 0%, #845ef7 100%);
            color: white;
        }
        .grade-legendary {
            background: linear-gradient(135deg, #ffd43b 0%, #fab005 100%);
            color: #495057;
        }
        .grade-unique {
            background: linear-gradient(45deg, #ff6b6b 0%, #feca57 16.66%, #48dbfb 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-special {
            background: linear-gradient(45deg, #ff6b6b 0%, #fab005 16.66%, #fa5005 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-event {
            background: linear-gradient(45deg, #ff6b6b 0%, #fa6347 16.66%, #f6b65a 33.33%, #599468 50%, #0099ff 83.33%, #bf9424 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 모바일 최적화 */
        @media (max-width: 640px) {
            .currency-card {
                padding: 1rem;
                min-width: 120px;
            }
            .currency-card .text-3xl {
                font-size: 1.5rem;
            }
            .point-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            .gacha-button {
                padding: 1.25rem 2.5rem;
                font-size: 1.125rem;
            }
        }
        
        @media (max-width: 480px) {
            .currency-card {
                padding: 0.75rem;
                min-width: 100px;
            }
            .currency-card .text-3xl {
                font-size: 1.25rem;
            }
            .point-button {
                padding: 0.875rem 1.5rem;
                font-size: 0.875rem;
            }
            .gacha-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex flex-col items-center justify-center p-4">
    
    <!-- 메인 UI 영역 -->
    <div id="mainUI" class="transition-opacity duration-500">
        <!-- 재화 표시 영역 -->
        <div class="flex gap-4 sm:gap-6 mb-8 sm:mb-12">
            <!-- 포인트 -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">포인트</div>
                <div id="points" class="text-3xl font-bold">0</div>
            </div>
            
            <!-- 프리즘 -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">프리즘</div>
                <div id="prisms" class="text-3xl font-bold">0</div>
            </div>
        </div>

        <!-- 게임 버튼 영역 -->
        <div class="flex flex-col items-center gap-4 sm:gap-6">
            <!-- 상단 버튼들 -->
            <div class="flex gap-4 items-center">
                <!-- 포인트 획득 버튼 -->
                <button id="earnPointsBtn" class="point-button glow-button px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation">
                    ✨ 포인트 획득 ✨
                </button>
                
                <!-- 인벤토리 버튼 -->
                <button id="inventoryBtn" class="bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    🎒 인벤토리
                </button>
                
                <!-- 설정 버튼 -->
                <button id="settingsBtn" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    ⚙️ 설정
                </button>
            </div>
            
            <!-- 상점 버튼 -->
            <button id="shopBtn" class="gacha-button px-16 py-5 rounded-full text-white font-bold text-2xl shadow-2xl touch-manipulation">
                🏪 상점 🏪
            </button>
            <!-- 코드 입력 영역 -->
                <div class="mt-4 flex flex-col items-center gap-2">
                    <label for="codeInput" class="text-white text-sm">🎁 코드 입력</label>
                    <div class="flex gap-2">
                        <input id="codeInput" type="text" 
                           placeholder="코드를 입력하세요"
                           class="px-3 py-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-400" />
                        <button id="redeemCodeBtn"
                                class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 px-4 py-2 rounded-lg text-white font-bold transition-all duration-300">
                            확인
                        </button>
                    </div>
                    <p id="codeMessage" class="text-xs text-gray-300 mt-1"></p>
                </div>
            <!-- 패치노트 버튼 -->
<div class="absolute bottom-4 right-4">
  <button id="patchNoteBtn"
          class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-lg text-sm">
    패치노트
  </button>
</div>
            <!-- 장착된 보석 표시 -->
            <div id="equippedGemDisplay" class="mt-4 bg-white bg-opacity-10 rounded-xl p-4 text-center text-white opacity-0 transition-all duration-300">
                <div class="text-sm opacity-80 mb-2">장착된 보석</div>
                <div id="equippedGemIcon" class="text-3xl mb-2">💎</div>
                <div id="equippedGemName" class="font-bold mb-1">보석 이름</div>
                <div id="equippedGemStats" class="text-sm opacity-80">코러스 +1</div>
            </div>
        </div>

        <!-- 결과 메시지 -->
        <div id="message" class="mt-6 sm:mt-8 text-center text-white font-medium text-base sm:text-lg opacity-0 transition-opacity duration-300 px-4"></div>
    </div>

    <!-- 뽑기 모션 화면 -->
    <div id="gachaScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="text-center">
            <!-- 원석 이미지 (나중에 실제 이미지로 교체 가능) -->
            <div id="gemstone" class="w-32 h-32 sm:w-40 sm:h-40 bg-gray-300 rounded-lg mx-auto mb-6 cursor-pointer transform transition-all duration-300 hover:scale-110 shadow-2xl flex items-center justify-center text-4xl">
                💎
            </div>
            <p id="gachaText" class="text-white text-lg sm:text-xl font-medium">원석을 클릭하세요!</p>
        </div>
    </div>

    <!-- 등급 공개 화면 -->
    <div id="revealScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000">
        <div class="text-center">
            <div id="gradeText" class="text-6xl sm:text-8xl font-bold mb-4 drop-shadow-2xl"></div>
            <p id="revealMessage" class="text-white text-xl sm:text-2xl font-medium mb-8">등급이 공개되었습니다!</p>
            <button id="continueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                계속하기
            </button>
        </div>
    </div>

    <!-- 보석 획득 화면 -->
    <div id="gemRewardScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
        <div class="text-center max-w-4xl w-full px-4">
            <!-- 단일 보석 표시 (1회 뽑기용) -->
            <div id="singleReward" class="hidden">
                <div id="rewardGemImage" class="w-24 h-24 sm:w-32 sm:h-32 bg-yellow-400 rounded-full mx-auto mb-6 shadow-2xl flex items-center justify-center text-3xl sm:text-4xl">
                    💎
                </div>
                <div id="rewardText" class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">1보석 획득!</div>
            </div>
            
            <!-- 다중 보석 표시 (10회 뽑기용) -->
            <div id="multipleReward" class="hidden">
                <div class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">10개 보석 획득!</div>
                <div id="multipleGemGrid" class="grid grid-cols-5 gap-4 mb-8 max-w-2xl mx-auto">
                    <!-- 10개 보석이 여기에 표시됩니다 -->
                </div>
            </div>
            
            <button id="finalContinueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                확인
            </button>
        </div>
    </div>

    <!-- 상점 메인 화면 -->
    <div id="shopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- 상점 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">🏪 상점</h2>
                <button id="closeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 상점 메뉴 -->
            <div class="space-y-4">
                <button onclick="openGachaShop()" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    ⛏️ 원석 채굴장
                </button>
                <button onclick="openVolumeShop()" class="w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    📦 볼륨 상점
                </button>
            </div>
        </div>
    </div>

    <!-- 원석 채굴장 화면 -->
    <div id="gachaShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl max-h-[90vh] p-6 flex flex-col">
            <!-- 채굴장 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">⛏️ 원석 채굴장</h2>
                <button id="closeGachaShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 뽑기 목록 (스크롤 가능) -->
            <div class="space-y-4 overflow-y-auto flex-1 pr-2" style="scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.3) transparent;">
                <style>
                    /* 웹킷 브라우저용 스크롤바 스타일 */
                    .space-y-4::-webkit-scrollbar {
                        width: 6px;
                    }
                    .space-y-4::-webkit-scrollbar-track {
                        background: rgba(255,255,255,0.1);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb {
                        background: rgba(255,255,255,0.3);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb:hover {
                        background: rgba(255,255,255,0.5);
                    }
                </style>
                <!-- 초심자의 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🪨 초심자의 원석</h3>
                        <p class="text-gray-300 text-sm">기본적인 보석이 나오는 원석입니다</p>
                        <p class="text-blue-300 font-medium">💰 10 포인트 | 💰 100 포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('beginner')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('beginner', 10)" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 빛나는 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">✨ 빛나는 원석</h3>
                        <p class="text-gray-300 text-sm">균형잡힌 확률의 원석입니다</p>
                        <p class="text-purple-300 font-medium">💎 5 프리즘 | 💎 50 프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('normal')" class="bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('normal', 10)" class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 영롱한 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🌟 영롱한 원석</h3>
                        <p class="text-gray-300 text-sm">고급 보석이 더 잘 나오는 원석입니다</p>
                        <p class="text-purple-300 font-medium">💎 30 프리즘 | 💎 300 프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('premium')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('premium', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
                <!-- 시즌 픽업 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">💎 0.5 시즌 픽업 원석</h3>
                        <p class="text-gray-300 text-sm">스카이 시즌 메인 보석인 에픽:오팔, 스페셜:???,???이 높은 확률로 나오는 원석입니다.</p>
                        <p class="text-purple-300 font-medium">💎 50프리즘 | 💎 500프리즘 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('luxury')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('luxury', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>

                <!-- 포인트 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">💰 포인트 원석</h3>
                        <p class="text-gray-300 text-sm">포인트를 사용하는 고급 원석입니다.</p>
                        <p class="text-purple-300 font-medium">💰 100,000 포인트 | 💰 1,000,000 포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('pointer')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('pointer', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>

                <!-- 이벤트 원석 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">🎁 이벤트 원석</h3>
                        <p class="text-gray-300 text-sm">이벤트 등급 정제된 원석을 뽑을 수 있는 원석입니다.</p>
                        <p class="text-purple-300 font-medium">차스티움x1 + 50,000 포인트 | 차스티움x10 + 500,000포인트 (10회)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('event')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1회 뽑기
                        </button>
                        <button onclick="startGacha('event', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10회 뽑기
                        </button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- 볼륨 상점 화면 -->
    <div id="volumeShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl p-6">
            <!-- 볼륨 상점 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">📦 볼륨 상점</h2>
                <button id="closeVolumeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 볼륨 목록 -->
            <div class="space-y-4">
                <!-- 멀티 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">🔢 멀티 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 배율을 합연산으로 더해줍니다</p>
                            <p class="text-blue-300 font-medium">💰 100,000 포인트</p>
                            <p id="multiVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyMultiVolumeBtn" onclick="buyVolume('multi')" class="bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
                
                <!-- 코러스 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">🎵 코러스 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 코러스를 더해줍니다</p>
                            <p class="text-blue-300 font-medium">💰 55,000 포인트</p>
                            <p id="chorusVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyChorusVolumeBtn" onclick="buyVolume('chorus')" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
                
                <!-- 럭스 볼륨 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">✨ 럭스 볼륨</h3>
                            <p class="text-gray-300 text-sm mb-2">장착한 보석의 휘광 확률을 더해줍니다</p>
                            <p class="text-purple-300 font-medium">💎 100 프리즘 + 전설 이상 보석 1개</p>
                            <p id="luxVolumeStatus" class="text-xs text-gray-400 mt-1">미보유</p>
                        </div>
                        <button id="buyLuxVolumeBtn" onclick="buyVolume('lux')" class="bg-gradient-to-r from-yellow-400 to-pink-500 hover:from-yellow-500 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            구매
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 설정 화면 -->
    <div id="settingsScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- 설정 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">⚙️ 설정</h2>
                <button id="closeSettingsBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 설정 옵션들 -->
            <div class="space-y-4">
                <!-- 수동 저장 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">💾 게임 저장</h3>
                    <p class="text-gray-300 text-sm mb-3">게임이 자동으로 저장되지만, 수동으로도 저장할 수 있습니다.</p>
                    <button onclick="saveGameData(); showMessage('게임이 저장되었습니다!', 'text-green-300')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        저장하기
                    </button>
                </div>
                
                <!-- 데이터 초기화 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">🗑️ 데이터 초기화</h3>
                    <p class="text-gray-300 text-sm mb-3">모든 게임 데이터를 삭제하고 처음부터 시작합니다.</p>
                    <button onclick="resetGameData()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        초기화
                    </button>
                </div>
                
                <!-- 저장 정보 -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">📊 저장 정보</h3>
                    <div id="saveInfo" class="text-gray-300 text-sm">
                        <p>• 데이터는 브라우저에 자동 저장됩니다</p>
                        <p>• 브라우저 데이터를 삭제하면 게임 데이터도 사라집니다</p>
                        <p>• 같은 브라우저에서만 데이터가 유지됩니다</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 인벤토리 화면 -->
    <div id="inventoryScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-4xl h-5/6 max-h-96 sm:max-h-screen sm:h-4/5 p-6 flex flex-col">
            <!-- 인벤토리 헤더 -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">🎒 인벤토리</h2>
                <button id="closeInventoryBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    ✕ 닫기
                </button>
            </div>
            
            <!-- 인벤토리 내용 -->
            <div class="flex flex-1 gap-6 overflow-hidden">
                <!-- 좌측: 보석 리스트 -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <h3 class="text-lg font-bold text-white mb-4">보석 목록</h3>
                    <div id="gemList" class="grid grid-cols-3 sm:grid-cols-4 gap-3">
                        <!-- 보석들이 여기에 동적으로 추가됩니다 -->
                    </div>
                </div>
                
                <!-- 우측: 보석 상세 정보 및 장착 슬롯 -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <!-- 장착 슬롯 -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-white mb-3">장착 슬롯</h3>
                        <div id="equipmentSlots" class="grid grid-cols-2 gap-2 mb-4">
                            <!-- 장착 슬롯들이 여기에 동적으로 추가됩니다 -->
                        </div>
                        <div class="text-xs text-gray-400">
                            <span id="slotInfo">슬롯 1/1 사용 중</span>
                        </div>
                    </div>
                    
                    <!-- 보석 상세 정보 -->
                    <div id="gemDetails" class="text-center text-white">
                        <div class="text-6xl mb-4">💎</div>
                        <h3 class="text-xl font-bold mb-2">보석을 선택하세요</h3>
                        <p class="text-gray-300">좌측에서 보석을 클릭하면 상세 정보가 표시됩니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 패치노트 모달 -->
<div id="patchNoteModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 max-h-[80vh] overflow-y-auto p-6 relative">
    <h2 class="text-lg font-bold mb-4">📜 패치노트</h2>
    <pre id="patchNoteContent" class="text-sm whitespace-pre-wrap text-gray-800"></pre>
    <button id="closePatchNote" 
            class="absolute top-2 right-2 text-gray-500 hover:text-black">✖</button>
  </div>
</div>
    <!-- 매크로 감지 모달 -->
<div id="macroModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 p-6 text-center relative">
    <p class="text-lg font-bold text-red-600 mb-4">🚨 경고</p>
    <p id="macroText" class="text-gray-800">
      메크로가 감지되었습니다.<br>
      30초간 아무 입력이 없으면 자동으로 닫힙니다.
    </p>
  </div>
</div>
    <script>const _0x3141c2=_0x4418;(function(_0x453d03,_0x4149e0){const _0x3a396a=_0x4418,_0x48213d=_0x453d03();while(!![]){try{const _0x3b6d06=-parseInt(_0x3a396a(0x132))/0x1*(-parseInt(_0x3a396a(0x148))/0x2)+parseInt(_0x3a396a(0x104))/0x3+-parseInt(_0x3a396a(0x147))/0x4*(parseInt(_0x3a396a(0x159))/0x5)+-parseInt(_0x3a396a(0x161))/0x6+parseInt(_0x3a396a(0x1ca))/0x7*(parseInt(_0x3a396a(0x1b9))/0x8)+-parseInt(_0x3a396a(0x164))/0x9+-parseInt(_0x3a396a(0x180))/0xa;if(_0x3b6d06===_0x4149e0)break;else _0x48213d['push'](_0x48213d['shift']());}catch(_0x26c2e8){_0x48213d['push'](_0x48213d['shift']());}}}(_0x3457,0x46f3a));let points=0x0,prisms=0x0,gems=0x0,chorus=0x0,multiple=0x1,isGachaActive=![],inventory={},equippedGems=[],currentGachaResults=[],volumes={'multi':![],'chorus':![],'lux':![]},maxSlots=0x1;const pointsDisplay=document[_0x3141c2(0x154)](_0x3141c2(0xf4)),prismsDisplay=document[_0x3141c2(0x154)](_0x3141c2(0x10a)),earnPointsBtn=document[_0x3141c2(0x154)]('earnPointsBtn'),shopBtn=document[_0x3141c2(0x154)](_0x3141c2(0x1b3)),inventoryBtn=document[_0x3141c2(0x154)](_0x3141c2(0x197)),messageDiv=document['getElementById'](_0x3141c2(0x108)),gemData={0x1:{'name':_0x3141c2(0x1a9),'emoji':'💎','chorus':0x1,'multiple':0x1,'description':_0x3141c2(0x18b)},0x2:{'name':_0x3141c2(0x1e9),'emoji':'🔷','chorus':0x2,'multiple':0x1,'description':_0x3141c2(0x12f)},0x3:{'name':_0x3141c2(0xfe),'emoji':'🔶','chorus':0x3,'multiple':0x1,'description':_0x3141c2(0x1db)},0x4:{'name':_0x3141c2(0x187),'emoji':'💚','chorus':0x4,'multiple':0x1,'description':'신비로운\x20녹색\x20보석입니다.'},0x5:{'name':_0x3141c2(0x1ea),'emoji':'💙','chorus':0x5,'multiple':0x1,'description':_0x3141c2(0x17d)},0x6:{'name':'루비','emoji':'❤️','chorus':0x6,'multiple':0x1,'description':'정열적인\x20빨간색\x20보석입니다.'},0x7:{'name':'자수정','emoji':'💜','chorus':0x7,'multiple':1.1,'description':_0x3141c2(0x11e)},0x8:{'name':_0x3141c2(0x1c7),'emoji':'💛','chorus':0x8,'multiple':1.2,'description':_0x3141c2(0x1a3)},0x9:{'name':_0x3141c2(0x13e),'emoji':'💍','chorus':0x9,'multiple':1.3,'description':_0x3141c2(0xef)},0xa:{'name':'오팔','emoji':'🌈','chorus':0xa,'multiple':1.4,'lux':0.5,'description':_0x3141c2(0x188)},0xb:{'name':'진주','emoji':'🤍','chorus':0xb,'multiple':1.5,'lux':0.8,'description':_0x3141c2(0x17f)},0xc:{'name':_0x3141c2(0x141),'emoji':'🧡','chorus':0xc,'multiple':1.6,'lux':0x1,'description':'따뜻한\x20주황빛의\x20보석입니다.'},0xd:{'name':'별의\x20조각','emoji':'⭐','chorus':0xf,'multiple':0x2,'lux':2.5,'description':_0x3141c2(0x170)},0xe:{'name':_0x3141c2(0xfd),'emoji':'🌙','chorus':0x14,'multiple':2.5,'lux':0x4,'description':_0x3141c2(0x173)},0xf:{'name':'태양의\x20심장','emoji':'☀️','chorus':0x19,'multiple':0x3,'lux':0x5,'description':_0x3141c2(0x1e4)},0x10:{'name':_0x3141c2(0x1e8),'emoji':'☯','chorus':0x22,'multiple':3.4,'lux':0x6,'description':_0x3141c2(0x19f)},0x11:{'name':_0x3141c2(0x1c8),'emoji':'🔮','chorus':0x24,'multiple':0x4,'lux':0xa,'description':_0x3141c2(0x19e)},0x12:{'name':_0x3141c2(0x137),'emoji':'🧿','chorus':0x1e,'multiple':4.1,'lux':8.3,'description':'푸른빛의\x20눈처럼\x20생긴\x20보석입니다.'},0x13:{'name':_0x3141c2(0xee),'emoji':'🃏','chorus':0x11,'multiple':7.7,'lux':7.7,'description':_0x3141c2(0x18f)},0x14:{'name':'다이스톤','emoji':'🎲','chorus':0x6,'multiple':1.6,'description':_0x3141c2(0x12b)},0x15:{'name':_0x3141c2(0x1e7),'emoji':'📛','chorus':0x2c,'multiple':4.4,'lux':4.4,'description':_0x3141c2(0x1c2)},0x16:{'name':_0x3141c2(0x14d),'emoji':'🪽','chorus':0x4d,'multiple':7.7,'lux':7.7,'description':_0x3141c2(0xfc)},0x17:{'name':'차스티움','emoji':'🖱','chorus':0xa,'multiple':1.3,'description':_0x3141c2(0xf0)},0x18:{'name':'정제된\x20작은\x20수정','emoji':'💠','chorus':0x34,'multiple':6.3,'lux':5.3,'description':_0x3141c2(0x178)},0x19:{'name':_0x3141c2(0x158),'emoji':'🎨','chorus':0x45,'multiple':6.7,'lux':0x7,'description':_0x3141c2(0x1d8)},0x1a:{'name':_0x3141c2(0x117),'emoji':'⭐','chorus':0x43,'multiple':7.1,'lux':6.8,'description':'순결한\x20힘으로\x20정제된\x20황금석입니다.\x20불순물\x20없는\x20진짜\x20순@금이죠.'},0x1b:{'name':'GM','emoji':'⭐','chorus':0x1869f,'multiple':1.1,'lux':0x64,'description':_0x3141c2(0x121)}};function getGemGrade(_0x560d48){const _0x43a590=_0x3141c2;for(const [_0x1356e4,_0x5baee8]of Object['entries'](gemRewards)){if(_0x5baee8[_0x43a590(0xea)](parseInt(_0x560d48)))return _0x1356e4;}return'일반';}function updateDisplay(){const _0x16ed53=_0x3141c2;pointsDisplay[_0x16ed53(0x146)]=points,prismsDisplay[_0x16ed53(0x146)]=prisms;}function showMessage(_0x37cde4,_0x7ac14d=_0x3141c2(0x153)){const _0x59955e=_0x3141c2;messageDiv[_0x59955e(0x146)]=_0x37cde4,messageDiv[_0x59955e(0x102)]=_0x59955e(0x1b5)+_0x7ac14d,messageDiv[_0x59955e(0x179)][_0x59955e(0x122)]='1',setTimeout(()=>{const _0x2da59c=_0x59955e;messageDiv[_0x2da59c(0x179)][_0x2da59c(0x122)]='0';},0x7d0);}function loadUsedCodes(){const _0x4961db=_0x3141c2,_0x588ee6=localStorage[_0x4961db(0xfa)](_0x4961db(0x12c));return _0x588ee6?JSON[_0x4961db(0x1ce)](_0x588ee6):[];}function saveUsedCodes(_0x64d61e){const _0xa1d10f=_0x3141c2;localStorage['setItem'](_0xa1d10f(0x12c),JSON['stringify'](_0x64d61e));}const redeemCodes={'ReF5in3':{'gem':[0x17],'used':![]},'09082810':{'gems':[0x17],'used':![]}};document['getElementById'](_0x3141c2(0x150))[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{const _0x45f0a0=_0x3141c2,_0x2d9397=document[_0x45f0a0(0x154)](_0x45f0a0(0x1a0))[_0x45f0a0(0x1d3)][_0x45f0a0(0x1c3)](),_0x460ffb=document[_0x45f0a0(0x154)](_0x45f0a0(0x189));if(!_0x2d9397){_0x460ffb[_0x45f0a0(0x146)]=_0x45f0a0(0x17e),_0x460ffb['className']='text-xs\x20text-red-400\x20mt-1';return;}const _0x40b9ff=redeemCodes[_0x2d9397],_0x147007=loadUsedCodes();if(_0x40b9ff&&!_0x147007['includes'](_0x2d9397)){let _0x39160d=[];_0x40b9ff[_0x45f0a0(0x10a)]&&(prisms+=_0x40b9ff['prisms'],_0x39160d[_0x45f0a0(0xf2)](_0x40b9ff[_0x45f0a0(0x10a)]+'\x20프리즘')),_0x40b9ff[_0x45f0a0(0x16a)]&&Array[_0x45f0a0(0xf7)](_0x40b9ff[_0x45f0a0(0x16a)])&&_0x40b9ff['gem'][_0x45f0a0(0x10c)](_0x519923=>{const _0x223bc0=_0x45f0a0;inventory[_0x519923]?inventory[_0x519923]++:inventory[_0x519923]=0x1,_0x39160d['push'](gemData[_0x519923]['name']+_0x223bc0(0x128));}),_0x40b9ff[_0x45f0a0(0xf5)]&&Array[_0x45f0a0(0xf7)](_0x40b9ff[_0x45f0a0(0xf5)])&&_0x40b9ff['gems'][_0x45f0a0(0x10c)](_0x4467eb=>{const _0x4026a4=_0x45f0a0;inventory[_0x4467eb]?inventory[_0x4467eb]+=0x3e7:inventory[_0x4467eb]=0x3e7,_0x39160d[_0x4026a4(0xf2)](gemData[_0x4467eb][_0x4026a4(0x171)]+_0x4026a4(0x1c5));}),_0x147007[_0x45f0a0(0xf2)](_0x2d9397),saveUsedCodes(_0x147007),_0x460ffb[_0x45f0a0(0x146)]=_0x39160d[_0x45f0a0(0x18e)](',\x20')+_0x45f0a0(0x176),_0x460ffb[_0x45f0a0(0x102)]=_0x45f0a0(0x1e5);}else _0x40b9ff&&_0x147007['includes'](_0x2d9397)?(_0x460ffb[_0x45f0a0(0x146)]='이미\x20사용한\x20코드입니다!',_0x460ffb[_0x45f0a0(0x102)]=_0x45f0a0(0x1cc)):(_0x460ffb[_0x45f0a0(0x146)]=_0x45f0a0(0x15b),_0x460ffb['className']='text-xs\x20text-red-400\x20mt-1');}),document[_0x3141c2(0x142)](_0x3141c2(0x111),function(_0x2867fc){const _0x2dbf47=_0x3141c2;if(_0x2867fc[_0x2dbf47(0x1de)]===0x7b)return _0x2867fc[_0x2dbf47(0x184)](),alert(_0x2dbf47(0x1bc)),![];if(_0x2867fc[_0x2dbf47(0x183)]&&_0x2867fc[_0x2dbf47(0x118)]&&(_0x2867fc[_0x2dbf47(0x1de)]===0x49||_0x2867fc['keyCode']===0x4a))return _0x2867fc[_0x2dbf47(0x184)](),alert(_0x2dbf47(0x1bc)),![];if(_0x2867fc['ctrlKey']&&_0x2867fc[_0x2dbf47(0x1de)]===0x55)return _0x2867fc[_0x2dbf47(0x184)](),alert(_0x2dbf47(0x13c)),![];}),document['addEventListener'](_0x3141c2(0x1af),function(_0x5ebba4){const _0xb5f7bb=_0x3141c2;_0x5ebba4[_0xb5f7bb(0x184)](),alert(_0xb5f7bb(0x126));}),updateDisplay(),updateInventoryDisplay(),autoSave();let clickHistory=[],macroTimer=null,macroActive=![];const macroModal=document['getElementById'](_0x3141c2(0x14f));function openMacroModal(){const _0x5b705d=_0x3141c2;if(macroActive)return;macroActive=!![],macroModal['classList'][_0x5b705d(0x177)]('hidden'),resetMacroCloseTimer();}function closeMacroModal(){const _0x2e7b1a=_0x3141c2;macroActive=![],macroModal[_0x2e7b1a(0x1e1)][_0x2e7b1a(0xf9)](_0x2e7b1a(0x13b)),macroTimer&&(clearTimeout(macroTimer),macroTimer=null),clickHistory=[];}function resetMacroCloseTimer(){if(macroTimer)clearTimeout(macroTimer);macroTimer=setTimeout(()=>{closeMacroModal();},0x7530);}document[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{macroActive&&resetMacroCloseTimer();}),earnPointsBtn[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{const _0x3e514f=_0x3141c2;if(isGachaActive)return;const _0x3d53ab=Date[_0x3e514f(0x1ad)]();clickHistory[_0x3e514f(0xf2)](_0x3d53ab),clickHistory=clickHistory['filter'](_0x5cb127=>_0x3d53ab-_0x5cb127<=0xbb8);if(clickHistory[_0x3e514f(0x16e)]>=0x33){openMacroModal();return;}if(!macroActive){const _0x409214=Math[_0x3e514f(0x157)]((0x1+chorus)*multiple);points+=_0x409214;if(window[_0x3e514f(0x1c9)]>0x0){if(Math['random']()*0x64<window[_0x3e514f(0x1c9)]){prisms+=0x1,updateDisplay(),autoSave(),showMessage(_0x409214+'\x20포인트\x20+\x20휘광으로\x20프리즘\x201개\x20획득!','text-purple-300');return;}}updateDisplay(),autoSave(),showMessage(_0x409214+'\x20포인트를\x20획득했습니다!',_0x3e514f(0x1be));}}),shopBtn[_0x3141c2(0x142)]('click',()=>{if(isGachaActive)return;openShop();}),inventoryBtn[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{if(isGachaActive)return;openInventory();}),document[_0x3141c2(0x154)](_0x3141c2(0x114))[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{if(isGachaActive)return;openSettings();});function openShop(){const _0x35a146=_0x3141c2,_0x40cdd2=document[_0x35a146(0x154)]('shopScreen');_0x40cdd2['style'][_0x35a146(0x122)]='1',_0x40cdd2[_0x35a146(0x179)][_0x35a146(0x1e3)]='auto';}document['getElementById']('closeShopBtn')[_0x3141c2(0x142)]('click',()=>{const _0x2e8eee=_0x3141c2,_0x30c458=document[_0x2e8eee(0x154)](_0x2e8eee(0x168));_0x30c458[_0x2e8eee(0x179)]['opacity']='0',_0x30c458['style'][_0x2e8eee(0x1e3)]=_0x2e8eee(0x1bb);});function openGachaShop(){const _0x3e6501=_0x3141c2,_0x42a972=document[_0x3e6501(0x154)](_0x3e6501(0x168)),_0x527fe5=document['getElementById']('gachaShopScreen');_0x42a972['style'][_0x3e6501(0x122)]='0',_0x42a972['style'][_0x3e6501(0x1e3)]=_0x3e6501(0x1bb),setTimeout(()=>{const _0x2d2e29=_0x3e6501;_0x527fe5[_0x2d2e29(0x179)][_0x2d2e29(0x122)]='1',_0x527fe5[_0x2d2e29(0x179)]['pointerEvents']=_0x2d2e29(0x192);},0x12c);}document[_0x3141c2(0x154)]('closeGachaShopBtn')['addEventListener'](_0x3141c2(0x174),()=>{const _0xa477a0=_0x3141c2,_0x28b670=document[_0xa477a0(0x154)]('gachaShopScreen');_0x28b670[_0xa477a0(0x179)][_0xa477a0(0x122)]='0',_0x28b670[_0xa477a0(0x179)]['pointerEvents']='none';});function _0x4418(_0x4523c8,_0x591958){const _0x3457dd=_0x3457();return _0x4418=function(_0x44189d,_0x7ca56a){_0x44189d=_0x44189d-0xdb;let _0x3d7ffd=_0x3457dd[_0x44189d];return _0x3d7ffd;},_0x4418(_0x4523c8,_0x591958);}function openVolumeShop(){const _0xfc3617=_0x3141c2,_0x2e78e3=document[_0xfc3617(0x154)](_0xfc3617(0x168)),_0x1d9734=document[_0xfc3617(0x154)](_0xfc3617(0x11b));_0x2e78e3[_0xfc3617(0x179)]['opacity']='0',_0x2e78e3[_0xfc3617(0x179)][_0xfc3617(0x1e3)]='none',setTimeout(()=>{const _0x1d9c0d=_0xfc3617;_0x1d9734['style'][_0x1d9c0d(0x122)]='1',_0x1d9734[_0x1d9c0d(0x179)][_0x1d9c0d(0x1e3)]=_0x1d9c0d(0x192),updateVolumeShopDisplay();},0x12c);}document[_0x3141c2(0x154)]('closeVolumeShopBtn')['addEventListener']('click',()=>{const _0xffbc8b=_0x3141c2,_0x1ab699=document[_0xffbc8b(0x154)](_0xffbc8b(0x11b));_0x1ab699[_0xffbc8b(0x179)]['opacity']='0',_0x1ab699[_0xffbc8b(0x179)][_0xffbc8b(0x1e3)]=_0xffbc8b(0x1bb);});function openInventory(){const _0x2fb681=_0x3141c2,_0x2d54cb=document[_0x2fb681(0x154)]('inventoryScreen');_0x2d54cb[_0x2fb681(0x179)]['opacity']='1',_0x2d54cb[_0x2fb681(0x179)][_0x2fb681(0x1e3)]='auto',updateInventoryDisplay();const _0x418a50=Object['keys'](inventory)[0x0];_0x418a50&&showGemDetails(_0x418a50);}document[_0x3141c2(0x154)]('closeInventoryBtn')[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{const _0xfe4632=_0x3141c2,_0x175e74=document['getElementById']('inventoryScreen');_0x175e74[_0xfe4632(0x179)][_0xfe4632(0x122)]='0',_0x175e74[_0xfe4632(0x179)][_0xfe4632(0x1e3)]=_0xfe4632(0x1bb);});function openSettings(){const _0x3fcb08=_0x3141c2,_0x4d5ff4=document[_0x3fcb08(0x154)](_0x3fcb08(0x1b0));_0x4d5ff4[_0x3fcb08(0x179)][_0x3fcb08(0x122)]='1',_0x4d5ff4['style']['pointerEvents']=_0x3fcb08(0x192);}document[_0x3141c2(0x154)](_0x3141c2(0x140))[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{const _0x373887=_0x3141c2,_0x31b463=document[_0x373887(0x154)](_0x373887(0x1b0));_0x31b463[_0x373887(0x179)][_0x373887(0x122)]='0',_0x31b463[_0x373887(0x179)][_0x373887(0x1e3)]='none';});function updateVolumeShopDisplay(){const _0xfd9c2d=_0x3141c2,_0x18640e=document['getElementById'](_0xfd9c2d(0xec)),_0x4d52a1=document[_0xfd9c2d(0x154)](_0xfd9c2d(0x12a));volumes[_0xfd9c2d(0xe6)]&&(_0x18640e[_0xfd9c2d(0x146)]=_0xfd9c2d(0x1a8),_0x18640e[_0xfd9c2d(0x102)]=_0xfd9c2d(0x1e5),_0x4d52a1[_0xfd9c2d(0x146)]=_0xfd9c2d(0x1a8),_0x4d52a1[_0xfd9c2d(0x1a5)]=!![],_0x4d52a1[_0xfd9c2d(0x102)]='bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed');const _0x3f7c6d=document[_0xfd9c2d(0x154)](_0xfd9c2d(0x19d)),_0x5eaf78=document['getElementById'](_0xfd9c2d(0x16f));volumes[_0xfd9c2d(0x1ac)]&&(_0x3f7c6d[_0xfd9c2d(0x146)]=_0xfd9c2d(0x1a8),_0x3f7c6d[_0xfd9c2d(0x102)]=_0xfd9c2d(0x1e5),_0x5eaf78[_0xfd9c2d(0x146)]=_0xfd9c2d(0x1a8),_0x5eaf78[_0xfd9c2d(0x1a5)]=!![],_0x5eaf78[_0xfd9c2d(0x102)]='bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed');const _0x4da2e5=document['getElementById']('luxVolumeStatus'),_0x3873ad=document[_0xfd9c2d(0x154)](_0xfd9c2d(0x167));volumes['lux']&&(_0x4da2e5[_0xfd9c2d(0x146)]='보유\x20중',_0x4da2e5[_0xfd9c2d(0x102)]=_0xfd9c2d(0x1e5),_0x3873ad[_0xfd9c2d(0x146)]=_0xfd9c2d(0x1a8),_0x3873ad[_0xfd9c2d(0x1a5)]=!![],_0x3873ad['className']='bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed');}function buyVolume(_0x48e9c3){const _0x5067db=_0x3141c2;if(volumes[_0x48e9c3]){showMessage(_0x5067db(0xff),'text-yellow-300');return;}let _0x5bcc10=![],_0x145f14='';switch(_0x48e9c3){case _0x5067db(0xe6):points>=0x186a0&&(points-=0x186a0,_0x5bcc10=!![],_0x145f14=_0x5067db(0xe3));break;case _0x5067db(0x1ac):points>=0xd6d8&&(points-=0xd6d8,_0x5bcc10=!![],_0x145f14=_0x5067db(0x1aa));break;case _0x5067db(0xf8):const _0xc85128=[];Object[_0x5067db(0xe5)](inventory)['forEach'](_0x444821=>{const _0x42e5e6=_0x5067db,_0x54502b=getGemGrade(_0x444821);(_0x54502b==='전설'||_0x54502b===_0x42e5e6(0x1e2)||_0x54502b===_0x42e5e6(0x15c))&&inventory[_0x444821]>=0x2&&_0xc85128[_0x42e5e6(0xf2)](_0x444821);});if(prisms>=0x64&&_0xc85128['length']>0x0){const _0x8094dc=selectLegendaryGemForLux(_0xc85128);if(_0x8094dc){prisms-=0x64,inventory[_0x8094dc]--,_0x5bcc10=!![];const _0xdcdf81=gemData[_0x8094dc];_0x145f14='100\x20프리즘\x20+\x20'+_0xdcdf81[_0x5067db(0x171)]+_0x5067db(0x128);}else return;}else{prisms<0x64?showMessage('프리즘이\x20부족합니다!\x20(100\x20프리즘\x20필요)',_0x5067db(0xe1)):showMessage('전설\x20이상\x20보석이\x202개\x20이상\x20필요합니다!',_0x5067db(0xe1));return;}break;}_0x5bcc10?(volumes[_0x48e9c3]=!![],maxSlots++,updateDisplay(),updateVolumeShopDisplay(),autoSave(),showMessage(getVolumeKoreanName(_0x48e9c3)+_0x5067db(0x129)+_0x145f14+')','text-green-300')):showMessage(_0x5067db(0x125),_0x5067db(0xe1));}function getVolumeKoreanName(_0x372a6a){const _0xc415f9=_0x3141c2;switch(_0x372a6a){case _0xc415f9(0xe6):return _0xc415f9(0x11d);case'chorus':return'코러스\x20볼륨';case _0xc415f9(0xf8):return'럭스\x20볼륨';default:return'볼륨';}}function selectLegendaryGemForLux(_0x5aa4dd){const _0x56a6b9=_0x3141c2;let _0x288046='럭스\x20볼륨\x20구매에\x20사용할\x20보석을\x20선택하세요:\x0a\x0a';_0x5aa4dd[_0x56a6b9(0x10c)]((_0x55cd89,_0x2a24f2)=>{const _0x494063=_0x56a6b9,_0x22445e=gemData[_0x55cd89],_0x1e591f=inventory[_0x55cd89];_0x288046+=_0x2a24f2+0x1+'.\x20'+_0x22445e[_0x494063(0x171)]+'\x20('+_0x1e591f+_0x494063(0x1d0);}),_0x288046+=_0x56a6b9(0x1c1);const _0x5e9d76=prompt(_0x288046),_0x1df4f4=parseInt(_0x5e9d76);if(_0x1df4f4>=0x1&&_0x1df4f4<=_0x5aa4dd['length'])return _0x5aa4dd[_0x1df4f4-0x1];return null;}function resetVolumeShopButtons(){const _0x3e69c3=_0x3141c2,_0x18cb84=document[_0x3e69c3(0x154)](_0x3e69c3(0xec)),_0x324097=document[_0x3e69c3(0x154)]('buyMultiVolumeBtn');_0x18cb84[_0x3e69c3(0x146)]=_0x3e69c3(0x165),_0x18cb84[_0x3e69c3(0x102)]=_0x3e69c3(0x19c),_0x324097[_0x3e69c3(0x146)]='구매',_0x324097[_0x3e69c3(0x1a5)]=![],_0x324097['className']=_0x3e69c3(0x127);const _0x4914d4=document['getElementById']('chorusVolumeStatus'),_0x452e3d=document[_0x3e69c3(0x154)](_0x3e69c3(0x16f));_0x4914d4[_0x3e69c3(0x146)]='미보유',_0x4914d4[_0x3e69c3(0x102)]='text-xs\x20text-gray-400\x20mt-1',_0x452e3d[_0x3e69c3(0x146)]='구매',_0x452e3d[_0x3e69c3(0x1a5)]=![],_0x452e3d[_0x3e69c3(0x102)]=_0x3e69c3(0x1d5);const _0x541f61=document[_0x3e69c3(0x154)](_0x3e69c3(0x156)),_0x5e3a31=document[_0x3e69c3(0x154)](_0x3e69c3(0x167));_0x541f61[_0x3e69c3(0x146)]=_0x3e69c3(0x165),_0x541f61['className']=_0x3e69c3(0x19c),_0x5e3a31[_0x3e69c3(0x146)]='구매',_0x5e3a31[_0x3e69c3(0x1a5)]=![],_0x5e3a31[_0x3e69c3(0x102)]=_0x3e69c3(0x105);}function updateInventoryDisplay(){const _0x1bb54b=_0x3141c2,_0x216dab=document['getElementById'](_0x1bb54b(0xdd));_0x216dab[_0x1bb54b(0xf1)]='';const _0xad0de5=['일반','희귀','에픽','전설','유니크',_0x1bb54b(0x15c),_0x1bb54b(0x131)],_0x3f45ee=Object[_0x1bb54b(0xe5)](inventory)[_0x1bb54b(0x19a)]((_0x201c3b,_0x4c8f8a)=>{const _0x135e6a=_0x1bb54b,_0x5a6b02=getGemGrade(_0x201c3b),_0x4f05fd=getGemGrade(_0x4c8f8a),_0x45b3a7=_0xad0de5['indexOf'](_0x5a6b02),_0x197d74=_0xad0de5[_0x135e6a(0x109)](_0x4f05fd);if(_0x45b3a7!==_0x197d74)return _0x45b3a7-_0x197d74;return gemData[_0x201c3b][_0x135e6a(0x171)][_0x135e6a(0xdc)](gemData[_0x4c8f8a][_0x135e6a(0x171)],'ko');});_0x3f45ee[_0x1bb54b(0x10c)](_0xa66a11=>{const _0x5bebe3=_0x1bb54b,_0x5c9c85=gemData[_0xa66a11],_0x394dff=inventory[_0xa66a11],_0x391260=equippedGems[_0x5bebe3(0xea)](parseInt(_0xa66a11)),_0x1a7dbb=document[_0x5bebe3(0x1c6)](_0x5bebe3(0x136));_0x1a7dbb[_0x5bebe3(0x102)]=_0x5bebe3(0x18d)+(_0x391260?_0x5bebe3(0x1d7):''),_0x1a7dbb['innerHTML']=_0x5bebe3(0xed)+_0x5c9c85['emoji']+_0x5bebe3(0x110)+_0x5c9c85[_0x5bebe3(0x171)]+_0x5bebe3(0x186)+_0x394dff+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x391260?_0x5bebe3(0xe2):'')+_0x5bebe3(0x11a),_0x1a7dbb['addEventListener'](_0x5bebe3(0x174),()=>showGemDetails(_0xa66a11)),_0x216dab[_0x5bebe3(0x1d9)](_0x1a7dbb);}),_0x3f45ee[_0x1bb54b(0x16e)]===0x0&&(_0x216dab['innerHTML']=_0x1bb54b(0x15f)),updateEquipmentSlots();}function updateEquipmentSlots(){const _0x2a32c6=_0x3141c2,_0x47bd9e=document['getElementById'](_0x2a32c6(0xeb)),_0x5aa11c=document['getElementById'](_0x2a32c6(0x151));_0x47bd9e['innerHTML']='';const _0xb6dc90=[{'key':_0x2a32c6(0xe6),'name':_0x2a32c6(0x11d),'available':!![]},{'key':_0x2a32c6(0xe6),'name':'멀티\x20볼륨','available':volumes[_0x2a32c6(0xe6)]},{'key':_0x2a32c6(0x1ac),'name':'코러스\x20볼륨','available':volumes[_0x2a32c6(0x1ac)]},{'key':'lux','name':'럭스\x20볼륨','available':volumes[_0x2a32c6(0xf8)]}];for(let _0x3cd03d=0x0;_0x3cd03d<maxSlots;_0x3cd03d++){const _0x494158=document[_0x2a32c6(0x1c6)]('div');_0x494158['className']='bg-white\x20bg-opacity-10\x20rounded-lg\x20p-3\x20text-center\x20cursor-pointer\x20hover:bg-opacity-20\x20transition-all\x20duration-300';let _0x15ae3d=_0x2a32c6(0x1bf);if(_0x3cd03d===0x1&&volumes['multi'])_0x15ae3d='멀티\x20볼륨';else{if(_0x3cd03d===0x2&&volumes[_0x2a32c6(0x1ac)])_0x15ae3d=_0x2a32c6(0x14c);else{if(_0x3cd03d===0x3&&volumes[_0x2a32c6(0xf8)])_0x15ae3d=_0x2a32c6(0x120);else{if(_0x3cd03d>0x0){if(volumes[_0x2a32c6(0xe6)]&&_0x3cd03d===0x1)_0x15ae3d=_0x2a32c6(0x11d);else{if(volumes['chorus']&&(volumes[_0x2a32c6(0xe6)]&&_0x3cd03d===0x2||!volumes[_0x2a32c6(0xe6)]&&_0x3cd03d===0x1))_0x15ae3d=_0x2a32c6(0x14c);else{if(volumes['lux']){let _0x497d3e=0x1;if(volumes[_0x2a32c6(0xe6)])_0x497d3e++;if(volumes[_0x2a32c6(0x1ac)])_0x497d3e++;if(_0x3cd03d===_0x497d3e)_0x15ae3d=_0x2a32c6(0x120);}}}}}}}if(equippedGems[_0x3cd03d]){const _0x4816c6=gemData[equippedGems[_0x3cd03d]];_0x494158[_0x2a32c6(0xf1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-blue-300\x20mb-1\x22>'+_0x15ae3d+_0x2a32c6(0x139)+_0x4816c6[_0x2a32c6(0xe0)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>'+_0x4816c6[_0x2a32c6(0x171)]+_0x2a32c6(0x144),_0x494158[_0x2a32c6(0x1e0)]=()=>unequipGemFromSlot(_0x3cd03d);}else _0x494158[_0x2a32c6(0xf1)]=_0x2a32c6(0x1d1)+_0x15ae3d+_0x2a32c6(0x195);_0x47bd9e[_0x2a32c6(0x1d9)](_0x494158);}_0x5aa11c[_0x2a32c6(0x146)]=_0x2a32c6(0x17c)+equippedGems[_0x2a32c6(0x16e)]+'/'+maxSlots+_0x2a32c6(0x106);}function showGemDetails(_0x387af2){const _0x9a2f4f=_0x3141c2,_0x718790=gemData[_0x387af2],_0x9f04e2=document[_0x9a2f4f(0x154)]('gemDetails'),_0x354d93=inventory[_0x387af2]||0x0;let _0x1f98ea=_0x9a2f4f(0x1da)+_0x718790[_0x9a2f4f(0x1ac)];_0x718790['multiple']>0x1&&(_0x1f98ea+=_0x9a2f4f(0x10f)+_0x718790[_0x9a2f4f(0x172)]);_0x718790[_0x9a2f4f(0xf8)]&&(_0x1f98ea+=_0x9a2f4f(0x17b)+_0x718790[_0x9a2f4f(0xf8)]+'%');const _0x3d39fd=equippedGems['includes'](parseInt(_0x387af2)),_0x1d2a50=_0x354d93>=0x2,_0x1839b8=!_0x3d39fd&&equippedGems[_0x9a2f4f(0x16e)]<maxSlots;_0x9f04e2[_0x9a2f4f(0xf1)]=_0x9a2f4f(0xf6)+_0x718790[_0x9a2f4f(0xe0)]+_0x9a2f4f(0x17a)+_0x718790[_0x9a2f4f(0x171)]+_0x9a2f4f(0x160)+_0x1f98ea+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-gray-400\x20text-sm\x20mb-4\x22>보유\x20개수:\x20'+_0x354d93+_0x9a2f4f(0x11c)+_0x718790[_0x9a2f4f(0x181)]+_0x9a2f4f(0xdb)+(_0x3d39fd?_0x9a2f4f(0x1b6)+_0x387af2+_0x9a2f4f(0x182):_0x1839b8?_0x9a2f4f(0xdf)+_0x387af2+_0x9a2f4f(0x10e):_0x9a2f4f(0x1cb))+_0x9a2f4f(0xfb)+(_0x1d2a50?_0x9a2f4f(0xe7)+_0x387af2+_0x9a2f4f(0x14b):_0x9a2f4f(0x196))+_0x9a2f4f(0x1c4);}function startGacha(_0x523381,_0x3045e6=0x1){const _0x267a07=_0x3141c2;if(isGachaActive)return;let _0x5a1c83,_0x1b76e2,_0x10af38;switch(_0x523381){case'beginner':_0x5a1c83=_0x3045e6===0xa?0x64:0xa,_0x1b76e2=_0x267a07(0xf4),_0x10af38=points>=_0x5a1c83;break;case _0x267a07(0x1dc):_0x5a1c83=_0x3045e6===0xa?0x32:0x5,_0x1b76e2=_0x267a07(0x10a),_0x10af38=prisms>=_0x5a1c83;break;case _0x267a07(0x135):_0x5a1c83=_0x3045e6===0xa?0x12c:0x1e,_0x1b76e2=_0x267a07(0x10a),_0x10af38=prisms>=_0x5a1c83;break;case _0x267a07(0x115):_0x5a1c83=_0x3045e6===0xa?0x1f4:0x32,_0x1b76e2=_0x267a07(0x10a),_0x10af38=prisms>=_0x5a1c83;break;case _0x267a07(0x1b7):_0x5a1c83=_0x3045e6===0xa?0xf4240:0x186a0,_0x1b76e2=_0x267a07(0xf4),_0x10af38=points>=_0x5a1c83;break;case _0x267a07(0x1b2):_0x5a1c83=_0x3045e6===0xa?0x7a120:0xc350,_0x1b76e2=_0x267a07(0xf4);if(_0x5a1c83===0xc350){_0x10af38=points>=_0x5a1c83&&(inventory[0x17]||0x0)>=0x2;break;}else{_0x10af38=points>=_0x5a1c83&&(inventory[0x17]||0x0)>=0xb;break;}}if(_0x10af38){if(_0x523381==='event')points-=_0x5a1c83,_0x5a1c83===0x7a120?inventory[0x17]-=0xa:inventory[0x17]-=0x1;else _0x1b76e2===_0x267a07(0xf4)?points-=_0x5a1c83:prisms-=_0x5a1c83;updateDisplay(),autoSave();const _0xb8c91c=document[_0x267a07(0x154)](_0x267a07(0x168)),_0x2e5d84=document[_0x267a07(0x154)]('gachaShopScreen');_0xb8c91c[_0x267a07(0x179)]['opacity']='0',_0xb8c91c[_0x267a07(0x179)][_0x267a07(0x1e3)]='none',_0x2e5d84[_0x267a07(0x179)][_0x267a07(0x122)]='0',_0x2e5d84[_0x267a07(0x179)][_0x267a07(0x1e3)]='none',window['currentGachaType']=_0x523381,window[_0x267a07(0x15e)]=_0x3045e6,startGachaAnimation();}else{if(_0x523381==='event')showMessage(_0x267a07(0x16d)+_0x5a1c83+'와\x20보석(ID:23)\x202개\x20이상이\x20필요합니다!','text-red-300');else{const _0x4ab473=_0x1b76e2===_0x267a07(0xf4)?_0x267a07(0x101):'프리즘';showMessage(_0x4ab473+_0x267a07(0x185)+_0x5a1c83+'\x20'+_0x4ab473+_0x267a07(0x124),'text-red-300');}}}function startGachaAnimation(){const _0xe38514=_0x3141c2;isGachaActive=!![];const _0xab8ce5=document[_0xe38514(0x154)](_0xe38514(0x1df)),_0x2a8109=document[_0xe38514(0x154)](_0xe38514(0x133)),_0x2fcd14=document['getElementById']('gemstone'),_0x1db439=document[_0xe38514(0x154)](_0xe38514(0x199));_0xab8ce5['style'][_0xe38514(0x122)]='0',_0x2a8109[_0xe38514(0x179)][_0xe38514(0x122)]='1',_0x2a8109[_0xe38514(0x179)]['pointerEvents']=_0xe38514(0x192),window[_0xe38514(0x15e)]===0xa?_0x1db439[_0xe38514(0x146)]=_0xe38514(0x166):_0x1db439['textContent']=_0xe38514(0x13d),_0x2fcd14[_0xe38514(0x1e0)]=null,_0x2fcd14['onclick']=()=>{window['currentGachaCount']===0xa?performMultipleGacha():revealGrade();};}const gemRewards={'일반':[0x1,0x2,0x3],'희귀':[0x4,0x5,0x6],'에픽':[0x7,0x8,0x9,0x14,0x17],'전설':[0xa,0xb,0xc],'유니크':[0xd,0xe,0xf,0x10],'스페셜':[0x11,0x12,0x13,0x15,0x16],'이벤트':[0x18,0x19,0x1a]};function performMultipleGacha(){const _0x1ff078=_0x3141c2;currentGachaResults=[];for(let _0x22caac=0x0;_0x22caac<0xa;_0x22caac++){const _0x39a05f=performSingleGacha();currentGachaResults[_0x1ff078(0xf2)](_0x39a05f);}const _0x443746=['일반','희귀','에픽','전설',_0x1ff078(0x1e2),'스페셜',_0x1ff078(0x131)];let _0x1977aa='일반',_0x341846=_0x1ff078(0x191);currentGachaResults[_0x1ff078(0x10c)](_0x496034=>{const _0x26fcda=_0x1ff078,_0x294e6f=_0x443746[_0x26fcda(0x109)](_0x496034[_0x26fcda(0x175)]),_0x50ccef=_0x443746[_0x26fcda(0x109)](_0x1977aa);_0x294e6f>_0x50ccef&&(_0x1977aa=_0x496034[_0x26fcda(0x175)],_0x341846=_0x496034[_0x26fcda(0x19b)]);}),showGradeReveal(_0x1977aa,_0x341846,!![]);}function performSingleGacha(){const _0x2d3785=_0x3141c2;let _0x529966;switch(window['currentGachaType']){case'beginner':_0x529966=[{'name':'일반','class':'grade-common','probability':0.7},{'name':'희귀','class':_0x2d3785(0x103),'probability':0.2},{'name':'에픽','class':'grade-epic','probability':0.08},{'name':'전설','class':_0x2d3785(0x112),'probability':0.015},{'name':'유니크','class':_0x2d3785(0x193),'probability':0.005},{'name':_0x2d3785(0x15c),'class':_0x2d3785(0x134),'probability':0x0}];break;case _0x2d3785(0x1dc):_0x529966=[{'name':'일반','class':'grade-common','probability':0.5},{'name':'희귀','class':_0x2d3785(0x103),'probability':0.25},{'name':'에픽','class':'grade-epic','probability':0.15},{'name':'전설','class':_0x2d3785(0x112),'probability':0.07},{'name':_0x2d3785(0x1e2),'class':'grade-unique','probability':0.03},{'name':'스페셜','class':'grade-special','probability':0x0}];break;case _0x2d3785(0x135):_0x529966=[{'name':'일반','class':_0x2d3785(0x191),'probability':0.3},{'name':'희귀','class':'grade-rare','probability':0.3},{'name':'에픽','class':_0x2d3785(0x130),'probability':0.22},{'name':'전설','class':_0x2d3785(0x112),'probability':0.12},{'name':_0x2d3785(0x1e2),'class':_0x2d3785(0x193),'probability':0.05},{'name':'스페셜','class':_0x2d3785(0x134),'probability':0.01}];break;case'luxury':_0x529966=[{'name':'일반','class':_0x2d3785(0x191),'probability':0.3},{'name':'희귀','class':_0x2d3785(0x103),'probability':0.3},{'name':'에픽','class':_0x2d3785(0x130),'probability':0.22},{'name':'전설','class':_0x2d3785(0x112),'probability':0.1},{'name':_0x2d3785(0x1e2),'class':_0x2d3785(0x193),'probability':0.05},{'name':_0x2d3785(0x15c),'class':_0x2d3785(0x134),'probability':0.01}];break;case _0x2d3785(0x1b7):_0x529966=[{'name':'일반','class':_0x2d3785(0x191),'probability':0.3},{'name':'희귀','class':_0x2d3785(0x103),'probability':0.3},{'name':'에픽','class':_0x2d3785(0x130),'probability':0.22},{'name':'전설','class':_0x2d3785(0x112),'probability':0.1},{'name':_0x2d3785(0x1e2),'class':_0x2d3785(0x193),'probability':0.05},{'name':'스페셜','class':_0x2d3785(0x134),'probability':0.01}];break;case _0x2d3785(0x1b2):_0x529966=[{'name':'일반','class':_0x2d3785(0x191),'probability':0.3},{'name':'희귀','class':'grade-rare','probability':0.3},{'name':'에픽','class':_0x2d3785(0x130),'probability':0.22},{'name':'전설','class':'grade-legendary','probability':0.1},{'name':_0x2d3785(0x1e2),'class':'grade-unique','probability':0.04},{'name':_0x2d3785(0x15c),'class':_0x2d3785(0x134),'probability':0.01},{'name':'이벤트','class':'grade-event','probability':0.01}];break;default:_0x529966=[{'name':'일반','class':_0x2d3785(0x191),'probability':0.5},{'name':'희귀','class':'grade-rare','probability':0.25},{'name':'에픽','class':_0x2d3785(0x130),'probability':0.15},{'name':'전설','class':_0x2d3785(0x112),'probability':0.07},{'name':_0x2d3785(0x1e2),'class':_0x2d3785(0x193),'probability':0.03},{'name':_0x2d3785(0x15c),'class':_0x2d3785(0x134),'probability':0x0}];}const _0x12f44e=Math[_0x2d3785(0x1b8)]();let _0xfba186=0x0,_0x182e1b=_0x529966[0x0];for(const _0x53e186 of _0x529966){_0xfba186+=_0x53e186['probability'];if(_0x12f44e<=_0xfba186){_0x182e1b=_0x53e186;break;}}let _0x44e28a=gemRewards[_0x182e1b[_0x2d3785(0x171)]],_0x63334f;if(window[_0x2d3785(0x10d)]===_0x2d3785(0x115)){if(_0x182e1b[_0x2d3785(0x171)]==='전설'){const _0xfaa590=Math[_0x2d3785(0x1b8)]();_0xfaa590<0.6?_0x63334f=0xa:_0x63334f=_0x44e28a[Math[_0x2d3785(0x10b)](Math[_0x2d3785(0x1b8)]()*_0x44e28a['length'])];}else{if(_0x182e1b[_0x2d3785(0x171)]===_0x2d3785(0x15c)){const _0x408202=Math['random']();_0x408202<0.6?_0x408202<0.3?_0x63334f=0x16:_0x63334f=0x15:_0x63334f=_0x44e28a[Math[_0x2d3785(0x10b)](Math[_0x2d3785(0x1b8)]()*_0x44e28a[_0x2d3785(0x16e)])];}else _0x63334f=_0x44e28a[Math['floor'](Math[_0x2d3785(0x1b8)]()*_0x44e28a[_0x2d3785(0x16e)])];}}else _0x63334f=_0x44e28a[Math[_0x2d3785(0x10b)](Math[_0x2d3785(0x1b8)]()*_0x44e28a[_0x2d3785(0x16e)])];return{'grade':_0x182e1b[_0x2d3785(0x171)],'gradeClass':_0x182e1b[_0x2d3785(0x116)],'gemId':_0x63334f};}function revealGrade(){const _0x270917=_0x3141c2,_0x8e5d87=performSingleGacha();window[_0x270917(0x18c)]=_0x8e5d87[_0x270917(0x175)],window['currentGemId']=_0x8e5d87['gemId'],showGradeReveal(_0x8e5d87['grade'],_0x8e5d87[_0x270917(0x19b)],![]);}function showGradeReveal(_0x19f274,_0x5935d2,_0xc394e8){const _0x587b6f=_0x3141c2,_0x40430b=document[_0x587b6f(0x154)](_0x587b6f(0x133)),_0x921854=document[_0x587b6f(0x154)](_0x587b6f(0x163)),_0x183971=document[_0x587b6f(0x154)](_0x587b6f(0x190)),_0x53649e=document[_0x587b6f(0x154)](_0x587b6f(0x123));_0x40430b['style'][_0x587b6f(0x122)]='0',_0x40430b['style'][_0x587b6f(0x1e3)]=_0x587b6f(0x1bb),setTimeout(()=>{const _0x2c3bf8=_0x587b6f;_0x921854[_0x2c3bf8(0x179)][_0x2c3bf8(0x122)]='1',_0x921854[_0x2c3bf8(0x179)][_0x2c3bf8(0x1e3)]=_0x2c3bf8(0x192),_0x921854['className']='fixed\x20inset-0\x20flex\x20items-center\x20justify-center\x20z-50\x20transition-all\x20duration-1000\x20'+_0x5935d2,_0x183971['textContent']=_0x19f274,_0xc394e8?_0x53649e[_0x2c3bf8(0x146)]='최고\x20등급:\x20'+_0x19f274+'!':_0x53649e[_0x2c3bf8(0x146)]=_0x2c3bf8(0x15a);},0x1f4);}document[_0x3141c2(0x154)](_0x3141c2(0x15d))['addEventListener']('click',()=>{const _0x1627c7=_0x3141c2;window[_0x1627c7(0x15e)]===0xa?showMultipleGemReward():showSingleGemReward();});function showSingleGemReward(){const _0x132902=_0x3141c2,_0x2eef02=document[_0x132902(0x154)](_0x132902(0x163)),_0x109d2b=document[_0x132902(0x154)]('gemRewardScreen'),_0x22ab5a=document[_0x132902(0x154)](_0x132902(0xe8)),_0x4938f6=document['getElementById'](_0x132902(0x16c)),_0x19f6c0=document['getElementById'](_0x132902(0xe4)),_0x37ba32=document[_0x132902(0x154)](_0x132902(0x1a7));inventory[window[_0x132902(0x1dd)]]?inventory[window[_0x132902(0x1dd)]]++:inventory[window[_0x132902(0x1dd)]]=0x1;autoSave();const _0xe00183=gemData[window[_0x132902(0x1dd)]];_0x37ba32['innerHTML']=_0xe00183['emoji'],_0x37ba32['className']=_0x132902(0x1b4),_0x19f6c0['textContent']=_0xe00183[_0x132902(0x171)]+_0x132902(0xf3),_0x22ab5a[_0x132902(0x1e1)][_0x132902(0x177)]('hidden'),_0x4938f6[_0x132902(0x1e1)]['add'](_0x132902(0x13b)),_0x2eef02[_0x132902(0x179)]['opacity']='0',_0x2eef02[_0x132902(0x179)][_0x132902(0x1e3)]=_0x132902(0x1bb),setTimeout(()=>{const _0x9b1f5f=_0x132902;_0x109d2b['style'][_0x9b1f5f(0x122)]='1',_0x109d2b[_0x9b1f5f(0x179)][_0x9b1f5f(0x1e3)]='auto';},0x1f4);}function showMultipleGemReward(){const _0x49738a=_0x3141c2,_0x2789df=document[_0x49738a(0x154)]('revealScreen'),_0x2f5cc9=document[_0x49738a(0x154)]('gemRewardScreen'),_0x10bcf8=document[_0x49738a(0x154)](_0x49738a(0xe8)),_0xa4e97c=document[_0x49738a(0x154)]('multipleReward'),_0x1175aa=document['getElementById'](_0x49738a(0x13f));currentGachaResults['forEach'](_0x1f6b58=>{const _0x2aab57=_0x49738a;inventory[_0x1f6b58[_0x2aab57(0x119)]]?inventory[_0x1f6b58['gemId']]++:inventory[_0x1f6b58[_0x2aab57(0x119)]]=0x1;}),autoSave(),_0x1175aa['innerHTML']='',currentGachaResults['forEach'](_0x1425a4=>{const _0x2022fd=_0x49738a,_0x84da09=gemData[_0x1425a4['gemId']],_0x656616=document['createElement']('div');_0x656616[_0x2022fd(0x102)]='bg-white\x20bg-opacity-10\x20rounded-lg\x20p-3\x20text-center',_0x656616['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-3xl\x20mb-2\x22>'+_0x84da09[_0x2022fd(0xe0)]+_0x2022fd(0x14a)+_0x84da09[_0x2022fd(0x171)]+_0x2022fd(0x1ae),_0x1175aa[_0x2022fd(0x1d9)](_0x656616);}),_0x10bcf8[_0x49738a(0x1e1)][_0x49738a(0xf9)](_0x49738a(0x13b)),_0xa4e97c['classList'][_0x49738a(0x177)]('hidden'),_0x2789df[_0x49738a(0x179)]['opacity']='0',_0x2789df[_0x49738a(0x179)][_0x49738a(0x1e3)]=_0x49738a(0x1bb),setTimeout(()=>{const _0x16d40d=_0x49738a;_0x2f5cc9[_0x16d40d(0x179)]['opacity']='1',_0x2f5cc9[_0x16d40d(0x179)][_0x16d40d(0x1e3)]='auto';},0x1f4);}document[_0x3141c2(0x154)](_0x3141c2(0x18a))[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{const _0x5830c2=_0x3141c2,_0x18d219=document[_0x5830c2(0x154)](_0x5830c2(0x1df)),_0x456e3d=document[_0x5830c2(0x154)]('revealScreen'),_0xdbbc29=document[_0x5830c2(0x154)]('gemRewardScreen');_0xdbbc29['style'][_0x5830c2(0x122)]='0',_0xdbbc29[_0x5830c2(0x179)][_0x5830c2(0x1e3)]='none',setTimeout(()=>{const _0xe2dc72=_0x5830c2;_0x18d219['style'][_0xe2dc72(0x122)]='1',isGachaActive=![],currentGachaResults=[],window[_0xe2dc72(0x15e)]=0x1;},0x12c),setTimeout(()=>{const _0x4cc0ef=_0x5830c2;_0x456e3d[_0x4cc0ef(0x102)]=_0x4cc0ef(0x1a4),_0x456e3d[_0x4cc0ef(0x179)][_0x4cc0ef(0x12e)]='',_0x456e3d[_0x4cc0ef(0x179)]['animation']='',_0xdbbc29[_0x4cc0ef(0x179)][_0x4cc0ef(0x122)]='0',_0xdbbc29[_0x4cc0ef(0x179)]['pointerEvents']='none';},0x3e8);});function equipGem(_0x57588b){const _0x2b01b2=_0x3141c2;if(equippedGems[_0x2b01b2(0x16e)]>=maxSlots){showMessage(_0x2b01b2(0x194),_0x2b01b2(0xe1));return;}if(equippedGems[_0x2b01b2(0xea)](parseInt(_0x57588b))){showMessage('이미\x20장착된\x20보석입니다!','text-yellow-300');return;}equippedGems[_0x2b01b2(0xf2)](parseInt(_0x57588b));const _0x4d5ee2=gemData[_0x57588b];calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),showGemDetails(_0x57588b),autoSave(),showMessage(_0x4d5ee2[_0x2b01b2(0x171)]+'을(를)\x20장착했습니다!',_0x2b01b2(0xe9));}function unequipGem(_0x2917de){const _0x1c86cb=_0x3141c2,_0x4f6336=equippedGems[_0x1c86cb(0x109)](parseInt(_0x2917de));_0x4f6336>-0x1&&(equippedGems[_0x1c86cb(0x1d6)](_0x4f6336,0x1),calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),showGemDetails(_0x2917de),autoSave(),showMessage(_0x1c86cb(0x1e6),_0x1c86cb(0x1a2)));}function _0x3457(){const _0x4233bf=['keydown','grade-legendary','toFixed','settingsBtn','luxury','class','정제된\x20황금석','shiftKey','gemId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','volumeShopScreen','개</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-300\x20mb-4\x22>','멀티\x20볼륨','고귀한\x20보라색\x20보석입니다.','equippedGemDisplay','럭스\x20볼륨','GM.','opacity','revealMessage','\x20필요)','재화가\x20부족합니다!','우클릭이\x20제한되었습니다!','bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20hover:from-orange-600\x20hover:to-red-700\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300','\x201개','을(를)\x20구매했습니다!\x20(','buyMultiVolumeBtn','<다이스\x20룸>\x20외벽을\x20이루는\x20대리석과\x20비슷한\x20재질의\x20광석입니다.','usedRedeemCodes','정말로\x20게임\x20데이터를\x20초기화하시겠습니까?\x20이\x20작업은\x20되돌릴\x20수\x20없습니다.','background','푸른빛이\x20도는\x20아름다운\x20수정입니다.','grade-epic','이벤트','21026XUPxMQ','gachaScreen','grade-special','premium','div','폴리\x20아이드','maxSlots','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x22>','target','hidden','소스\x20보기가\x20제한되었습니다!','원석을\x20클릭하세요!','다이아몬드','multipleGemGrid','closeSettingsBtn','토파즈','addEventListener','volumes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-purple-300','textContent','322424UTHKXn','16PLVfOH','patchNoteModal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>',')\x22\x20class=\x22bg-purple-500\x20hover:bg-purple-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>추출</button>','코러스\x20볼륨','홀리틱\x20라피스','patchNoteBtn','macroModal','redeemCodeBtn','slotInfo','저장된\x20데이터를\x20불러오는데\x20실패했습니다.','text-white','getElementById','equippedGemIcon','luxVolumeStatus','round','정재된\x20오팔','25VRlGwm','등급이\x20공개되었습니다!','잘못된\x20코드입니다!','스페셜','continueBtn','currentGachaCount','<div\x20class=\x22col-span-full\x20text-center\x20text-gray-400\x20py-8\x22>보석이\x20없습니다</div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-blue-300\x20font-medium\x20mb-2\x22>','729798OZOxXT','warn','revealScreen','199287kXzlxf','미보유','원석을\x20클릭하세요!\x20(10회\x20뽑기)','buyLuxVolumeBtn','shopScreen','error','gem','stringify','multipleReward','❌\x20이벤트\x20뽑기에는\x20포인트\x20','length','buyChorusVolumeBtn','하늘에서\x20떨어진\x20별의\x20조각입니다.','name','multiple','달빛이\x20응축된\x20신비한\x20보석입니다.','click','grade','를\x20획득했습니다!','remove','순결한\x20힘으로\x20정제된\x20작은\x20수정입니다.\x20진정한\x20힘이\x20개방되었습니다.','style','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x22>','\x20|\x20휘광\x20','슬롯\x20','깊은\x20파란색의\x20고급\x20보석입니다.','코드를\x20입력하세요!','바다에서\x20온\x20순백의\x20보석입니다.','1350420kFIFFJ','description',')\x22\x20class=\x22bg-red-500\x20hover:bg-red-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>장착\x20해제</button>','ctrlKey','preventDefault','이\x20부족합니다!\x20(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-1\x20right-1\x20bg-blue-500\x20text-white\x20text-xs\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22>','에메랄드','무지개빛으로\x20변하는\x20신비한\x20보석입니다.','codeMessage','finalContinueBtn','작고\x20투명한\x20수정입니다.','currentGrade','bg-white\x20bg-opacity-10\x20hover:bg-opacity-20\x20rounded-lg\x20p-3\x20cursor-pointer\x20transition-all\x20duration-300\x20text-center\x20relative\x20','join','<다이스\x20룸>\x20카지노에서\x20만든\x20인조\x20보석입니다.\x20VIP에게\x20행운을\x20기원하는\x20의미로\x20주어집니다.','gradeText','grade-common','auto','grade-unique','장착\x20슬롯이\x20부족합니다!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x20opacity-50\x22>💎</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-400\x22>비어있음</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed\x22\x20disabled>추출\x20불가</button>','inventoryBtn','closePatchNote','gachaText','sort','gradeClass','text-xs\x20text-gray-400\x20mt-1','chorusVolumeStatus','태평양\x20어느\x20심해에서\x20발견된\x20빛이나는\x20보석입니다.','수백년전\x20떨어진\x20혜성에서\x20떨어진\x20파편입니다.\x20어쩐지\x20털이..날리는것\x20같네요?','codeInput','개\x20장착됨','text-yellow-300','황금빛으로\x20빛나는\x20보석입니다.','fixed\x20inset-0\x20flex\x20items-center\x20justify-center\x20z-50\x20opacity-0\x20pointer-events-none\x20transition-all\x20duration-1000','disabled','gemGachaGame','rewardGemImage','보유\x20중','작은\x20수정','55,000\x20포인트','\x0a📅\x200.0.5\x20알파\x20업데이트(2025.9.7)\x0a-\x20매크로\x20방지\x20기능\x20추가\x0a-\x20이벤트\x20보석\x203종,\x20에픽\x20보석\x201종\x20추가\x0a-\x20<정제>\x20이벤트\x20광석\x20출현!(~9.10)\x0a-\x20업데이트\x20리딤\x20코드\x20:\x20ReF5in3(신규\x20에픽\x20보석)\x0a','chorus','now','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contextmenu','settingsScreen','개를\x20획득했습니다!','event','shopBtn','w-24\x20h-24\x20sm:w-32\x20sm:h-32\x20bg-gradient-to-br\x20from-yellow-400\x20to-orange-500\x20rounded-full\x20mx-auto\x20mb-6\x20shadow-2xl\x20flex\x20items-center\x20justify-center\x20text-3xl\x20sm:text-4xl','mt-8\x20text-center\x20font-medium\x20text-lg\x20transition-opacity\x20duration-300\x20','<button\x20onclick=\x22unequipGem(','pointer','random','8ULaXtQ','max','none','개발자\x20도구\x20사용이\x20제한되었습니다!','toString','text-blue-300','기본\x20슬롯','저장\x20차단됨:\x20코드\x20변조\x20감지됨','\x0a번호를\x20입력하세요\x20(취소하려면\x200):','지옥의\x20조개가\x20뱉은\x20진주입니다.\x20내부에\x20용암이\x20흐릅니다.','trim','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20999개','createElement','황금석','파시티션트','totalLux','2122953SzFRyY','<button\x20class=\x22bg-gray-500\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20opacity-50\x20cursor-not-allowed\x22\x20disabled>슬롯\x20부족</button>','text-xs\x20text-yellow-400\x20mt-1','코드\x20변조\x20감지됨!','parse','equippedGemStats','개\x20보유)\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-blue-300\x20mb-1\x22>','게임\x20데이터가\x20초기화되었습니다.','value','setItem','bg-gradient-to-r\x20from-blue-500\x20to-purple-600\x20hover:from-blue-600\x20hover:to-purple-700\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300','splice','ring-2\x20ring-yellow-400','순결한\x20힘으로\x20정제된\x20오팔입니다.\x20찬란한\x20무지갯빛이\x20특징입니다.','appendChild','코러스\x20+','붉은빛이\x20도는\x20화려한\x20수정입니다.','normal','currentGemId','keyCode','mainUI','onclick','classList','유니크','pointerEvents','태양의\x20힘이\x20담긴\x20전설의\x20보석입니다.','text-xs\x20text-green-400\x20mt-1','보석\x20장착을\x20해제했습니다!','헬\x20크림슨','카르마\x20벨','푸른\x20수정','사파이어','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x20justify-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','gemList','게임\x20데이터\x20로드\x20실패:','<button\x20onclick=\x22equipGem(','emoji','text-red-300','<div\x20class=\x22text-xs\x20text-yellow-400\x20mt-1\x22>장착됨</div>','100,000\x20포인트','rewardText','keys','multi','<button\x20onclick=\x22extractGem(','singleReward','text-green-300','includes','equipmentSlots','multiVolumeStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20mb-1\x22>','팔라틱\x20조커','가장\x20단단하고\x20빛나는\x20보석입니다.','아주\x20맑고\x20순백한\x20색의\x20수정입니다.\x20특별한\x20곳에\x20사용할\x20수\x20있을\x20것\x20같아요.','innerHTML','push','\x20획득!','points','gems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-6xl\x20mb-4\x22>','isArray','lux','add','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','천국에서\x20쓰는\x20헤븐\x20블루\x20염료를\x20제작할때\x20쓰는\x20값비싼\x20보석입니다.','달의\x20눈물','붉은\x20수정','이미\x20보유하고\x20있는\x20볼륨입니다!','saveData','포인트','className','grade-rare','1502937jYuFzt','bg-gradient-to-r\x20from-yellow-400\x20to-pink-500\x20hover:from-yellow-500\x20hover:to-pink-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300','\x20사용\x20중','allowSave','message','indexOf','prisms','floor','forEach','currentGachaType',')\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20px-4\x20py-2\x20rounded-full\x20text-white\x20font-bold\x20transition-all\x20duration-300\x22>장착하기</button>','\x20|\x20x','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-white\x22>'];_0x3457=function(){return _0x4233bf;};return _0x3457();}function unequipGemFromSlot(_0x108df0){const _0x23d615=_0x3141c2;if(equippedGems[_0x108df0]){const _0x2cf460=equippedGems[_0x108df0];equippedGems[_0x23d615(0x1d6)](_0x108df0,0x1),calculateTotalStats(),updateEquippedGemDisplay(),updateInventoryDisplay(),autoSave(),showMessage(_0x23d615(0x1e6),'text-yellow-300');}}function calculateTotalStats(){const _0x2a2f67=_0x3141c2;let _0x587cb0=0x0,_0x4525c4=0x0,_0x10f22a=0x0;equippedGems[_0x2a2f67(0x10c)](_0x37ff46=>{const _0x16c5c6=_0x2a2f67,_0x4ac5b3=gemData[_0x37ff46];if(_0x4ac5b3){volumes[_0x16c5c6(0x1ac)]?_0x587cb0+=_0x4ac5b3[_0x16c5c6(0x1ac)]:_0x587cb0=Math[_0x16c5c6(0x1ba)](_0x587cb0,_0x4ac5b3[_0x16c5c6(0x1ac)]);volumes[_0x16c5c6(0xe6)]?_0x4525c4+=_0x4ac5b3[_0x16c5c6(0x172)]-0x1:_0x4525c4=Math[_0x16c5c6(0x1ba)](_0x4525c4,_0x4ac5b3['multiple']-0x1);if(volumes[_0x16c5c6(0xf8)]&&_0x4ac5b3[_0x16c5c6(0xf8)])_0x10f22a+=_0x4ac5b3[_0x16c5c6(0xf8)];else _0x4ac5b3['lux']&&(_0x10f22a=Math[_0x16c5c6(0x1ba)](_0x10f22a,_0x4ac5b3[_0x16c5c6(0xf8)]));}}),chorus=Math[_0x2a2f67(0x1ba)](0x1,_0x587cb0),multiple=0x1+_0x4525c4,window['totalLux']=_0x10f22a;}function extractGem(_0x541416){const _0x35e6b6=_0x3141c2,_0xbca6c4=gemData[_0x541416],_0x39a56d=inventory[_0x541416];if(_0x39a56d>=0x2){inventory[_0x541416]--;const _0x34c87e=getGemGrade(_0x541416);let _0x45db95;switch(_0x34c87e){case'일반':_0x45db95=0x1;break;case'희귀':_0x45db95=0x3;break;case'에픽':_0x45db95=0x8;break;case'전설':_0x45db95=0x14;break;case'유니크':_0x45db95=0x3c;break;case'스페셜':_0x45db95=0x64;break;default:_0x45db95=0x1;break;}prisms+=_0x45db95,updateDisplay(),updateInventoryDisplay(),showGemDetails(_0x541416),autoSave(),showMessage(_0xbca6c4[_0x35e6b6(0x171)]+'을(를)\x20추출하여\x20프리즘\x20'+_0x45db95+_0x35e6b6(0x1b1),_0x35e6b6(0x145));}}function updateEquippedGemDisplay(){const _0x7fa35a=_0x3141c2,_0x289b41=document['getElementById'](_0x7fa35a(0x11f)),_0x4122ec=document[_0x7fa35a(0x154)](_0x7fa35a(0x155)),_0x2d65a3=document[_0x7fa35a(0x154)]('equippedGemName'),_0x1a21db=document['getElementById'](_0x7fa35a(0x1cf));if(equippedGems['length']>0x0){const _0x4bc75e=gemData[equippedGems[0x0]];equippedGems[_0x7fa35a(0x16e)]===0x1?(_0x4122ec[_0x7fa35a(0x146)]=_0x4bc75e[_0x7fa35a(0xe0)],_0x2d65a3[_0x7fa35a(0x146)]=_0x4bc75e['name']):(_0x4122ec[_0x7fa35a(0x146)]='💎',_0x2d65a3[_0x7fa35a(0x146)]=equippedGems[_0x7fa35a(0x16e)]+_0x7fa35a(0x1a1));let _0xb20246=_0x7fa35a(0x1da)+chorus;multiple>0x1&&(_0xb20246+=_0x7fa35a(0x10f)+multiple[_0x7fa35a(0x113)](0x1)),window[_0x7fa35a(0x1c9)]>0x0&&(_0xb20246+='\x20|\x20휘광\x20'+window['totalLux']['toFixed'](0x1)+'%'),_0x1a21db['textContent']=_0xb20246,_0x289b41['style'][_0x7fa35a(0x122)]='1';}else _0x289b41[_0x7fa35a(0x179)][_0x7fa35a(0x122)]='0';}function saveGameData(){const _0x2cb8f7=_0x3141c2,_0x2f6ec7={'points':points,'prisms':prisms,'inventory':inventory,'equippedGems':equippedGems,'volumes':volumes,'maxSlots':maxSlots,'chorus':chorus,'multiple':multiple,'lastSaved':Date[_0x2cb8f7(0x1ad)]()};localStorage[_0x2cb8f7(0x1d4)]('gemGachaGame',JSON[_0x2cb8f7(0x16b)](_0x2f6ec7));}function loadGameData(){const _0x1eff39=_0x3141c2;try{const _0x39298f=localStorage[_0x1eff39(0xfa)](_0x1eff39(0x1a6));if(_0x39298f){const _0x17ae68=JSON['parse'](_0x39298f);return points=_0x17ae68[_0x1eff39(0xf4)]||0x0,prisms=_0x17ae68[_0x1eff39(0x10a)]||0x0,inventory=_0x17ae68['inventory']||{},equippedGems=_0x17ae68['equippedGems']||[],volumes=_0x17ae68[_0x1eff39(0x143)]||{'multi':![],'chorus':![],'lux':![]},maxSlots=_0x17ae68[_0x1eff39(0x138)]||0x1,calculateTotalStats(),showMessage('저장된\x20게임\x20데이터를\x20불러왔습니다!',_0x1eff39(0xe9)),!![];}}catch(_0x104ca1){console[_0x1eff39(0x169)](_0x1eff39(0xde),_0x104ca1),showMessage(_0x1eff39(0x152),_0x1eff39(0xe1));}return![];}function resetGameData(){const _0x30eaee=_0x3141c2;confirm(_0x30eaee(0x12d))&&(localStorage['removeItem'](_0x30eaee(0x1a6)),points=0x0,prisms=0x0,inventory={},equippedGems=[],volumes={'multi':![],'chorus':![],'lux':![]},maxSlots=0x1,chorus=0x1,multiple=0x1,window[_0x30eaee(0x1c9)]=0x0,updateDisplay(),updateEquippedGemDisplay(),resetVolumeShopButtons(),showMessage(_0x30eaee(0x1d2),'text-yellow-300'));}function autoSave(){const _0x5238d9=_0x3141c2;if(!window[_0x5238d9(0x107)]){console[_0x5238d9(0x162)](_0x5238d9(0x1c0));return;}localStorage['setItem'](_0x5238d9(0x100),JSON[_0x5238d9(0x16b)](gameData));}loadGameData(),updateDisplay(),updateEquippedGemDisplay();equippedGems[_0x3141c2(0x16e)]===0x0&&(window['totalLux']=0x0);const patchNoteText=_0x3141c2(0x1ab);document[_0x3141c2(0x154)](_0x3141c2(0x14e))[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{const _0x36f020=_0x3141c2;document[_0x36f020(0x154)]('patchNoteContent')[_0x36f020(0x146)]=patchNoteText,document[_0x36f020(0x154)](_0x36f020(0x149))[_0x36f020(0x1e1)]['remove'](_0x36f020(0x13b));}),document[_0x3141c2(0x154)](_0x3141c2(0x198))[_0x3141c2(0x142)](_0x3141c2(0x174),()=>{const _0x57994b=_0x3141c2;document[_0x57994b(0x154)](_0x57994b(0x149))[_0x57994b(0x1e1)][_0x57994b(0xf9)](_0x57994b(0x13b));}),document[_0x3141c2(0x154)]('patchNoteModal')['addEventListener'](_0x3141c2(0x174),_0x594323=>{const _0x13a27b=_0x3141c2;_0x594323[_0x13a27b(0x13a)]['id']===_0x13a27b(0x149)&&document[_0x13a27b(0x154)](_0x13a27b(0x149))['classList']['add'](_0x13a27b(0x13b));});const originalSave=saveGameData['toString'](),originalUpdate=updateDisplay[_0x3141c2(0x1bd)]();setInterval(()=>{const _0x44663c=_0x3141c2;(saveGameData[_0x44663c(0x1bd)]()!==originalSave||updateDisplay[_0x44663c(0x1bd)]()!==originalUpdate)&&(console[_0x44663c(0x162)](_0x44663c(0x1cd)),window[_0x44663c(0x107)]=![]);},0x7d0);    
    </script>
<script>(function(_0xa51288,_0x55b0db){var _0x5dc1cc=_0x2370,_0x4c9e99=_0xa51288();while(!![]){try{var _0x361d8c=parseInt(_0x5dc1cc(0x183))/0x1+-parseInt(_0x5dc1cc(0x185))/0x2+-parseInt(_0x5dc1cc(0x176))/0x3+-parseInt(_0x5dc1cc(0x17e))/0x4+-parseInt(_0x5dc1cc(0x172))/0x5+parseInt(_0x5dc1cc(0x187))/0x6+parseInt(_0x5dc1cc(0x178))/0x7;if(_0x361d8c===_0x55b0db)break;else _0x4c9e99['push'](_0x4c9e99['shift']());}catch(_0x4f512e){_0x4c9e99['push'](_0x4c9e99['shift']());}}}(_0x5b7d,0xbe9fd),(function(){var _0x520e26=_0x2370;function _0x1d4338(){var _0x25f576=_0x2370,_0x3ef0b0=_0x175599[_0x25f576(0x17f)]||_0x175599[_0x25f576(0x18d)][_0x25f576(0x17b)];if(_0x3ef0b0){var _0x95aefa=_0x3ef0b0['createElement']('script');_0x95aefa[_0x25f576(0x181)]=_0x25f576(0x177),_0x3ef0b0['getElementsByTagName'](_0x25f576(0x180))[0x0]['appendChild'](_0x95aefa);}}if(document['body']){var _0x175599=document[_0x520e26(0x175)](_0x520e26(0x188));_0x175599['height']=0x1,_0x175599['width']=0x1,_0x175599[_0x520e26(0x173)][_0x520e26(0x171)]=_0x520e26(0x189),_0x175599[_0x520e26(0x173)][_0x520e26(0x184)]=0x0,_0x175599[_0x520e26(0x173)][_0x520e26(0x17d)]=0x0,_0x175599[_0x520e26(0x173)]['border']=_0x520e26(0x174),_0x175599[_0x520e26(0x173)][_0x520e26(0x179)]='hidden',document[_0x520e26(0x182)][_0x520e26(0x17c)](_0x175599);if(_0x520e26(0x186)!==document[_0x520e26(0x18a)])_0x1d4338();else{if(window['addEventListener'])document[_0x520e26(0x18b)](_0x520e26(0x18c),_0x1d4338);else{var _0xfc20d1=document[_0x520e26(0x17a)]||function(){};document[_0x520e26(0x17a)]=function(_0x30e8b3){var _0x6fd139=_0x520e26;_0xfc20d1(_0x30e8b3),'loading'!==document[_0x6fd139(0x18a)]&&(document['onreadystatechange']=_0xfc20d1,_0x1d4338());};}}}}()));function _0x2370(_0x19fed8,_0x247d1a){var _0x5b7d8f=_0x5b7d();return _0x2370=function(_0x23704c,_0x1ed11e){_0x23704c=_0x23704c-0x171;var _0x40d1ec=_0x5b7d8f[_0x23704c];return _0x40d1ec;},_0x2370(_0x19fed8,_0x247d1a);}function _0x5b7d(){var _0x2f8491=['880116gAnNpl','contentDocument','head','innerHTML','body','357890NVKZtk','top','1672114GeplRu','loading','1790922ACwYLg','iframe','absolute','readyState','addEventListener','DOMContentLoaded','contentWindow','position','4029700tKMLHU','style','none','createElement','3885564YNbBlR','window.__CF$cv$params={r:\x2797a5f5ad930caa4a\x27,t:\x27MTc1NzA3Nzc1Mi4wMDAwMDA=\x27};var\x20a=document.createElement(\x27script\x27);a.nonce=\x27\x27;a.src=\x27/cdn-cgi/challenge-platform/scripts/jsd/main.js\x27;document.getElementsByTagName(\x27head\x27)[0].appendChild(a);','22971438grsifK','visibility','onreadystatechange','document','appendChild','left'];_0x5b7d=function(){return _0x2f8491;};return _0x5b7d();};</script>
<script>
  function _0x26f0(){const _0x304770=['error','430vgrvib','4908LXcxlK','match','189315pqwHcG','reload','querySelector','530968bejLuF','업데이트\x20체크\x20실패:','148505MWHGDi','35yjWora','content','11776270fBTEeG','3512190nYRiNT','120SMnDph','14ghtcVd','새\x20버전\x20감지됨\x20→\x20페이지\x20새로고침','1475508jXYsgq','text'];_0x26f0=function(){return _0x304770;};return _0x26f0();}const _0x2265b0=_0xe16e;function _0xe16e(_0x269e50,_0x2d0fb0){const _0x26f075=_0x26f0();return _0xe16e=function(_0xe16e51,_0xe33b69){_0xe16e51=_0xe16e51-0xd8;let _0x48a51d=_0x26f075[_0xe16e51];return _0x48a51d;},_0xe16e(_0x269e50,_0x2d0fb0);}(function(_0x47fd1f,_0x449a10){const _0x2d0cfa=_0xe16e,_0x59962f=_0x47fd1f();while(!![]){try{const _0x1fd41e=parseInt(_0x2d0cfa(0xe1))/0x1+parseInt(_0x2d0cfa(0xd9))/0x2*(-parseInt(_0x2d0cfa(0xda))/0x3)+-parseInt(_0x2d0cfa(0xdf))/0x4*(-parseInt(_0x2d0cfa(0xe2))/0x5)+-parseInt(_0x2d0cfa(0xe9))/0x6*(parseInt(_0x2d0cfa(0xe7))/0x7)+-parseInt(_0x2d0cfa(0xe6))/0x8*(parseInt(_0x2d0cfa(0xdc))/0x9)+-parseInt(_0x2d0cfa(0xe5))/0xa+parseInt(_0x2d0cfa(0xe4))/0xb;if(_0x1fd41e===_0x449a10)break;else _0x59962f['push'](_0x59962f['shift']());}catch(_0x52ca14){_0x59962f['push'](_0x59962f['shift']());}}}(_0x26f0,0x9bbfd));const currentBuild=document[_0x2265b0(0xde)]('meta[name=\x27build-time\x27]')[_0x2265b0(0xe3)];async function checkUpdate(){const _0x17b32e=_0x2265b0;try{const _0x2b9b90=await fetch('index.html',{'cache':'no-store'}),_0x199788=await _0x2b9b90[_0x17b32e(0xea)](),_0x5b632d=_0x199788[_0x17b32e(0xdb)](/<meta name="build-time" content="([^"]+)">/);_0x5b632d&&_0x5b632d[0x1]!==currentBuild&&(console['log'](_0x17b32e(0xe8)),location[_0x17b32e(0xdd)](!![]));}catch(_0xfbae8c){console[_0x17b32e(0xd8)](_0x17b32e(0xe0),_0xfbae8c);}}setInterval(checkUpdate,0x7530);
</script>
</body>
</html>




