<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="build-time" content="2025-09-08T00:15:00">
    <title>íœë˜í‹°ìŠ¤íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        .glow-button {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .glow-button:hover, .glow-button:active {
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.8);
            transform: translateY(-2px);
        }
        .currency-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        .gacha-button {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        .gacha-button:hover, .gacha-button:active {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(245, 87, 108, 0.4);
        }
        .point-button {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        /* ë“±ê¸‰ë³„ ë°°ê²½ìƒ‰ */
        .grade-common {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #495057;
        }
        .grade-rare {
            background: linear-gradient(135deg, #51cf66 0%, #40c057 100%);
            color: white;
        }
        .grade-epic {
            background: linear-gradient(135deg, #9775fa 0%, #845ef7 100%);
            color: white;
        }
        .grade-legendary {
            background: linear-gradient(135deg, #ffd43b 0%, #fab005 100%);
            color: #495057;
        }
        .grade-unique {
            background: linear-gradient(45deg, #ff6b6b 0%, #feca57 16.66%, #48dbfb 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-special {
            background: linear-gradient(45deg, #ff6b6b 0%, #fab005 16.66%, #fa5005 33.33%, #0abde3 50%, #ff9ff3 66.66%, #54a0ff 83.33%, #5f27cd 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        .grade-event {
            background: linear-gradient(45deg, #ff6b6b 0%, #fa6347 16.66%, #f6b65a 33.33%, #599468 50%, #0099ff 83.33%, #bf9424 100%);
            background-size: 400% 400%;
            animation: rainbow 3s ease infinite;
            color: white;
        }
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 640px) {
            .currency-card {
                padding: 1rem;
                min-width: 120px;
            }
            .currency-card .text-3xl {
                font-size: 1.5rem;
            }
            .point-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            .gacha-button {
                padding: 1.25rem 2.5rem;
                font-size: 1.125rem;
            }
        }
        
        @media (max-width: 480px) {
            .currency-card {
                padding: 0.75rem;
                min-width: 100px;
            }
            .currency-card .text-3xl {
                font-size: 1.25rem;
            }
            .point-button {
                padding: 0.875rem 1.5rem;
                font-size: 0.875rem;
            }
            .gacha-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex flex-col items-center justify-center p-4">
    
    <!-- ë©”ì¸ UI ì˜ì—­ -->
    <div id="mainUI" class="transition-opacity duration-500">
        <!-- ì¬í™” í‘œì‹œ ì˜ì—­ -->
        <div class="flex gap-4 sm:gap-6 mb-8 sm:mb-12">
            <!-- í¬ì¸íŠ¸ -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">í¬ì¸íŠ¸</div>
                <div id="points" class="text-3xl font-bold">0</div>
            </div>
            
            <!-- í”„ë¦¬ì¦˜ -->
            <div class="currency-card rounded-2xl p-6 text-center text-white shadow-2xl">
                <div class="text-xs sm:text-sm font-medium opacity-80 mb-2">í”„ë¦¬ì¦˜</div>
                <div id="prisms" class="text-3xl font-bold">0</div>
            </div>
        </div>

        <!-- ê²Œì„ ë²„íŠ¼ ì˜ì—­ -->
        <div class="flex flex-col items-center gap-4 sm:gap-6">
            <!-- ìƒë‹¨ ë²„íŠ¼ë“¤ -->
            <div class="flex gap-4 items-center">
                <!-- í¬ì¸íŠ¸ íšë“ ë²„íŠ¼ -->
                <button id="earnPointsBtn" class="point-button glow-button px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation">
                    âœ¨ í¬ì¸íŠ¸ íšë“ âœ¨
                </button>
                
                <!-- ì¸ë²¤í† ë¦¬ ë²„íŠ¼ -->
                <button id="inventoryBtn" class="bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    ğŸ’ ì¸ë²¤í† ë¦¬
                </button>
                
                <!-- ì„¤ì • ë²„íŠ¼ -->
                <button id="settingsBtn" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 px-8 py-3 rounded-full text-white font-bold text-lg shadow-2xl touch-manipulation transition-all duration-300">
                    âš™ï¸ ì„¤ì •
                </button>
            </div>
            
            <!-- ìƒì  ë²„íŠ¼ -->
            <button id="shopBtn" class="gacha-button px-16 py-5 rounded-full text-white font-bold text-2xl shadow-2xl touch-manipulation">
                ğŸª ìƒì  ğŸª
            </button>
            <!-- ì½”ë“œ ì…ë ¥ ì˜ì—­ -->
                <div class="mt-4 flex flex-col items-center gap-2">
                    <label for="codeInput" class="text-white text-sm">ğŸ ì½”ë“œ ì…ë ¥</label>
                    <div class="flex gap-2">
                        <input id="codeInput" type="text" 
                           placeholder="ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                           class="px-3 py-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-400" />
                        <button id="redeemCodeBtn"
                                class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 px-4 py-2 rounded-lg text-white font-bold transition-all duration-300">
                            í™•ì¸
                        </button>
                    </div>
                    <p id="codeMessage" class="text-xs text-gray-300 mt-1"></p>
                </div>
            <!-- íŒ¨ì¹˜ë…¸íŠ¸ ë²„íŠ¼ -->
<div class="absolute bottom-4 right-4">
  <button id="patchNoteBtn"
          class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-lg text-sm">
    íŒ¨ì¹˜ë…¸íŠ¸
  </button>
</div>
            <!-- ì¥ì°©ëœ ë³´ì„ í‘œì‹œ -->
            <div id="equippedGemDisplay" class="mt-4 bg-white bg-opacity-10 rounded-xl p-4 text-center text-white opacity-0 transition-all duration-300">
                <div class="text-sm opacity-80 mb-2">ì¥ì°©ëœ ë³´ì„</div>
                <div id="equippedGemIcon" class="text-3xl mb-2">ğŸ’</div>
                <div id="equippedGemName" class="font-bold mb-1">ë³´ì„ ì´ë¦„</div>
                <div id="equippedGemStats" class="text-sm opacity-80">ì½”ëŸ¬ìŠ¤ +1</div>
            </div>
        </div>

        <!-- ê²°ê³¼ ë©”ì‹œì§€ -->
        <div id="message" class="mt-6 sm:mt-8 text-center text-white font-medium text-base sm:text-lg opacity-0 transition-opacity duration-300 px-4"></div>
    </div>

    <!-- ë½‘ê¸° ëª¨ì…˜ í™”ë©´ -->
    <div id="gachaScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="text-center">
            <!-- ì›ì„ ì´ë¯¸ì§€ (ë‚˜ì¤‘ì— ì‹¤ì œ ì´ë¯¸ì§€ë¡œ êµì²´ ê°€ëŠ¥) -->
            <div id="gemstone" class="w-32 h-32 sm:w-40 sm:h-40 bg-gray-300 rounded-lg mx-auto mb-6 cursor-pointer transform transition-all duration-300 hover:scale-110 shadow-2xl flex items-center justify-center text-4xl">
                ğŸ’
            </div>
            <p id="gachaText" class="text-white text-lg sm:text-xl font-medium">ì›ì„ì„ í´ë¦­í•˜ì„¸ìš”!</p>
        </div>
    </div>

    <!-- ë“±ê¸‰ ê³µê°œ í™”ë©´ -->
    <div id="revealScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000">
        <div class="text-center">
            <div id="gradeText" class="text-6xl sm:text-8xl font-bold mb-4 drop-shadow-2xl"></div>
            <p id="revealMessage" class="text-white text-xl sm:text-2xl font-medium mb-8">ë“±ê¸‰ì´ ê³µê°œë˜ì—ˆìŠµë‹ˆë‹¤!</p>
            <button id="continueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                ê³„ì†í•˜ê¸°
            </button>
        </div>
    </div>

    <!-- ë³´ì„ íšë“ í™”ë©´ -->
    <div id="gemRewardScreen" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
        <div class="text-center max-w-4xl w-full px-4">
            <!-- ë‹¨ì¼ ë³´ì„ í‘œì‹œ (1íšŒ ë½‘ê¸°ìš©) -->
            <div id="singleReward" class="hidden">
                <div id="rewardGemImage" class="w-24 h-24 sm:w-32 sm:h-32 bg-yellow-400 rounded-full mx-auto mb-6 shadow-2xl flex items-center justify-center text-3xl sm:text-4xl">
                    ğŸ’
                </div>
                <div id="rewardText" class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">1ë³´ì„ íšë“!</div>
            </div>
            
            <!-- ë‹¤ì¤‘ ë³´ì„ í‘œì‹œ (10íšŒ ë½‘ê¸°ìš©) -->
            <div id="multipleReward" class="hidden">
                <div class="text-4xl sm:text-6xl font-bold text-white mb-8 drop-shadow-2xl">10ê°œ ë³´ì„ íšë“!</div>
                <div id="multipleGemGrid" class="grid grid-cols-5 gap-4 mb-8 max-w-2xl mx-auto">
                    <!-- 10ê°œ ë³´ì„ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <button id="finalContinueBtn" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-8 py-3 rounded-full text-white font-bold text-lg transition-all duration-300">
                í™•ì¸
            </button>
        </div>
    </div>

    <!-- ìƒì  ë©”ì¸ í™”ë©´ -->
    <div id="shopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- ìƒì  í—¤ë” -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">ğŸª ìƒì </h2>
                <button id="closeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    âœ• ë‹«ê¸°
                </button>
            </div>
            
            <!-- ìƒì  ë©”ë‰´ -->
            <div class="space-y-4">
                <button onclick="openGachaShop()" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    â›ï¸ ì›ì„ ì±„êµ´ì¥
                </button>
                <button onclick="openVolumeShop()" class="w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 px-6 py-4 rounded-xl text-white font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3">
                    ğŸ“¦ ë³¼ë¥¨ ìƒì 
                </button>
            </div>
        </div>
    </div>

    <!-- ì›ì„ ì±„êµ´ì¥ í™”ë©´ -->
    <div id="gachaShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl max-h-[90vh] p-6 flex flex-col">
            <!-- ì±„êµ´ì¥ í—¤ë” -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">â›ï¸ ì›ì„ ì±„êµ´ì¥</h2>
                <button id="closeGachaShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    âœ• ë‹«ê¸°
                </button>
            </div>
            
            <!-- ë½‘ê¸° ëª©ë¡ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥) -->
            <div class="space-y-4 overflow-y-auto flex-1 pr-2" style="scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.3) transparent;">
                <style>
                    /* ì›¹í‚· ë¸Œë¼ìš°ì €ìš© ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
                    .space-y-4::-webkit-scrollbar {
                        width: 6px;
                    }
                    .space-y-4::-webkit-scrollbar-track {
                        background: rgba(255,255,255,0.1);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb {
                        background: rgba(255,255,255,0.3);
                        border-radius: 3px;
                    }
                    .space-y-4::-webkit-scrollbar-thumb:hover {
                        background: rgba(255,255,255,0.5);
                    }
                </style>
                <!-- ì´ˆì‹¬ìì˜ ì›ì„ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">ğŸª¨ ì´ˆì‹¬ìì˜ ì›ì„</h3>
                        <p class="text-gray-300 text-sm">ê¸°ë³¸ì ì¸ ë³´ì„ì´ ë‚˜ì˜¤ëŠ” ì›ì„ì…ë‹ˆë‹¤</p>
                        <p class="text-blue-300 font-medium">ğŸ’° 10 í¬ì¸íŠ¸ | ğŸ’° 100 í¬ì¸íŠ¸ (10íšŒ)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('beginner')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1íšŒ ë½‘ê¸°
                        </button>
                        <button onclick="startGacha('beginner', 10)" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10íšŒ ë½‘ê¸°
                        </button>
                    </div>
                </div>
                
                <!-- ë¹›ë‚˜ëŠ” ì›ì„ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">âœ¨ ë¹›ë‚˜ëŠ” ì›ì„</h3>
                        <p class="text-gray-300 text-sm">ê· í˜•ì¡íŒ í™•ë¥ ì˜ ì›ì„ì…ë‹ˆë‹¤</p>
                        <p class="text-purple-300 font-medium">ğŸ’ 5 í”„ë¦¬ì¦˜ | ğŸ’ 50 í”„ë¦¬ì¦˜ (10íšŒ)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('normal')" class="bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1íšŒ ë½‘ê¸°
                        </button>
                        <button onclick="startGacha('normal', 10)" class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10íšŒ ë½‘ê¸°
                        </button>
                    </div>
                </div>
                
                <!-- ì˜ë¡±í•œ ì›ì„ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">ğŸŒŸ ì˜ë¡±í•œ ì›ì„</h3>
                        <p class="text-gray-300 text-sm">ê³ ê¸‰ ë³´ì„ì´ ë” ì˜ ë‚˜ì˜¤ëŠ” ì›ì„ì…ë‹ˆë‹¤</p>
                        <p class="text-purple-300 font-medium">ğŸ’ 30 í”„ë¦¬ì¦˜ | ğŸ’ 300 í”„ë¦¬ì¦˜ (10íšŒ)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('premium')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1íšŒ ë½‘ê¸°
                        </button>
                        <button onclick="startGacha('premium', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10íšŒ ë½‘ê¸°
                        </button>
                    </div>
                </div>
                
                <!-- ì‹œì¦Œ í”½ì—… ì›ì„ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">ğŸ’ 0.5 ì‹œì¦Œ í”½ì—… ì›ì„</h3>
                        <p class="text-gray-300 text-sm">ìŠ¤ì¹´ì´ ì‹œì¦Œ ë©”ì¸ ë³´ì„ì¸ ì—í”½:ì˜¤íŒ”, ìŠ¤í˜ì…œ:???,???ì´ ë†’ì€ í™•ë¥ ë¡œ ë‚˜ì˜¤ëŠ” ì›ì„ì…ë‹ˆë‹¤.</p>
                        <p class="text-purple-300 font-medium">ğŸ’ 50í”„ë¦¬ì¦˜ | ğŸ’ 500í”„ë¦¬ì¦˜ (10íšŒ)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('luxury')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1íšŒ ë½‘ê¸°
                        </button>
                        <button onclick="startGacha('luxury', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10íšŒ ë½‘ê¸°
                        </button>
                    </div>
                </div>

                <!-- í¬ì¸íŠ¸ ì›ì„ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">ğŸ’° í¬ì¸íŠ¸ ì›ì„</h3>
                        <p class="text-gray-300 text-sm">í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³ ê¸‰ ì›ì„ì…ë‹ˆë‹¤.</p>
                        <p class="text-purple-300 font-medium">ğŸ’° 100,000 í¬ì¸íŠ¸ | ğŸ’° 1,000,000 í¬ì¸íŠ¸ (10íšŒ)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('pointer')" class="bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1íšŒ ë½‘ê¸°
                        </button>
                        <button onclick="startGacha('pointer', 10)" class="bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10íšŒ ë½‘ê¸°
                        </button>
                    </div>
                </div>

                <!-- ì´ë²¤íŠ¸ ì›ì„ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4 flex justify-between items-center">
                    <div>
                        <h3 class="text-lg font-bold text-white mb-1">ğŸ ì´ë²¤íŠ¸ ì›ì„</h3>
                        <p class="text-gray-300 text-sm">ì´ë²¤íŠ¸ ë“±ê¸‰ ì •ì œëœ ì›ì„ì„ ë½‘ì„ ìˆ˜ ìˆëŠ” ì›ì„ì…ë‹ˆë‹¤.</p>
                        <p class="text-purple-300 font-medium">ì°¨ìŠ¤í‹°ì›€x1 + 50,000 í¬ì¸íŠ¸ | ì°¨ìŠ¤í‹°ì›€x10 + 500,000í¬ì¸íŠ¸ (10íšŒ)</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startGacha('event')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            1íšŒ ë½‘ê¸°
                        </button>
                        <button onclick="startGacha('event', 10)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            10íšŒ ë½‘ê¸°
                        </button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- ë³¼ë¥¨ ìƒì  í™”ë©´ -->
    <div id="volumeShopScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-2xl p-6">
            <!-- ë³¼ë¥¨ ìƒì  í—¤ë” -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">ğŸ“¦ ë³¼ë¥¨ ìƒì </h2>
                <button id="closeVolumeShopBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    âœ• ë‹«ê¸°
                </button>
            </div>
            
            <!-- ë³¼ë¥¨ ëª©ë¡ -->
            <div class="space-y-4">
                <!-- ë©€í‹° ë³¼ë¥¨ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">ğŸ”¢ ë©€í‹° ë³¼ë¥¨</h3>
                            <p class="text-gray-300 text-sm mb-2">ì¥ì°©í•œ ë³´ì„ì˜ ë°°ìœ¨ì„ í•©ì—°ì‚°ìœ¼ë¡œ ë”í•´ì¤ë‹ˆë‹¤</p>
                            <p class="text-blue-300 font-medium">ğŸ’° 100,000 í¬ì¸íŠ¸</p>
                            <p id="multiVolumeStatus" class="text-xs text-gray-400 mt-1">ë¯¸ë³´ìœ </p>
                        </div>
                        <button id="buyMultiVolumeBtn" onclick="buyVolume('multi')" class="bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            êµ¬ë§¤
                        </button>
                    </div>
                </div>
                
                <!-- ì½”ëŸ¬ìŠ¤ ë³¼ë¥¨ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">ğŸµ ì½”ëŸ¬ìŠ¤ ë³¼ë¥¨</h3>
                            <p class="text-gray-300 text-sm mb-2">ì¥ì°©í•œ ë³´ì„ì˜ ì½”ëŸ¬ìŠ¤ë¥¼ ë”í•´ì¤ë‹ˆë‹¤</p>
                            <p class="text-blue-300 font-medium">ğŸ’° 55,000 í¬ì¸íŠ¸</p>
                            <p id="chorusVolumeStatus" class="text-xs text-gray-400 mt-1">ë¯¸ë³´ìœ </p>
                        </div>
                        <button id="buyChorusVolumeBtn" onclick="buyVolume('chorus')" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            êµ¬ë§¤
                        </button>
                    </div>
                </div>
                
                <!-- ëŸ­ìŠ¤ ë³¼ë¥¨ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-lg font-bold text-white mb-1">âœ¨ ëŸ­ìŠ¤ ë³¼ë¥¨</h3>
                            <p class="text-gray-300 text-sm mb-2">ì¥ì°©í•œ ë³´ì„ì˜ íœ˜ê´‘ í™•ë¥ ì„ ë”í•´ì¤ë‹ˆë‹¤</p>
                            <p class="text-purple-300 font-medium">ğŸ’ 100 í”„ë¦¬ì¦˜ + ì „ì„¤ ì´ìƒ ë³´ì„ 1ê°œ</p>
                            <p id="luxVolumeStatus" class="text-xs text-gray-400 mt-1">ë¯¸ë³´ìœ </p>
                        </div>
                        <button id="buyLuxVolumeBtn" onclick="buyVolume('lux')" class="bg-gradient-to-r from-yellow-400 to-pink-500 hover:from-yellow-500 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                            êµ¬ë§¤
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì„¤ì • í™”ë©´ -->
    <div id="settingsScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-md p-6">
            <!-- ì„¤ì • í—¤ë” -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">âš™ï¸ ì„¤ì •</h2>
                <button id="closeSettingsBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    âœ• ë‹«ê¸°
                </button>
            </div>
            
            <!-- ì„¤ì • ì˜µì…˜ë“¤ -->
            <div class="space-y-4">
                <!-- ìˆ˜ë™ ì €ì¥ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">ğŸ’¾ ê²Œì„ ì €ì¥</h3>
                    <p class="text-gray-300 text-sm mb-3">ê²Œì„ì´ ìë™ìœ¼ë¡œ ì €ì¥ë˜ì§€ë§Œ, ìˆ˜ë™ìœ¼ë¡œë„ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    <button onclick="saveGameData(); showMessage('ê²Œì„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'text-green-300')" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        ì €ì¥í•˜ê¸°
                    </button>
                </div>
                
                <!-- ë°ì´í„° ì´ˆê¸°í™” -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">ğŸ—‘ï¸ ë°ì´í„° ì´ˆê¸°í™”</h3>
                    <p class="text-gray-300 text-sm mb-3">ëª¨ë“  ê²Œì„ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³  ì²˜ìŒë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.</p>
                    <button onclick="resetGameData()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                        ì´ˆê¸°í™”
                    </button>
                </div>
                
                <!-- ì €ì¥ ì •ë³´ -->
                <div class="bg-white bg-opacity-5 rounded-xl p-4">
                    <h3 class="text-lg font-bold text-white mb-2">ğŸ“Š ì €ì¥ ì •ë³´</h3>
                    <div id="saveInfo" class="text-gray-300 text-sm">
                        <p>â€¢ ë°ì´í„°ëŠ” ë¸Œë¼ìš°ì €ì— ìë™ ì €ì¥ë©ë‹ˆë‹¤</p>
                        <p>â€¢ ë¸Œë¼ìš°ì € ë°ì´í„°ë¥¼ ì‚­ì œí•˜ë©´ ê²Œì„ ë°ì´í„°ë„ ì‚¬ë¼ì§‘ë‹ˆë‹¤</p>
                        <p>â€¢ ê°™ì€ ë¸Œë¼ìš°ì €ì—ì„œë§Œ ë°ì´í„°ê°€ ìœ ì§€ë©ë‹ˆë‹¤</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì¸ë²¤í† ë¦¬ í™”ë©´ -->
    <div id="inventoryScreen" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-500">
        <div class="bg-white bg-opacity-10 backdrop-blur-lg rounded-2xl w-11/12 max-w-4xl h-5/6 max-h-96 sm:max-h-screen sm:h-4/5 p-6 flex flex-col">
            <!-- ì¸ë²¤í† ë¦¬ í—¤ë” -->
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-white">ğŸ’ ì¸ë²¤í† ë¦¬</h2>
                <button id="closeInventoryBtn" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">
                    âœ• ë‹«ê¸°
                </button>
            </div>
            
            <!-- ì¸ë²¤í† ë¦¬ ë‚´ìš© -->
            <div class="flex flex-1 gap-6 overflow-hidden">
                <!-- ì¢Œì¸¡: ë³´ì„ ë¦¬ìŠ¤íŠ¸ -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <h3 class="text-lg font-bold text-white mb-4">ë³´ì„ ëª©ë¡</h3>
                    <div id="gemList" class="grid grid-cols-3 sm:grid-cols-4 gap-3">
                        <!-- ë³´ì„ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                    </div>
                </div>
                
                <!-- ìš°ì¸¡: ë³´ì„ ìƒì„¸ ì •ë³´ ë° ì¥ì°© ìŠ¬ë¡¯ -->
                <div class="w-1/2 bg-white bg-opacity-5 rounded-xl p-4 overflow-y-auto">
                    <!-- ì¥ì°© ìŠ¬ë¡¯ -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-white mb-3">ì¥ì°© ìŠ¬ë¡¯</h3>
                        <div id="equipmentSlots" class="grid grid-cols-2 gap-2 mb-4">
                            <!-- ì¥ì°© ìŠ¬ë¡¯ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </div>
                        <div class="text-xs text-gray-400">
                            <span id="slotInfo">ìŠ¬ë¡¯ 1/1 ì‚¬ìš© ì¤‘</span>
                        </div>
                    </div>
                    
                    <!-- ë³´ì„ ìƒì„¸ ì •ë³´ -->
                    <div id="gemDetails" class="text-center text-white">
                        <div class="text-6xl mb-4">ğŸ’</div>
                        <h3 class="text-xl font-bold mb-2">ë³´ì„ì„ ì„ íƒí•˜ì„¸ìš”</h3>
                        <p class="text-gray-300">ì¢Œì¸¡ì—ì„œ ë³´ì„ì„ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- íŒ¨ì¹˜ë…¸íŠ¸ ëª¨ë‹¬ -->
<div id="patchNoteModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 max-h-[80vh] overflow-y-auto p-6 relative">
    <h2 class="text-lg font-bold mb-4">ğŸ“œ íŒ¨ì¹˜ë…¸íŠ¸</h2>
    <pre id="patchNoteContent" class="text-sm whitespace-pre-wrap text-gray-800"></pre>
    <button id="closePatchNote" 
            class="absolute top-2 right-2 text-gray-500 hover:text-black">âœ–</button>
  </div>
</div>
    <!-- ë§¤í¬ë¡œ ê°ì§€ ëª¨ë‹¬ -->
<div id="macroModal" 
     class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-96 p-6 text-center relative">
    <p class="text-lg font-bold text-red-600 mb-4">ğŸš¨ ê²½ê³ </p>
    <p id="macroText" class="text-gray-800">
      ë©”í¬ë¡œê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
      30ì´ˆê°„ ì•„ë¬´ ì…ë ¥ì´ ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ ë‹«í™ë‹ˆë‹¤.
    </p>
  </div>
</div>
    <script>let points = 0,
  prisms = 0,
  gems = 0,
  chorus = 0,
  multiple = 1,
  isGachaActive = false,
  inventory = {},
  equippedGems = [],
  currentGachaResults = [],
  volumes = {
    multi: false,
    chorus: false,
    lux: false,
  },
  maxSlots = 1
const pointsDisplay = document.getElementById('points'),
  prismsDisplay = document.getElementById('prisms'),
  earnPointsBtn = document.getElementById('earnPointsBtn'),
  shopBtn = document.getElementById('shopBtn'),
  inventoryBtn = document.getElementById('inventoryBtn'),
  messageDiv = document.getElementById('message'),
  gemData = {
    1: {
      name: 'ì‘ì€ ìˆ˜ì •',
      emoji: '\uD83D\uDC8E',
      chorus: 1,
      multiple: 1,
      description: 'ì‘ê³  íˆ¬ëª…í•œ ìˆ˜ì •ì…ë‹ˆë‹¤.',
    },
    2: {
      name: 'í‘¸ë¥¸ ìˆ˜ì •',
      emoji: '\uD83D\uDD37',
      chorus: 2,
      multiple: 1,
      description: 'í‘¸ë¥¸ë¹›ì´ ë„ëŠ” ì•„ë¦„ë‹¤ìš´ ìˆ˜ì •ì…ë‹ˆë‹¤.',
    },
    3: {
      name: 'ë¶‰ì€ ìˆ˜ì •',
      emoji: '\uD83D\uDD36',
      chorus: 3,
      multiple: 1,
      description: 'ë¶‰ì€ë¹›ì´ ë„ëŠ” í™”ë ¤í•œ ìˆ˜ì •ì…ë‹ˆë‹¤.',
    },
    4: {
      name: 'ì—ë©”ë„ë“œ',
      emoji: '\uD83D\uDC9A',
      chorus: 4,
      multiple: 1,
      description: 'ì‹ ë¹„ë¡œìš´ ë…¹ìƒ‰ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    5: {
      name: 'ì‚¬íŒŒì´ì–´',
      emoji: '\uD83D\uDC99',
      chorus: 5,
      multiple: 1,
      description: 'ê¹Šì€ íŒŒë€ìƒ‰ì˜ ê³ ê¸‰ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    6: {
      name: 'ë£¨ë¹„',
      emoji: '\u2764ï¸',
      chorus: 6,
      multiple: 1,
      description: 'ì •ì—´ì ì¸ ë¹¨ê°„ìƒ‰ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    7: {
      name: 'ììˆ˜ì •',
      emoji: '\uD83D\uDC9C',
      chorus: 7,
      multiple: 1.1,
      description: 'ê³ ê·€í•œ ë³´ë¼ìƒ‰ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    8: {
      name: 'í™©ê¸ˆì„',
      emoji: '\uD83D\uDC9B',
      chorus: 8,
      multiple: 1.2,
      description: 'í™©ê¸ˆë¹›ìœ¼ë¡œ ë¹›ë‚˜ëŠ” ë³´ì„ì…ë‹ˆë‹¤.',
    },
    9: {
      name: 'ë‹¤ì´ì•„ëª¬ë“œ',
      emoji: '\uD83D\uDC8D',
      chorus: 9,
      multiple: 1.3,
      description: 'ê°€ì¥ ë‹¨ë‹¨í•˜ê³  ë¹›ë‚˜ëŠ” ë³´ì„ì…ë‹ˆë‹¤.',
    },
    10: {
      name: 'ì˜¤íŒ”',
      emoji: '\uD83C\uDF08',
      chorus: 10,
      multiple: 1.4,
      lux: 0.5,
      description: 'ë¬´ì§€ê°œë¹›ìœ¼ë¡œ ë³€í•˜ëŠ” ì‹ ë¹„í•œ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    11: {
      name: 'ì§„ì£¼',
      emoji: '\uD83E\uDD0D',
      chorus: 11,
      multiple: 1.5,
      lux: 0.8,
      description: 'ë°”ë‹¤ì—ì„œ ì˜¨ ìˆœë°±ì˜ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    12: {
      name: 'í† íŒŒì¦ˆ',
      emoji: '\uD83E\uDDE1',
      chorus: 12,
      multiple: 1.6,
      lux: 1,
      description: 'ë”°ëœ»í•œ ì£¼í™©ë¹›ì˜ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    13: {
      name: 'ë³„ì˜ ì¡°ê°',
      emoji: '\u2B50',
      chorus: 15,
      multiple: 2,
      lux: 2.5,
      description: 'í•˜ëŠ˜ì—ì„œ ë–¨ì–´ì§„ ë³„ì˜ ì¡°ê°ì…ë‹ˆë‹¤.',
    },
    14: {
      name: 'ë‹¬ì˜ ëˆˆë¬¼',
      emoji: '\uD83C\uDF19',
      chorus: 20,
      multiple: 2.5,
      lux: 4,
      description: 'ë‹¬ë¹›ì´ ì‘ì¶•ëœ ì‹ ë¹„í•œ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    15: {
      name: 'íƒœì–‘ì˜ ì‹¬ì¥',
      emoji: '\u2600ï¸',
      chorus: 25,
      multiple: 3,
      lux: 5,
      description: 'íƒœì–‘ì˜ í˜ì´ ë‹´ê¸´ ì „ì„¤ì˜ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    16: {
      name: 'ì¹´ë¥´ë§ˆ ë²¨',
      emoji: '\u262F',
      chorus: 34,
      multiple: 3.4,
      lux: 6,
      description:
        'ìˆ˜ë°±ë…„ì „ ë–¨ì–´ì§„ í˜œì„±ì—ì„œ ë–¨ì–´ì§„ íŒŒí¸ì…ë‹ˆë‹¤. ì–´ì©ì§€ í„¸ì´..ë‚ ë¦¬ëŠ”ê²ƒ ê°™ë„¤ìš”?',
    },
    17: {
      name: 'íŒŒì‹œí‹°ì…˜íŠ¸',
      emoji: '\uD83D\uDD2E',
      chorus: 36,
      multiple: 4,
      lux: 10,
      description: 'íƒœí‰ì–‘ ì–´ëŠ ì‹¬í•´ì—ì„œ ë°œê²¬ëœ ë¹›ì´ë‚˜ëŠ” ë³´ì„ì…ë‹ˆë‹¤.',
    },
    18: {
      name: 'í´ë¦¬ ì•„ì´ë“œ',
      emoji: '\uD83E\uDDFF',
      chorus: 30,
      multiple: 4.1,
      lux: 8.3,
      description: 'í‘¸ë¥¸ë¹›ì˜ ëˆˆì²˜ëŸ¼ ìƒê¸´ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    19: {
      name: 'íŒ”ë¼í‹± ì¡°ì»¤',
      emoji: '\uD83C\uDCCF',
      chorus: 17,
      multiple: 7.7,
      lux: 7.7,
      description:
        '<ë‹¤ì´ìŠ¤ ë£¸> ì¹´ì§€ë…¸ì—ì„œ ë§Œë“  ì¸ì¡° ë³´ì„ì…ë‹ˆë‹¤. VIPì—ê²Œ í–‰ìš´ì„ ê¸°ì›í•˜ëŠ” ì˜ë¯¸ë¡œ ì£¼ì–´ì§‘ë‹ˆë‹¤.',
    },
    20: {
      name: 'ë‹¤ì´ìŠ¤í†¤',
      emoji: '\uD83C\uDFB2',
      chorus: 6,
      multiple: 1.6,
      description:
        '<ë‹¤ì´ìŠ¤ ë£¸> ì™¸ë²½ì„ ì´ë£¨ëŠ” ëŒ€ë¦¬ì„ê³¼ ë¹„ìŠ·í•œ ì¬ì§ˆì˜ ê´‘ì„ì…ë‹ˆë‹¤.',
    },
    21: {
      name: 'í—¬ í¬ë¦¼ìŠ¨',
      emoji: '\uD83D\uDCDB',
      chorus: 44,
      multiple: 4.4,
      lux: 4.4,
      description: 'ì§€ì˜¥ì˜ ì¡°ê°œê°€ ë±‰ì€ ì§„ì£¼ì…ë‹ˆë‹¤. ë‚´ë¶€ì— ìš©ì•”ì´ íë¦…ë‹ˆë‹¤.',
    },
    22: {
      name: 'í™€ë¦¬í‹± ë¼í”¼ìŠ¤',
      emoji: '\uD83E\uDEBD',
      chorus: 77,
      multiple: 7.7,
      lux: 7.7,
      description:
        'ì²œêµ­ì—ì„œ ì“°ëŠ” í—¤ë¸ ë¸”ë£¨ ì—¼ë£Œë¥¼ ì œì‘í• ë•Œ ì“°ëŠ” ê°’ë¹„ì‹¼ ë³´ì„ì…ë‹ˆë‹¤.',
    },
    23: {
      name: 'ì°¨ìŠ¤í‹°ì›€',
      emoji: '\uD83D\uDDB1',
      chorus: 10,
      multiple: 1.3,
      description:
        'ì•„ì£¼ ë§‘ê³  ìˆœë°±í•œ ìƒ‰ì˜ ìˆ˜ì •ì…ë‹ˆë‹¤. íŠ¹ë³„í•œ ê³³ì— ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”.',
    },
    24: {
      name: 'ì •ì œëœ ì‘ì€ ìˆ˜ì •',
      emoji: '\uD83D\uDCA0',
      chorus: 52,
      multiple: 6.3,
      lux: 5.3,
      description:
        'ìˆœê²°í•œ í˜ìœ¼ë¡œ ì •ì œëœ ì‘ì€ ìˆ˜ì •ì…ë‹ˆë‹¤. ì§„ì •í•œ í˜ì´ ê°œë°©ë˜ì—ˆìŠµë‹ˆë‹¤.',
    },
    25: {
      name: 'ì •ì¬ëœ ì˜¤íŒ”',
      emoji: '\uD83C\uDFA8',
      chorus: 69,
      multiple: 6.7,
      lux: 7,
      description:
        'ìˆœê²°í•œ í˜ìœ¼ë¡œ ì •ì œëœ ì˜¤íŒ”ì…ë‹ˆë‹¤. ì°¬ë€í•œ ë¬´ì§€ê°¯ë¹›ì´ íŠ¹ì§•ì…ë‹ˆë‹¤.',
    },
    26: {
      name: 'ì •ì œëœ í™©ê¸ˆì„',
      emoji: '\u2B50',
      chorus: 67,
      multiple: 7.1,
      lux: 6.8,
      description:
        'ìˆœê²°í•œ í˜ìœ¼ë¡œ ì •ì œëœ í™©ê¸ˆì„ì…ë‹ˆë‹¤. ë¶ˆìˆœë¬¼ ì—†ëŠ” ì§„ì§œ ìˆœ@ê¸ˆì´ì£ .',
    },
    27: {
      name: 'GM',
      emoji: '\u2B50',
      chorus: 99999,
      multiple: 1.1,
      lux: 100,
      description: 'GM.',
    },
  }
function getGemGrade(_0x20042e) {
  for (const [_0xd8daa1, _0x23e052] of Object.entries(gemRewards)) {
    if (_0x23e052.includes(parseInt(_0x20042e))) {
      return _0xd8daa1
    }
  }
  return 'ì¼ë°˜'
}
function updateDisplay() {
  pointsDisplay.textContent = points
  prismsDisplay.textContent = prisms
}
function showMessage(_0x450ca2, _0x1c0d66 = 'text-white') {
  messageDiv.textContent = _0x450ca2
  messageDiv.className =
    'mt-8 text-center font-medium text-lg transition-opacity duration-300 ' +
    _0x1c0d66
  messageDiv.style.opacity = '1'
  setTimeout(() => {
    messageDiv.style.opacity = '0'
  }, 2000)
}
function loadUsedCodes() {
  const _0x3b98ef = localStorage.getItem('usedRedeemCodes')
  return _0x3b98ef ? JSON.parse(_0x3b98ef) : []
}
function saveUsedCodes(_0x540d07) {
  localStorage.setItem('usedRedeemCodes', JSON.stringify(_0x540d07))
}
const redeemCodes = {
  ReF5in3: {
    gem: [23],
    used: false,
  },
'refundingfree': {
    prisms: 3000,
    used: false,
  },
}
document.getElementById('redeemCodeBtn').addEventListener('click', () => {
  const _0x5159fc = document.getElementById('codeInput').value.trim(),
    _0x1d9ac2 = document.getElementById('codeMessage')
  if (!_0x5159fc) {
    _0x1d9ac2.textContent = 'ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”!'
    _0x1d9ac2.className = 'text-xs text-red-400 mt-1'
    return
  }
  const _0x390508 = redeemCodes[_0x5159fc],
    _0x3a1575 = loadUsedCodes()
  if (_0x390508 && !_0x3a1575.includes(_0x5159fc)) {
    let _0x4dfa9c = []
    _0x390508.prisms &&
      ((prisms += _0x390508.prisms),
      _0x4dfa9c.push(_0x390508.prisms + ' í”„ë¦¬ì¦˜'))
    _0x390508.gem &&
      Array.isArray(_0x390508.gem) &&
      _0x390508.gem.forEach((_0x58e57e) => {
        inventory[_0x58e57e]
          ? inventory[_0x58e57e]++
          : (inventory[_0x58e57e] = 1)
        _0x4dfa9c.push(gemData[_0x58e57e].name + ' 1ê°œ')
      })
    _0x390508.gems &&
      Array.isArray(_0x390508.gems) &&
      _0x390508.gems.forEach((_0x3c8e5a) => {
        inventory[_0x3c8e5a]
          ? (inventory[_0x3c8e5a] += 20)
          : (inventory[_0x3c8e5a] = 20)
        _0x4dfa9c.push(gemData[_0x3c8e5a].name + ' 20ê°œ')
      })
    _0x3a1575.push(_0x5159fc)
    saveUsedCodes(_0x3a1575)
    _0x1d9ac2.textContent = _0x4dfa9c.join(', ') + 'ë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!'
    _0x1d9ac2.className = 'text-xs text-green-400 mt-1'
  } else {
    _0x390508 && _0x3a1575.includes(_0x5159fc)
      ? ((_0x1d9ac2.textContent = 'ì´ë¯¸ ì‚¬ìš©í•œ ì½”ë“œì…ë‹ˆë‹¤!'),
        (_0x1d9ac2.className = 'text-xs text-yellow-400 mt-1'))
      : ((_0x1d9ac2.textContent = 'ì˜ëª»ëœ ì½”ë“œì…ë‹ˆë‹¤!'),
        (_0x1d9ac2.className = 'text-xs text-red-400 mt-1'))
  }
})
document.addEventListener('keydown', function (_0x4481f4) {
  if (_0x4481f4.keyCode === 123) {
    return (
      _0x4481f4.preventDefault(),
      alert('ê°œë°œì ë„êµ¬ ì‚¬ìš©ì´ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤!'),
      false
    )
  }
  if (
    _0x4481f4.ctrlKey &&
    _0x4481f4.shiftKey &&
    (_0x4481f4.keyCode === 73 || _0x4481f4.keyCode === 74)
  ) {
    return (
      _0x4481f4.preventDefault(),
      alert('ê°œë°œì ë„êµ¬ ì‚¬ìš©ì´ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤!'),
      false
    )
  }
  if (_0x4481f4.ctrlKey && _0x4481f4.keyCode === 85) {
    return (
      _0x4481f4.preventDefault(), alert('ì†ŒìŠ¤ ë³´ê¸°ê°€ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤!'), false
    )
  }
})
document.addEventListener('contextmenu', function (_0x1f22cf) {
  _0x1f22cf.preventDefault()
  alert('ìš°í´ë¦­ì´ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤!')
})
updateDisplay()
updateInventoryDisplay()
autoSave()
let clickHistory = [],
  macroTimer = null,
  macroActive = false
const macroModal = document.getElementById('macroModal')
function openMacroModal() {
  if (macroActive) {
    return
  }
  macroActive = true
  macroModal.classList.remove('hidden')
  resetMacroCloseTimer()
}
function closeMacroModal() {
  macroActive = false
  macroModal.classList.add('hidden')
  macroTimer && (clearTimeout(macroTimer), (macroTimer = null))
  clickHistory = []
}
function resetMacroCloseTimer() {
  if (macroTimer) {
    clearTimeout(macroTimer)
  }
  macroTimer = setTimeout(() => {
    closeMacroModal()
  }, 30000)
}
document.addEventListener('click', () => {
  macroActive && resetMacroCloseTimer()
})
earnPointsBtn.addEventListener('click', () => {
  if (isGachaActive) {
    return
  }
  const _0x13a920 = Date.now()
  clickHistory.push(_0x13a920)
  clickHistory = clickHistory.filter(
    (_0x3a2b7f) => _0x13a920 - _0x3a2b7f <= 3000
  )
  if (clickHistory.length >= 51) {
    openMacroModal()
    return
  }
  if (!macroActive) {
    const _0x429f55 = Math.round((1 + chorus) * multiple)
    points += _0x429f55
    if (window.totalLux > 0) {
      if (Math.random() * 100 < window.totalLux) {
        prisms += 1
        updateDisplay()
        autoSave()
        showMessage(
          _0x429f55 + ' í¬ì¸íŠ¸ + íœ˜ê´‘ìœ¼ë¡œ í”„ë¦¬ì¦˜ 1ê°œ íšë“!',
          'text-purple-300'
        )
        return
      }
    }
    updateDisplay()
    autoSave()
    showMessage(_0x429f55 + ' í¬ì¸íŠ¸ë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!', 'text-blue-300')
  }
})
shopBtn.addEventListener('click', () => {
  if (isGachaActive) {
    return
  }
  openShop()
})
inventoryBtn.addEventListener('click', () => {
  if (isGachaActive) {
    return
  }
  openInventory()
})
document.getElementById('settingsBtn').addEventListener('click', () => {
  if (isGachaActive) {
    return
  }
  openSettings()
})
function openShop() {
  const _0xa5ccfd = document.getElementById('shopScreen')
  _0xa5ccfd.style.opacity = '1'
  _0xa5ccfd.style.pointerEvents = 'auto'
}
document.getElementById('closeShopBtn').addEventListener('click', () => {
  const _0x417651 = document.getElementById('shopScreen')
  _0x417651.style.opacity = '0'
  _0x417651.style.pointerEvents = 'none'
})
function openGachaShop() {
  const _0x589cb5 = document.getElementById('shopScreen'),
    _0x5cc1a5 = document.getElementById('gachaShopScreen')
  _0x589cb5.style.opacity = '0'
  _0x589cb5.style.pointerEvents = 'none'
  setTimeout(() => {
    _0x5cc1a5.style.opacity = '1'
    _0x5cc1a5.style.pointerEvents = 'auto'
  }, 300)
}
document.getElementById('closeGachaShopBtn').addEventListener('click', () => {
  const _0x3f8c3b = document.getElementById('gachaShopScreen')
  _0x3f8c3b.style.opacity = '0'
  _0x3f8c3b.style.pointerEvents = 'none'
})
function openVolumeShop() {
  const _0x5adc6 = document.getElementById('shopScreen'),
    _0x1d36d7 = document.getElementById('volumeShopScreen')
  _0x5adc6.style.opacity = '0'
  _0x5adc6.style.pointerEvents = 'none'
  setTimeout(() => {
    _0x1d36d7.style.opacity = '1'
    _0x1d36d7.style.pointerEvents = 'auto'
    updateVolumeShopDisplay()
  }, 300)
}
document.getElementById('closeVolumeShopBtn').addEventListener('click', () => {
  const _0x35cfca = document.getElementById('volumeShopScreen')
  _0x35cfca.style.opacity = '0'
  _0x35cfca.style.pointerEvents = 'none'
})
function openInventory() {
  const _0x4c5add = document.getElementById('inventoryScreen')
  _0x4c5add.style.opacity = '1'
  _0x4c5add.style.pointerEvents = 'auto'
  updateInventoryDisplay()
  const _0x3c4eb6 = Object.keys(inventory)[0]
  _0x3c4eb6 && showGemDetails(_0x3c4eb6)
}
document.getElementById('closeInventoryBtn').addEventListener('click', () => {
  const _0x463dc0 = document.getElementById('inventoryScreen')
  _0x463dc0.style.opacity = '0'
  _0x463dc0.style.pointerEvents = 'none'
})
function openSettings() {
  const _0x536be7 = document.getElementById('settingsScreen')
  _0x536be7.style.opacity = '1'
  _0x536be7.style.pointerEvents = 'auto'
}
document.getElementById('closeSettingsBtn').addEventListener('click', () => {
  const _0x2e17de = document.getElementById('settingsScreen')
  _0x2e17de.style.opacity = '0'
  _0x2e17de.style.pointerEvents = 'none'
})
function updateVolumeShopDisplay() {
  const _0x4ab846 = document.getElementById('multiVolumeStatus'),
    _0x28ad19 = document.getElementById('buyMultiVolumeBtn')
  volumes.multi &&
    ((_0x4ab846.textContent = 'ë³´ìœ  ì¤‘'),
    (_0x4ab846.className = 'text-xs text-green-400 mt-1'),
    (_0x28ad19.textContent = 'ë³´ìœ  ì¤‘'),
    (_0x28ad19.disabled = true),
    (_0x28ad19.className =
      'bg-gray-500 px-4 py-2 rounded-full text-white font-bold opacity-50 cursor-not-allowed'))
  const _0x376ae2 = document.getElementById('chorusVolumeStatus'),
    _0x779a9a = document.getElementById('buyChorusVolumeBtn')
  volumes.chorus &&
    ((_0x376ae2.textContent = 'ë³´ìœ  ì¤‘'),
    (_0x376ae2.className = 'text-xs text-green-400 mt-1'),
    (_0x779a9a.textContent = 'ë³´ìœ  ì¤‘'),
    (_0x779a9a.disabled = true),
    (_0x779a9a.className =
      'bg-gray-500 px-4 py-2 rounded-full text-white font-bold opacity-50 cursor-not-allowed'))
  const _0x3d6dda = document.getElementById('luxVolumeStatus'),
    _0x157661 = document.getElementById('buyLuxVolumeBtn')
  volumes.lux &&
    ((_0x3d6dda.textContent = 'ë³´ìœ  ì¤‘'),
    (_0x3d6dda.className = 'text-xs text-green-400 mt-1'),
    (_0x157661.textContent = 'ë³´ìœ  ì¤‘'),
    (_0x157661.disabled = true),
    (_0x157661.className =
      'bg-gray-500 px-4 py-2 rounded-full text-white font-bold opacity-50 cursor-not-allowed'))
}
function buyVolume(_0x403791) {
  if (volumes[_0x403791]) {
    showMessage('ì´ë¯¸ ë³´ìœ í•˜ê³  ìˆëŠ” ë³¼ë¥¨ì…ë‹ˆë‹¤!', 'text-yellow-300')
    return
  }
  let _0x2f0a34 = false,
    _0xf1a23e = ''
  switch (_0x403791) {
    case 'multi':
      points >= 100000 &&
        ((points -= 100000), (_0x2f0a34 = true), (_0xf1a23e = '100,000 í¬ì¸íŠ¸'))
      break
    case 'chorus':
      points >= 55000 &&
        ((points -= 55000), (_0x2f0a34 = true), (_0xf1a23e = '55,000 í¬ì¸íŠ¸'))
      break
    case 'lux':
      const _0x14cbd7 = []
      Object.keys(inventory).forEach((_0x1f36d9) => {
        const _0x306631 = getGemGrade(_0x1f36d9)
        ;(_0x306631 === 'ì „ì„¤' ||
          _0x306631 === 'ìœ ë‹ˆí¬' ||
          _0x306631 === 'ìŠ¤í˜ì…œ') &&
          inventory[_0x1f36d9] >= 2 &&
          _0x14cbd7.push(_0x1f36d9)
      })
      if (prisms >= 100 && _0x14cbd7.length > 0) {
        const _0x11befd = selectLegendaryGemForLux(_0x14cbd7)
        if (_0x11befd) {
          prisms -= 100
          inventory[_0x11befd]--
          _0x2f0a34 = true
          const _0x565f99 = gemData[_0x11befd]
          _0xf1a23e = '100 í”„ë¦¬ì¦˜ + ' + _0x565f99.name + ' 1ê°œ'
        } else {
          return
        }
      } else {
        prisms < 100
          ? showMessage(
              'í”„ë¦¬ì¦˜ì´ ë¶€ì¡±í•©ë‹ˆë‹¤! (100 í”„ë¦¬ì¦˜ í•„ìš”)',
              'text-red-300'
            )
          : showMessage('ì „ì„¤ ì´ìƒ ë³´ì„ì´ 2ê°œ ì´ìƒ í•„ìš”í•©ë‹ˆë‹¤!', 'text-red-300')
        return
      }
      break
  }
  _0x2f0a34
    ? ((volumes[_0x403791] = true),
      maxSlots++,
      updateDisplay(),
      updateVolumeShopDisplay(),
      autoSave(),
      showMessage(
        getVolumeKoreanName(_0x403791) +
          'ì„(ë¥¼) êµ¬ë§¤í–ˆìŠµë‹ˆë‹¤! (' +
          _0xf1a23e +
          ')',
        'text-green-300'
      ))
    : showMessage('ì¬í™”ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤!', 'text-red-300')
}
function getVolumeKoreanName(_0xe79e77) {
  switch (_0xe79e77) {
    case 'multi':
      return 'ë©€í‹° ë³¼ë¥¨'
    case 'chorus':
      return 'ì½”ëŸ¬ìŠ¤ ë³¼ë¥¨'
    case 'lux':
      return 'ëŸ­ìŠ¤ ë³¼ë¥¨'
    default:
      return 'ë³¼ë¥¨'
  }
}
function selectLegendaryGemForLux(_0x25da57) {
  let _0xa53280 = 'ëŸ­ìŠ¤ ë³¼ë¥¨ êµ¬ë§¤ì— ì‚¬ìš©í•  ë³´ì„ì„ ì„ íƒí•˜ì„¸ìš”:\n\n'
  _0x25da57.forEach((_0x99ec5c, _0x40f475) => {
    const _0x484c87 = gemData[_0x99ec5c],
      _0x4f84fc = inventory[_0x99ec5c]
    _0xa53280 +=
      _0x40f475 + 1 + '. ' + _0x484c87.name + ' (' + _0x4f84fc + 'ê°œ ë³´ìœ )\n'
  })
  _0xa53280 += '\në²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì·¨ì†Œí•˜ë ¤ë©´ 0):'
  const _0x45d995 = prompt(_0xa53280),
    _0x3d3756 = parseInt(_0x45d995)
  if (_0x3d3756 >= 1 && _0x3d3756 <= _0x25da57.length) {
    return _0x25da57[_0x3d3756 - 1]
  }
  return null
}
function resetVolumeShopButtons() {
  const _0x20b814 = document.getElementById('multiVolumeStatus'),
    _0x3beb70 = document.getElementById('buyMultiVolumeBtn')
  _0x20b814.textContent = 'ë¯¸ë³´ìœ '
  _0x20b814.className = 'text-xs text-gray-400 mt-1'
  _0x3beb70.textContent = 'êµ¬ë§¤'
  _0x3beb70.disabled = false
  _0x3beb70.className =
    'bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300'
  const _0x57df98 = document.getElementById('chorusVolumeStatus'),
    _0x34be61 = document.getElementById('buyChorusVolumeBtn')
  _0x57df98.textContent = 'ë¯¸ë³´ìœ '
  _0x57df98.className = 'text-xs text-gray-400 mt-1'
  _0x34be61.textContent = 'êµ¬ë§¤'
  _0x34be61.disabled = false
  _0x34be61.className =
    'bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-4 py-2 rounded-full text-white font-bold transition-all duration-300'
  const _0x4e718d = document.getElementById('luxVolumeStatus'),
    _0x24de5f = document.getElementById('buyLuxVolumeBtn')
  _0x4e718d.textContent = 'ë¯¸ë³´ìœ '
  _0x4e718d.className = 'text-xs text-gray-400 mt-1'
  _0x24de5f.textContent = 'êµ¬ë§¤'
  _0x24de5f.disabled = false
  _0x24de5f.className =
    'bg-gradient-to-r from-yellow-400 to-pink-500 hover:from-yellow-500 hover:to-pink-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300'
}
function updateInventoryDisplay() {
  const _0x2d32ea = document.getElementById('gemList')
  _0x2d32ea.innerHTML = ''
  const _0x203ff9 = [
      'ì¼ë°˜',
      'í¬ê·€',
      'ì—í”½',
      'ì „ì„¤',
      'ìœ ë‹ˆí¬',
      'ìŠ¤í˜ì…œ',
      'ì´ë²¤íŠ¸',
    ],
    _0x266682 = Object.keys(inventory).sort((_0x1b4dfa, _0x2bf6f) => {
      const _0x2cf375 = getGemGrade(_0x1b4dfa),
        _0x5c3a26 = getGemGrade(_0x2bf6f),
        _0x19ec8c = _0x203ff9.indexOf(_0x2cf375),
        _0x136cb9 = _0x203ff9.indexOf(_0x5c3a26)
      if (_0x19ec8c !== _0x136cb9) {
        return _0x19ec8c - _0x136cb9
      }
      return gemData[_0x1b4dfa].name.localeCompare(gemData[_0x2bf6f].name, 'ko')
    })
  _0x266682.forEach((_0x411caf) => {
    const _0x4ccb22 = gemData[_0x411caf],
      _0x2d3ec7 = inventory[_0x411caf],
      _0x2b8ea0 = equippedGems.includes(parseInt(_0x411caf)),
      _0x5b55a9 = document.createElement('div')
    _0x5b55a9.className =
      'bg-white bg-opacity-10 hover:bg-opacity-20 rounded-lg p-3 cursor-pointer transition-all duration-300 text-center relative ' +
      (_0x2b8ea0 ? 'ring-2 ring-yellow-400' : '')
    _0x5b55a9.innerHTML =
      '\n            <div class="text-2xl mb-1">' +
      _0x4ccb22.emoji +
      '</div>\n            <div class="text-xs text-white">' +
      _0x4ccb22.name +
      '</div>\n            <div class="absolute top-1 right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">' +
      _0x2d3ec7 +
      '</div>\n            ' +
      (_0x2b8ea0
        ? '<div class="text-xs text-yellow-400 mt-1">ì¥ì°©ë¨</div>'
        : '') +
      '\n        '
    _0x5b55a9.addEventListener('click', () => showGemDetails(_0x411caf))
    _0x2d32ea.appendChild(_0x5b55a9)
  })
  _0x266682.length === 0 &&
    (_0x2d32ea.innerHTML =
      '<div class="col-span-full text-center text-gray-400 py-8">ë³´ì„ì´ ì—†ìŠµë‹ˆë‹¤</div>')
  updateEquipmentSlots()
}
function updateEquipmentSlots() {
  const _0x47f5f5 = document.getElementById('equipmentSlots'),
    _0x2cce02 = document.getElementById('slotInfo')
  _0x47f5f5.innerHTML = ''
  const _0x2fb9db = [
    {
      key: 'multi',
      name: 'ë©€í‹° ë³¼ë¥¨',
      available: true,
    },
    {
      key: 'multi',
      name: 'ë©€í‹° ë³¼ë¥¨',
      available: volumes.multi,
    },
    {
      key: 'chorus',
      name: 'ì½”ëŸ¬ìŠ¤ ë³¼ë¥¨',
      available: volumes.chorus,
    },
    {
      key: 'lux',
      name: 'ëŸ­ìŠ¤ ë³¼ë¥¨',
      available: volumes.lux,
    },
  ]
  for (let _0x2cd602 = 0; _0x2cd602 < maxSlots; _0x2cd602++) {
    const _0x6c12de = document.createElement('div')
    _0x6c12de.className =
      'bg-white bg-opacity-10 rounded-lg p-3 text-center cursor-pointer hover:bg-opacity-20 transition-all duration-300'
    let _0x2ad6a5 = 'ê¸°ë³¸ ìŠ¬ë¡¯'
    if (_0x2cd602 === 1 && volumes.multi) {
      _0x2ad6a5 = 'ë©€í‹° ë³¼ë¥¨'
    } else {
      if (_0x2cd602 === 2 && volumes.chorus) {
        _0x2ad6a5 = 'ì½”ëŸ¬ìŠ¤ ë³¼ë¥¨'
      } else {
        if (_0x2cd602 === 3 && volumes.lux) {
          _0x2ad6a5 = 'ëŸ­ìŠ¤ ë³¼ë¥¨'
        } else {
          if (_0x2cd602 > 0) {
            if (volumes.multi && _0x2cd602 === 1) {
              _0x2ad6a5 = 'ë©€í‹° ë³¼ë¥¨'
            } else {
              if (
                volumes.chorus &&
                ((volumes.multi && _0x2cd602 === 2) ||
                  (!volumes.multi && _0x2cd602 === 1))
              ) {
                _0x2ad6a5 = 'ì½”ëŸ¬ìŠ¤ ë³¼ë¥¨'
              } else {
                if (volumes.lux) {
                  let _0x25875 = 1
                  if (volumes.multi) {
                    _0x25875++
                  }
                  if (volumes.chorus) {
                    _0x25875++
                  }
                  if (_0x2cd602 === _0x25875) {
                    _0x2ad6a5 = 'ëŸ­ìŠ¤ ë³¼ë¥¨'
                  }
                }
              }
            }
          }
        }
      }
    }
    if (equippedGems[_0x2cd602]) {
      const _0xebce08 = gemData[equippedGems[_0x2cd602]]
      _0x6c12de.innerHTML =
        '\n                        <div class="text-xs text-blue-300 mb-1">' +
        _0x2ad6a5 +
        '</div>\n                        <div class="text-2xl mb-1">' +
        _0xebce08.emoji +
        '</div>\n                        <div class="text-xs text-white">' +
        _0xebce08.name +
        '</div>\n                    '
      _0x6c12de.onclick = () => unequipGemFromSlot(_0x2cd602)
    } else {
      _0x6c12de.innerHTML =
        '\n                        <div class="text-xs text-blue-300 mb-1">' +
        _0x2ad6a5 +
        '</div>\n                        <div class="text-2xl mb-1 opacity-50">\uD83D\uDC8E</div>\n                        <div class="text-xs text-gray-400">ë¹„ì–´ìˆìŒ</div>\n                    '
    }
    _0x47f5f5.appendChild(_0x6c12de)
  }
  _0x2cce02.textContent =
    'ìŠ¬ë¡¯ ' + equippedGems.length + '/' + maxSlots + ' ì‚¬ìš© ì¤‘'
}
function showGemDetails(_0x3057c4) {
  const _0x2a3eb7 = gemData[_0x3057c4],
    _0x4f796c = document.getElementById('gemDetails'),
    _0x21a488 = inventory[_0x3057c4] || 0
  let _0x23835c = 'ì½”ëŸ¬ìŠ¤ +' + _0x2a3eb7.chorus
  _0x2a3eb7.multiple > 1 && (_0x23835c += ' | x' + _0x2a3eb7.multiple)
  _0x2a3eb7.lux && (_0x23835c += ' | íœ˜ê´‘ ' + _0x2a3eb7.lux + '%')
  const _0x5b6a5e = equippedGems.includes(parseInt(_0x3057c4)),
    _0x1df03c = _0x21a488 >= 2,
    _0x57a376 = !_0x5b6a5e && equippedGems.length < maxSlots
  _0x4f796c.innerHTML =
    '\n                <div class="text-6xl mb-4">' +
    _0x2a3eb7.emoji +
    '</div>\n                <h3 class="text-xl font-bold mb-2">' +
    _0x2a3eb7.name +
    '</h3>\n                <div class="text-blue-300 font-medium mb-2">' +
    _0x23835c +
    '</div>\n                <div class="text-gray-400 text-sm mb-4">ë³´ìœ  ê°œìˆ˜: ' +
    _0x21a488 +
    'ê°œ</div>\n                <p class="text-gray-300 mb-4">' +
    _0x2a3eb7.description +
    '</p>\n                <div class="flex gap-2 justify-center flex-wrap">\n                    ' +
    (_0x5b6a5e
      ? '<button onclick="unequipGem(' +
        _0x3057c4 +
        ')" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">ì¥ì°© í•´ì œ</button>'
      : _0x57a376
      ? '<button onclick="equipGem(' +
        _0x3057c4 +
        ')" class="bg-green-500 hover:bg-green-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">ì¥ì°©í•˜ê¸°</button>'
      : '<button class="bg-gray-500 px-4 py-2 rounded-full text-white font-bold opacity-50 cursor-not-allowed" disabled>ìŠ¬ë¡¯ ë¶€ì¡±</button>') +
    '\n                    ' +
    (_0x1df03c
      ? '<button onclick="extractGem(' +
        _0x3057c4 +
        ')" class="bg-purple-500 hover:bg-purple-600 px-4 py-2 rounded-full text-white font-bold transition-all duration-300">ì¶”ì¶œ</button>'
      : '<button class="bg-gray-500 px-4 py-2 rounded-full text-white font-bold opacity-50 cursor-not-allowed" disabled>ì¶”ì¶œ ë¶ˆê°€</button>') +
    '\n                </div>\n            '
}
function startGacha(_0x586057, _0x36aaec = 1) {
  if (isGachaActive) {
    return
  }
  let _0x3f26b9, _0x20d77c, _0x3f9398
  switch (_0x586057) {
    case 'beginner':
      ;(_0x3f26b9 = _0x36aaec === 10 ? 100 : 10),
        (_0x20d77c = 'points'),
        (_0x3f9398 = points >= _0x3f26b9)
      break
    case 'normal':
      ;(_0x3f26b9 = _0x36aaec === 10 ? 50 : 5),
        (_0x20d77c = 'prisms'),
        (_0x3f9398 = prisms >= _0x3f26b9)
      break
    case 'premium':
      ;(_0x3f26b9 = _0x36aaec === 10 ? 300 : 30),
        (_0x20d77c = 'prisms'),
        (_0x3f9398 = prisms >= _0x3f26b9)
      break
    case 'luxury':
      ;(_0x3f26b9 = _0x36aaec === 10 ? 500 : 50),
        (_0x20d77c = 'prisms'),
        (_0x3f9398 = prisms >= _0x3f26b9)
      break
    case 'pointer':
      ;(_0x3f26b9 = _0x36aaec === 10 ? 1000000 : 100000),
        (_0x20d77c = 'points'),
        (_0x3f9398 = points >= _0x3f26b9)
      break
    case 'event':
      ;(_0x3f26b9 = _0x36aaec === 10 ? 500000 : 50000), (_0x20d77c = 'points')
      if (_0x3f26b9 === 50000) {
        _0x3f9398 = points >= _0x3f26b9 && (inventory[23] || 0) >= 2
        break
      } else {
        _0x3f9398 = points >= _0x3f26b9 && (inventory[23] || 0) >= 11
        break
      }
  }
  if (_0x3f9398) {
    if (_0x586057 === 'event') {
      points -= _0x3f26b9
      _0x3f26b9 === 500000 ? (inventory[23] -= 10) : (inventory[23] -= 1)
    } else {
      _0x20d77c === 'points' ? (points -= _0x3f26b9) : (prisms -= _0x3f26b9)
    }
    updateDisplay()
    autoSave()
    const _0x275a5c = document.getElementById('shopScreen'),
      _0x20997a = document.getElementById('gachaShopScreen')
    _0x275a5c.style.opacity = '0'
    _0x275a5c.style.pointerEvents = 'none'
    _0x20997a.style.opacity = '0'
    _0x20997a.style.pointerEvents = 'none'
    window.currentGachaType = _0x586057
    window.currentGachaCount = _0x36aaec
    startGachaAnimation()
  } else {
    if (_0x586057 === 'event') {
      showMessage(
        '\u274C ì´ë²¤íŠ¸ ë½‘ê¸°ì—ëŠ” í¬ì¸íŠ¸ ' +
          _0x3f26b9 +
          'ì™€ ë³´ì„(ID:23) 2ê°œ ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤!',
        'text-red-300'
      )
    } else {
      const _0x1dbe3a = _0x20d77c === 'points' ? 'í¬ì¸íŠ¸' : 'í”„ë¦¬ì¦˜'
      showMessage(
        _0x1dbe3a + 'ì´ ë¶€ì¡±í•©ë‹ˆë‹¤! (' + _0x3f26b9 + ' ' + _0x1dbe3a + ' í•„ìš”)',
        'text-red-300'
      )
    }
  }
}
function startGachaAnimation() {
  isGachaActive = true
  const _0x1a9a4a = document.getElementById('mainUI'),
    _0x3cd2e1 = document.getElementById('gachaScreen'),
    _0x2e0993 = document.getElementById('gemstone'),
    _0x215bfb = document.getElementById('gachaText')
  _0x1a9a4a.style.opacity = '0'
  _0x3cd2e1.style.opacity = '1'
  _0x3cd2e1.style.pointerEvents = 'auto'
  window.currentGachaCount === 10
    ? (_0x215bfb.textContent = 'ì›ì„ì„ í´ë¦­í•˜ì„¸ìš”! (10íšŒ ë½‘ê¸°)')
    : (_0x215bfb.textContent = 'ì›ì„ì„ í´ë¦­í•˜ì„¸ìš”!')
  _0x2e0993.onclick = null
  _0x2e0993.onclick = () => {
    window.currentGachaCount === 10 ? performMultipleGacha() : revealGrade()
  }
}
const gemRewards = {
  ì¼ë°˜: [1, 2, 3],
  í¬ê·€: [4, 5, 6],
  ì—í”½: [7, 8, 9, 20, 23],
  ì „ì„¤: [10, 11, 12],
  ìœ ë‹ˆí¬: [13, 14, 15, 16],
  ìŠ¤í˜ì…œ: [17, 18, 19, 21, 22],
  ì´ë²¤íŠ¸: [24, 25, 26],
}
function performMultipleGacha() {
  currentGachaResults = []
  for (let _0x1d8a97 = 0; _0x1d8a97 < 10; _0x1d8a97++) {
    const _0xcebf64 = performSingleGacha()
    currentGachaResults.push(_0xcebf64)
  }
  const _0x5e05a6 = [
    'ì¼ë°˜',
    'í¬ê·€',
    'ì—í”½',
    'ì „ì„¤',
    'ìœ ë‹ˆí¬',
    'ìŠ¤í˜ì…œ',
    'ì´ë²¤íŠ¸',
  ]
  let _0x51ac38 = 'ì¼ë°˜',
    _0x4e9027 = 'grade-common'
  currentGachaResults.forEach((_0x598c53) => {
    const _0x621368 = _0x5e05a6.indexOf(_0x598c53.grade),
      _0x422a04 = _0x5e05a6.indexOf(_0x51ac38)
    _0x621368 > _0x422a04 &&
      ((_0x51ac38 = _0x598c53.grade), (_0x4e9027 = _0x598c53.gradeClass))
  })
  showGradeReveal(_0x51ac38, _0x4e9027, true)
}
function performSingleGacha() {
  let _0x4a95ef
  switch (window.currentGachaType) {
    case 'beginner':
      _0x4a95ef = [
        {
          name: 'ì¼ë°˜',
          class: 'grade-common',
          probability: 0.7,
        },
        {
          name: 'í¬ê·€',
          class: 'grade-rare',
          probability: 0.2,
        },
        {
          name: 'ì—í”½',
          class: 'grade-epic',
          probability: 0.08,
        },
        {
          name: 'ì „ì„¤',
          class: 'grade-legendary',
          probability: 0.015,
        },
        {
          name: 'ìœ ë‹ˆí¬',
          class: 'grade-unique',
          probability: 0.005,
        },
        {
          name: 'ìŠ¤í˜ì…œ',
          class: 'grade-special',
          probability: 0,
        },
      ]
      break
    case 'normal':
      _0x4a95ef = [
        {
          name: 'ì¼ë°˜',
          class: 'grade-common',
          probability: 0.5,
        },
        {
          name: 'í¬ê·€',
          class: 'grade-rare',
          probability: 0.25,
        },
        {
          name: 'ì—í”½',
          class: 'grade-epic',
          probability: 0.15,
        },
        {
          name: 'ì „ì„¤',
          class: 'grade-legendary',
          probability: 0.07,
        },
        {
          name: 'ìœ ë‹ˆí¬',
          class: 'grade-unique',
          probability: 0.03,
        },
        {
          name: 'ìŠ¤í˜ì…œ',
          class: 'grade-special',
          probability: 0,
        },
      ]
      break
    case 'premium':
      _0x4a95ef = [
        {
          name: 'ì¼ë°˜',
          class: 'grade-common',
          probability: 0.3,
        },
        {
          name: 'í¬ê·€',
          class: 'grade-rare',
          probability: 0.3,
        },
        {
          name: 'ì—í”½',
          class: 'grade-epic',
          probability: 0.22,
        },
        {
          name: 'ì „ì„¤',
          class: 'grade-legendary',
          probability: 0.12,
        },
        {
          name: 'ìœ ë‹ˆí¬',
          class: 'grade-unique',
          probability: 0.05,
        },
        {
          name: 'ìŠ¤í˜ì…œ',
          class: 'grade-special',
          probability: 0.01,
        },
      ]
      break
    case 'luxury':
      _0x4a95ef = [
        {
          name: 'ì¼ë°˜',
          class: 'grade-common',
          probability: 0.3,
        },
        {
          name: 'í¬ê·€',
          class: 'grade-rare',
          probability: 0.3,
        },
        {
          name: 'ì—í”½',
          class: 'grade-epic',
          probability: 0.22,
        },
        {
          name: 'ì „ì„¤',
          class: 'grade-legendary',
          probability: 0.1,
        },
        {
          name: 'ìœ ë‹ˆí¬',
          class: 'grade-unique',
          probability: 0.05,
        },
        {
          name: 'ìŠ¤í˜ì…œ',
          class: 'grade-special',
          probability: 0.01,
        },
      ]
      break
    case 'pointer':
      _0x4a95ef = [
        {
          name: 'ì¼ë°˜',
          class: 'grade-common',
          probability: 0.3,
        },
        {
          name: 'í¬ê·€',
          class: 'grade-rare',
          probability: 0.3,
        },
        {
          name: 'ì—í”½',
          class: 'grade-epic',
          probability: 0.22,
        },
        {
          name: 'ì „ì„¤',
          class: 'grade-legendary',
          probability: 0.1,
        },
        {
          name: 'ìœ ë‹ˆí¬',
          class: 'grade-unique',
          probability: 0.05,
        },
        {
          name: 'ìŠ¤í˜ì…œ',
          class: 'grade-special',
          probability: 0.01,
        },
      ]
      break
    case 'event':
      _0x4a95ef = [
        {
          name: 'ì¼ë°˜',
          class: 'grade-common',
          probability: 0.3,
        },
        {
          name: 'í¬ê·€',
          class: 'grade-rare',
          probability: 0.3,
        },
        {
          name: 'ì—í”½',
          class: 'grade-epic',
          probability: 0.22,
        },
        {
          name: 'ì „ì„¤',
          class: 'grade-legendary',
          probability: 0.1,
        },
        {
          name: 'ìœ ë‹ˆí¬',
          class: 'grade-unique',
          probability: 0.04,
        },
        {
          name: 'ìŠ¤í˜ì…œ',
          class: 'grade-special',
          probability: 0.01,
        },
        {
          name: 'ì´ë²¤íŠ¸',
          class: 'grade-event',
          probability: 0.01,
        },
      ]
      break
    default:
      _0x4a95ef = [
        {
          name: 'ì¼ë°˜',
          class: 'grade-common',
          probability: 0.5,
        },
        {
          name: 'í¬ê·€',
          class: 'grade-rare',
          probability: 0.25,
        },
        {
          name: 'ì—í”½',
          class: 'grade-epic',
          probability: 0.15,
        },
        {
          name: 'ì „ì„¤',
          class: 'grade-legendary',
          probability: 0.07,
        },
        {
          name: 'ìœ ë‹ˆí¬',
          class: 'grade-unique',
          probability: 0.03,
        },
        {
          name: 'ìŠ¤í˜ì…œ',
          class: 'grade-special',
          probability: 0,
        },
      ]
  }
  const _0x3cce47 = Math.random()
  let _0x32c6fd = 0,
    _0x508b38 = _0x4a95ef[0]
  for (const _0x183368 of _0x4a95ef) {
    _0x32c6fd += _0x183368.probability
    if (_0x3cce47 <= _0x32c6fd) {
      _0x508b38 = _0x183368
      break
    }
  }
  let _0x3e8b39 = gemRewards[_0x508b38.name],
    _0x5e2a49
  if (window.currentGachaType === 'luxury') {
    if (_0x508b38.name === 'ì „ì„¤') {
      const _0xc65d82 = Math.random()
      _0xc65d82 < 0.6
        ? (_0x5e2a49 = 10)
        : (_0x5e2a49 = _0x3e8b39[Math.floor(Math.random() * _0x3e8b39.length)])
    } else {
      if (_0x508b38.name === 'ìŠ¤í˜ì…œ') {
        const _0x1d12c3 = Math.random()
        _0x1d12c3 < 0.6
          ? _0x1d12c3 < 0.3
            ? (_0x5e2a49 = 22)
            : (_0x5e2a49 = 21)
          : (_0x5e2a49 =
              _0x3e8b39[Math.floor(Math.random() * _0x3e8b39.length)])
      } else {
        _0x5e2a49 = _0x3e8b39[Math.floor(Math.random() * _0x3e8b39.length)]
      }
    }
  } else {
    _0x5e2a49 = _0x3e8b39[Math.floor(Math.random() * _0x3e8b39.length)]
  }
  return {
    grade: _0x508b38.name,
    gradeClass: _0x508b38.class,
    gemId: _0x5e2a49,
  }
}
function revealGrade() {
  const _0x95d2c5 = performSingleGacha()
  window.currentGrade = _0x95d2c5.grade
  window.currentGemId = _0x95d2c5.gemId
  showGradeReveal(_0x95d2c5.grade, _0x95d2c5.gradeClass, false)
}
function showGradeReveal(_0x5d722b, _0x46aedf, _0x138136) {
  const _0x5adf6e = document.getElementById('gachaScreen'),
    _0x2e8f4a = document.getElementById('revealScreen'),
    _0x2cdfac = document.getElementById('gradeText'),
    _0x21fd4d = document.getElementById('revealMessage')
  _0x5adf6e.style.opacity = '0'
  _0x5adf6e.style.pointerEvents = 'none'
  setTimeout(() => {
    _0x2e8f4a.style.opacity = '1'
    _0x2e8f4a.style.pointerEvents = 'auto'
    _0x2e8f4a.className =
      'fixed inset-0 flex items-center justify-center z-50 transition-all duration-1000 ' +
      _0x46aedf
    _0x2cdfac.textContent = _0x5d722b
    _0x138136
      ? (_0x21fd4d.textContent = 'ìµœê³  ë“±ê¸‰: ' + _0x5d722b + '!')
      : (_0x21fd4d.textContent = 'ë“±ê¸‰ì´ ê³µê°œë˜ì—ˆìŠµë‹ˆë‹¤!')
  }, 500)
}
document.getElementById('continueBtn').addEventListener('click', () => {
  window.currentGachaCount === 10
    ? showMultipleGemReward()
    : showSingleGemReward()
})
function showSingleGemReward() {
  const _0x509c42 = document.getElementById('revealScreen'),
    _0x9d8ee8 = document.getElementById('gemRewardScreen'),
    _0x35efc9 = document.getElementById('singleReward'),
    _0x54b45a = document.getElementById('multipleReward'),
    _0x1df500 = document.getElementById('rewardText'),
    _0x200ec9 = document.getElementById('rewardGemImage')
  inventory[window.currentGemId]
    ? inventory[window.currentGemId]++
    : (inventory[window.currentGemId] = 1)
  autoSave()
  const _0x1ef6a5 = gemData[window.currentGemId]
  _0x200ec9.innerHTML = _0x1ef6a5.emoji
  _0x200ec9.className =
    'w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full mx-auto mb-6 shadow-2xl flex items-center justify-center text-3xl sm:text-4xl'
  _0x1df500.textContent = _0x1ef6a5.name + ' íšë“!'
  _0x35efc9.classList.remove('hidden')
  _0x54b45a.classList.add('hidden')
  _0x509c42.style.opacity = '0'
  _0x509c42.style.pointerEvents = 'none'
  setTimeout(() => {
    _0x9d8ee8.style.opacity = '1'
    _0x9d8ee8.style.pointerEvents = 'auto'
  }, 500)
}
function showMultipleGemReward() {
  const _0x3351ae = document.getElementById('revealScreen'),
    _0x284b42 = document.getElementById('gemRewardScreen'),
    _0x180c7d = document.getElementById('singleReward'),
    _0x29f895 = document.getElementById('multipleReward'),
    _0x1b2788 = document.getElementById('multipleGemGrid')
  currentGachaResults.forEach((_0x41ed5a) => {
    inventory[_0x41ed5a.gemId]
      ? inventory[_0x41ed5a.gemId]++
      : (inventory[_0x41ed5a.gemId] = 1)
  })
  autoSave()
  _0x1b2788.innerHTML = ''
  currentGachaResults.forEach((_0x103505) => {
    const _0x196932 = gemData[_0x103505.gemId],
      _0x19b2ba = document.createElement('div')
    _0x19b2ba.className = 'bg-white bg-opacity-10 rounded-lg p-3 text-center'
    _0x19b2ba.innerHTML =
      '\n                    <div class="text-3xl mb-2">' +
      _0x196932.emoji +
      '</div>\n                    <div class="text-xs text-white">' +
      _0x196932.name +
      '</div>\n                '
    _0x1b2788.appendChild(_0x19b2ba)
  })
  _0x180c7d.classList.add('hidden')
  _0x29f895.classList.remove('hidden')
  _0x3351ae.style.opacity = '0'
  _0x3351ae.style.pointerEvents = 'none'
  setTimeout(() => {
    _0x284b42.style.opacity = '1'
    _0x284b42.style.pointerEvents = 'auto'
  }, 500)
}
document.getElementById('finalContinueBtn').addEventListener('click', () => {
  const _0x304f69 = document.getElementById('mainUI'),
    _0x37f553 = document.getElementById('revealScreen'),
    _0xbaa040 = document.getElementById('gemRewardScreen')
  _0xbaa040.style.opacity = '0'
  _0xbaa040.style.pointerEvents = 'none'
  setTimeout(() => {
    _0x304f69.style.opacity = '1'
    isGachaActive = false
    currentGachaResults = []
    window.currentGachaCount = 1
  }, 300)
  setTimeout(() => {
    _0x37f553.className =
      'fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-all duration-1000'
    _0x37f553.style.background = ''
    _0x37f553.style.animation = ''
    _0xbaa040.style.opacity = '0'
    _0xbaa040.style.pointerEvents = 'none'
  }, 1000)
})
function equipGem(_0x3c575b) {
  if (equippedGems.length >= maxSlots) {
    showMessage('ì¥ì°© ìŠ¬ë¡¯ì´ ë¶€ì¡±í•©ë‹ˆë‹¤!', 'text-red-300')
    return
  }
  if (equippedGems.includes(parseInt(_0x3c575b))) {
    showMessage('ì´ë¯¸ ì¥ì°©ëœ ë³´ì„ì…ë‹ˆë‹¤!', 'text-yellow-300')
    return
  }
  equippedGems.push(parseInt(_0x3c575b))
  const _0x6533d4 = gemData[_0x3c575b]
  calculateTotalStats()
  updateEquippedGemDisplay()
  updateInventoryDisplay()
  showGemDetails(_0x3c575b)
  autoSave()
  showMessage(_0x6533d4.name + 'ì„(ë¥¼) ì¥ì°©í–ˆìŠµë‹ˆë‹¤!', 'text-green-300')
}
function unequipGem(_0x1e5855) {
  const _0x1f80e3 = equippedGems.indexOf(parseInt(_0x1e5855))
  _0x1f80e3 > -1 &&
    (equippedGems.splice(_0x1f80e3, 1),
    calculateTotalStats(),
    updateEquippedGemDisplay(),
    updateInventoryDisplay(),
    showGemDetails(_0x1e5855),
    autoSave(),
    showMessage('ë³´ì„ ì¥ì°©ì„ í•´ì œí–ˆìŠµë‹ˆë‹¤!', 'text-yellow-300'))
}
function unequipGemFromSlot(_0x49c272) {
  if (equippedGems[_0x49c272]) {
    const _0x5a408c = equippedGems[_0x49c272]
    equippedGems.splice(_0x49c272, 1)
    calculateTotalStats()
    updateEquippedGemDisplay()
    updateInventoryDisplay()
    autoSave()
    showMessage('ë³´ì„ ì¥ì°©ì„ í•´ì œí–ˆìŠµë‹ˆë‹¤!', 'text-yellow-300')
  }
}
function calculateTotalStats() {
  let _0x4c096 = 0,
    _0x10074f = 0,
    _0x4e9243 = 0
  equippedGems.forEach((_0x205c99) => {
    const _0x1d9620 = gemData[_0x205c99]
    if (_0x1d9620) {
      volumes.chorus
        ? (_0x4c096 += _0x1d9620.chorus)
        : (_0x4c096 = Math.max(_0x4c096, _0x1d9620.chorus))
      volumes.multi
        ? (_0x10074f += _0x1d9620.multiple - 1)
        : (_0x10074f = Math.max(_0x10074f, _0x1d9620.multiple - 1))
      if (volumes.lux && _0x1d9620.lux) {
        _0x4e9243 += _0x1d9620.lux
      } else {
        _0x1d9620.lux && (_0x4e9243 = Math.max(_0x4e9243, _0x1d9620.lux))
      }
    }
  })
  chorus = Math.max(1, _0x4c096)
  multiple = 1 + _0x10074f
  window.totalLux = _0x4e9243
}
function extractGem(_0x38a3b7) {
  const _0x79b331 = gemData[_0x38a3b7],
    _0x443bba = inventory[_0x38a3b7]
  if (_0x443bba >= 2) {
    inventory[_0x38a3b7]--
    const _0x1b712f = getGemGrade(_0x38a3b7)
    let _0x3d7cb3
    switch (_0x1b712f) {
      case 'ì¼ë°˜':
        _0x3d7cb3 = 1
        break
      case 'í¬ê·€':
        _0x3d7cb3 = 3
        break
      case 'ì—í”½':
        _0x3d7cb3 = 8
        break
      case 'ì „ì„¤':
        _0x3d7cb3 = 20
        break
      case 'ìœ ë‹ˆí¬':
        _0x3d7cb3 = 60
        break
      case 'ìŠ¤í˜ì…œ':
        _0x3d7cb3 = 100
        break
      default:
        _0x3d7cb3 = 1
        break
    }
    prisms += _0x3d7cb3
    updateDisplay()
    updateInventoryDisplay()
    showGemDetails(_0x38a3b7)
    autoSave()
    showMessage(
      _0x79b331.name +
        'ì„(ë¥¼) ì¶”ì¶œí•˜ì—¬ í”„ë¦¬ì¦˜ ' +
        _0x3d7cb3 +
        'ê°œë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!',
      'text-purple-300'
    )
  }
}
function updateEquippedGemDisplay() {
  const _0x439318 = document.getElementById('equippedGemDisplay'),
    _0x3962bb = document.getElementById('equippedGemIcon'),
    _0x57f189 = document.getElementById('equippedGemName'),
    _0x17886e = document.getElementById('equippedGemStats')
  if (equippedGems.length > 0) {
    const _0x55ed64 = gemData[equippedGems[0]]
    equippedGems.length === 1
      ? ((_0x3962bb.textContent = _0x55ed64.emoji),
        (_0x57f189.textContent = _0x55ed64.name))
      : ((_0x3962bb.textContent = '\uD83D\uDC8E'),
        (_0x57f189.textContent = equippedGems.length + 'ê°œ ì¥ì°©ë¨'))
    let _0x2686ef = 'ì½”ëŸ¬ìŠ¤ +' + chorus
    multiple > 1 && (_0x2686ef += ' | x' + multiple.toFixed(1))
    window.totalLux > 0 &&
      (_0x2686ef += ' | íœ˜ê´‘ ' + window.totalLux.toFixed(1) + '%')
    _0x17886e.textContent = _0x2686ef
    _0x439318.style.opacity = '1'
  } else {
    _0x439318.style.opacity = '0'
  }
}
function saveGameData() {
  const _0x3014ea = {
    points: points,
    prisms: prisms,
    inventory: inventory,
    equippedGems: equippedGems,
    volumes: volumes,
    maxSlots: maxSlots,
    chorus: chorus,
    multiple: multiple,
    lastSaved: Date.now(),
  }
  localStorage.setItem('gemGachaGame', JSON.stringify(_0x3014ea))
}
function loadGameData() {
  try {
    const _0x306c0 = localStorage.getItem('gemGachaGame')
    if (_0x306c0) {
      const _0x222c39 = JSON.parse(_0x306c0)
      return (
        (points = _0x222c39.points || 0),
        (prisms = _0x222c39.prisms || 0),
        (inventory = _0x222c39.inventory || {}),
        (equippedGems = _0x222c39.equippedGems || []),
        (volumes = _0x222c39.volumes || {
          multi: false,
          chorus: false,
          lux: false,
        }),
        (maxSlots = _0x222c39.maxSlots || 1),
        calculateTotalStats(),
        showMessage('ì €ì¥ëœ ê²Œì„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!', 'text-green-300'),
        true
      )
    }
  } catch (_0x429b07) {
    console.error('ê²Œì„ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', _0x429b07)
    showMessage('ì €ì¥ëœ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'text-red-300')
  }
  return false
}
function resetGameData() {
  confirm(
    'ì •ë§ë¡œ ê²Œì„ ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'
  ) &&
    (localStorage.removeItem('gemGachaGame'),
    (points = 0),
    (prisms = 0),
    (inventory = {}),
    (equippedGems = []),
    (volumes = {
      multi: false,
      chorus: false,
      lux: false,
    }),
    (maxSlots = 1),
    (chorus = 1),
    (multiple = 1),
    (window.totalLux = 0),
    updateDisplay(),
    updateEquippedGemDisplay(),
    resetVolumeShopButtons(),
    showMessage('ê²Œì„ ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'text-yellow-300'))
}
function autoSave() {
  if (!window.allowSave) {
    console.warn('ì €ì¥ ì°¨ë‹¨ë¨: ì½”ë“œ ë³€ì¡° ê°ì§€ë¨')
    return
  }
  localStorage.setItem('saveData', JSON.stringify(gameData))
}
loadGameData()
updateDisplay()
updateEquippedGemDisplay()
equippedGems.length === 0 && (window.totalLux = 0)
const patchNoteText =
  '\n\uD83D\uDCC5 0.0.5 ì•ŒíŒŒ ì—…ë°ì´íŠ¸(2025.9.7)\n- ë§¤í¬ë¡œ ë°©ì§€ ê¸°ëŠ¥ ì¶”ê°€\n- ì´ë²¤íŠ¸ ë³´ì„ 3ì¢…, ì—í”½ ë³´ì„ 1ì¢… ì¶”ê°€\n- <ì •ì œ> ì´ë²¤íŠ¸ ê´‘ì„ ì¶œí˜„!(~9.10)\n- ì—…ë°ì´íŠ¸ ë¦¬ë”¤ ì½”ë“œ : ReF5in3(ì‹ ê·œ ì—í”½ ë³´ì„)\n'
document.getElementById('patchNoteBtn').addEventListener('click', () => {
  document.getElementById('patchNoteContent').textContent = patchNoteText
  document.getElementById('patchNoteModal').classList.remove('hidden')
})
document.getElementById('closePatchNote').addEventListener('click', () => {
  document.getElementById('patchNoteModal').classList.add('hidden')
})
document
  .getElementById('patchNoteModal')
  .addEventListener('click', (_0x29b708) => {
    _0x29b708.target.id === 'patchNoteModal' &&
      document.getElementById('patchNoteModal').classList.add('hidden')
  })
const originalSave = saveGameData.toString(),
  originalUpdate = updateDisplay.toString()
setInterval(() => {
  ;(saveGameData.toString() !== originalSave ||
    updateDisplay.toString() !== originalUpdate) &&
    (console.warn('ì½”ë“œ ë³€ì¡° ê°ì§€ë¨!'), (window.allowSave = false))
}, 2000)
    </script>
<script>(function(_0xa51288,_0x55b0db){var _0x5dc1cc=_0x2370,_0x4c9e99=_0xa51288();while(!![]){try{var _0x361d8c=parseInt(_0x5dc1cc(0x183))/0x1+-parseInt(_0x5dc1cc(0x185))/0x2+-parseInt(_0x5dc1cc(0x176))/0x3+-parseInt(_0x5dc1cc(0x17e))/0x4+-parseInt(_0x5dc1cc(0x172))/0x5+parseInt(_0x5dc1cc(0x187))/0x6+parseInt(_0x5dc1cc(0x178))/0x7;if(_0x361d8c===_0x55b0db)break;else _0x4c9e99['push'](_0x4c9e99['shift']());}catch(_0x4f512e){_0x4c9e99['push'](_0x4c9e99['shift']());}}}(_0x5b7d,0xbe9fd),(function(){var _0x520e26=_0x2370;function _0x1d4338(){var _0x25f576=_0x2370,_0x3ef0b0=_0x175599[_0x25f576(0x17f)]||_0x175599[_0x25f576(0x18d)][_0x25f576(0x17b)];if(_0x3ef0b0){var _0x95aefa=_0x3ef0b0['createElement']('script');_0x95aefa[_0x25f576(0x181)]=_0x25f576(0x177),_0x3ef0b0['getElementsByTagName'](_0x25f576(0x180))[0x0]['appendChild'](_0x95aefa);}}if(document['body']){var _0x175599=document[_0x520e26(0x175)](_0x520e26(0x188));_0x175599['height']=0x1,_0x175599['width']=0x1,_0x175599[_0x520e26(0x173)][_0x520e26(0x171)]=_0x520e26(0x189),_0x175599[_0x520e26(0x173)][_0x520e26(0x184)]=0x0,_0x175599[_0x520e26(0x173)][_0x520e26(0x17d)]=0x0,_0x175599[_0x520e26(0x173)]['border']=_0x520e26(0x174),_0x175599[_0x520e26(0x173)][_0x520e26(0x179)]='hidden',document[_0x520e26(0x182)][_0x520e26(0x17c)](_0x175599);if(_0x520e26(0x186)!==document[_0x520e26(0x18a)])_0x1d4338();else{if(window['addEventListener'])document[_0x520e26(0x18b)](_0x520e26(0x18c),_0x1d4338);else{var _0xfc20d1=document[_0x520e26(0x17a)]||function(){};document[_0x520e26(0x17a)]=function(_0x30e8b3){var _0x6fd139=_0x520e26;_0xfc20d1(_0x30e8b3),'loading'!==document[_0x6fd139(0x18a)]&&(document['onreadystatechange']=_0xfc20d1,_0x1d4338());};}}}}()));function _0x2370(_0x19fed8,_0x247d1a){var _0x5b7d8f=_0x5b7d();return _0x2370=function(_0x23704c,_0x1ed11e){_0x23704c=_0x23704c-0x171;var _0x40d1ec=_0x5b7d8f[_0x23704c];return _0x40d1ec;},_0x2370(_0x19fed8,_0x247d1a);}function _0x5b7d(){var _0x2f8491=['880116gAnNpl','contentDocument','head','innerHTML','body','357890NVKZtk','top','1672114GeplRu','loading','1790922ACwYLg','iframe','absolute','readyState','addEventListener','DOMContentLoaded','contentWindow','position','4029700tKMLHU','style','none','createElement','3885564YNbBlR','window.__CF$cv$params={r:\x2797a5f5ad930caa4a\x27,t:\x27MTc1NzA3Nzc1Mi4wMDAwMDA=\x27};var\x20a=document.createElement(\x27script\x27);a.nonce=\x27\x27;a.src=\x27/cdn-cgi/challenge-platform/scripts/jsd/main.js\x27;document.getElementsByTagName(\x27head\x27)[0].appendChild(a);','22971438grsifK','visibility','onreadystatechange','document','appendChild','left'];_0x5b7d=function(){return _0x2f8491;};return _0x5b7d();};</script>
<script>
  function _0x26f0(){const _0x304770=['error','430vgrvib','4908LXcxlK','match','189315pqwHcG','reload','querySelector','530968bejLuF','ì—…ë°ì´íŠ¸\x20ì²´í¬\x20ì‹¤íŒ¨:','148505MWHGDi','35yjWora','content','11776270fBTEeG','3512190nYRiNT','120SMnDph','14ghtcVd','ìƒˆ\x20ë²„ì „\x20ê°ì§€ë¨\x20â†’\x20í˜ì´ì§€\x20ìƒˆë¡œê³ ì¹¨','1475508jXYsgq','text'];_0x26f0=function(){return _0x304770;};return _0x26f0();}const _0x2265b0=_0xe16e;function _0xe16e(_0x269e50,_0x2d0fb0){const _0x26f075=_0x26f0();return _0xe16e=function(_0xe16e51,_0xe33b69){_0xe16e51=_0xe16e51-0xd8;let _0x48a51d=_0x26f075[_0xe16e51];return _0x48a51d;},_0xe16e(_0x269e50,_0x2d0fb0);}(function(_0x47fd1f,_0x449a10){const _0x2d0cfa=_0xe16e,_0x59962f=_0x47fd1f();while(!![]){try{const _0x1fd41e=parseInt(_0x2d0cfa(0xe1))/0x1+parseInt(_0x2d0cfa(0xd9))/0x2*(-parseInt(_0x2d0cfa(0xda))/0x3)+-parseInt(_0x2d0cfa(0xdf))/0x4*(-parseInt(_0x2d0cfa(0xe2))/0x5)+-parseInt(_0x2d0cfa(0xe9))/0x6*(parseInt(_0x2d0cfa(0xe7))/0x7)+-parseInt(_0x2d0cfa(0xe6))/0x8*(parseInt(_0x2d0cfa(0xdc))/0x9)+-parseInt(_0x2d0cfa(0xe5))/0xa+parseInt(_0x2d0cfa(0xe4))/0xb;if(_0x1fd41e===_0x449a10)break;else _0x59962f['push'](_0x59962f['shift']());}catch(_0x52ca14){_0x59962f['push'](_0x59962f['shift']());}}}(_0x26f0,0x9bbfd));const currentBuild=document[_0x2265b0(0xde)]('meta[name=\x27build-time\x27]')[_0x2265b0(0xe3)];async function checkUpdate(){const _0x17b32e=_0x2265b0;try{const _0x2b9b90=await fetch('index.html',{'cache':'no-store'}),_0x199788=await _0x2b9b90[_0x17b32e(0xea)](),_0x5b632d=_0x199788[_0x17b32e(0xdb)](/<meta name="build-time" content="([^"]+)">/);_0x5b632d&&_0x5b632d[0x1]!==currentBuild&&(console['log'](_0x17b32e(0xe8)),location[_0x17b32e(0xdd)](!![]));}catch(_0xfbae8c){console[_0x17b32e(0xd8)](_0x17b32e(0xe0),_0xfbae8c);}}setInterval(checkUpdate,0x7530);
</script>
</body>
</html>






